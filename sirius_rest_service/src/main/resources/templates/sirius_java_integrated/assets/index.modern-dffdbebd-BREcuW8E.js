import{s as Hd,k as Ud,r as S,m as Gd,n as Tl,a as Pe,j as J,_,o as it,p as Ke,u as Ve,q as xe,v as _e,w as Z,x as Ye,C as Wd,y as Kd,f as Nl,z as Vd,B as Yd,A as Zd,D as Qd,E as jl,F as aa,H as Xd,I as Jd,M as ef,J as tf,K as rf,L as oi,N as nf,O as of,Q as af,R as ai,S as sf,U as ii,V as si,W as lf,X as cf,Y as uf,Z as Ll,$ as Wr,a0 as df,l as bt,a1 as ff,a2 as w,a3 as vf,T as pf,P as hf,a4 as Dl,a5 as _l,a6 as j,a7 as Xr,a8 as On,a9 as Rl,aa as $t,ab as ge,ac as xt,ad as ia,ae as Kt,af as Fe,ag as Tn,ah as me,ai as ye,aj as Lt,ak as mf,al as gf,am as $l,an as wt,ao as Er,ap as Ir,aq as yf,ar as Fl,as as Nn,at as Ao,au as ln,av as cn,aw as Pr,ax as Se,ay as Bl,az as zl,aA as bf,aB as tt,h as W,aC as li,aD as sa,aE as xf,aF as wf,aG as jn,aH as Cf,aI as la,aJ as Sf,aK as ci,aL as ql,aM as Mf,aN as Af,aO as un,aP as rt,aQ as Ef,aR as If,aS as Pf,aT as Hl,aU as Ln,aV as Ul,i as Ge,aW as dn,aX as At,aY as ui,aZ as Eo,a_ as kf,a$ as di,b0 as ca,b1 as Gl,b2 as Wl,b3 as Of,b4 as fn,b5 as Kl,b6 as Tf,b7 as Nf,b8 as jf,b9 as Lf,ba as Df,bb as _f,bc as Rf,g as Io,bd as Vl,be as Yl,bf as Zl,bg as dr,bh as mt,bi as $f,bj as Ql,bk as Ff,bl as Bf,bm as Xl,bn as zf,bo as qf,bp as Hf,bq as Uf,br as Gf,bs as Wf,bt as Kf,bu as Vf,bv as Yf,bw as Zf,bx as Qf,by as Xf,c as Jf,b as ev,d as Po,e as tv,t as fi}from"./index-oVHzNB3-.js";import{j as f,a as E,F as ee}from"./emotion-react-jsx-runtime.browser.esm-C_zdpLmL.js";function Jl(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Jl(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rv(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Jl(e))&&(n&&(n+=" "),n+=t);return n}const nv=["className","component"];function ov(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,a=Hd("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Ud);return S.forwardRef(function(l,c){const u=Gd(r),d=Tl(l),{className:v,component:h="div"}=d,p=Pe(d,nv);return J.jsx(a,_({as:h,ref:c,className:rv(v,o?o(n):n),theme:t&&u[t]||u},p))})}function Xn(e,t){var r,n;return S.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function av(e){return it("MuiTypography",e)}Ke("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const iv=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],sv=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:a,classes:i}=e,s={root:["root",a,e.align!=="inherit"&&`align${Z(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return Ye(s,av,i)},lv=xe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Z(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>_({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),vi={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},cv={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uv=e=>cv[e]||e,mr=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiTypography"}),o=uv(n.color),a=Tl(_({},n,{color:o})),{align:i="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:v="body1",variantMapping:h=vi}=a,p=Pe(a,iv),m=_({},a,{align:i,color:o,className:s,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:v,variantMapping:h}),g=l||(d?"p":h[v]||vi[v])||"span",b=sv(m);return J.jsx(lv,_({as:g,ref:r,ownerState:m,className:_e(b.root,s)},p))}),dv=Ke("MuiBox",["root"]),fv=Nl(),ec=ov({themeId:Kd,defaultTheme:fv,defaultClassName:dv.root,generateClassName:Wd.generate});function vv(e){return it("MuiButtonGroup",e)}const ve=Ke("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),pv=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],hv=(e,t)=>{const{ownerState:r}=e;return[{[`& .${ve.grouped}`]:t.grouped},{[`& .${ve.grouped}`]:t[`grouped${Z(r.orientation)}`]},{[`& .${ve.grouped}`]:t[`grouped${Z(r.variant)}`]},{[`& .${ve.grouped}`]:t[`grouped${Z(r.variant)}${Z(r.orientation)}`]},{[`& .${ve.grouped}`]:t[`grouped${Z(r.variant)}${Z(r.color)}`]},{[`& .${ve.firstButton}`]:t.firstButton},{[`& .${ve.lastButton}`]:t.lastButton},{[`& .${ve.middleButton}`]:t.middleButton},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},mv=e=>{const{classes:t,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:i,variant:s}=e,l={root:["root",s,i==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${Z(i)}`,`grouped${Z(s)}`,`grouped${Z(s)}${Z(i)}`,`grouped${Z(s)}${Z(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ye(l,vv,t)},gv=xe("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:hv})(({theme:e,ownerState:t})=>_({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${ve.grouped}`]:_({minWidth:40,"&:hover":_({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${ve.firstButton},& .${ve.middleButton}`]:_({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Qd(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":_({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${ve.lastButton},& .${ve.middleButton}`]:_({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),yv=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiButtonGroup"}),{children:o,className:a,color:i="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:v=!1,orientation:h="horizontal",size:p="medium",variant:m="outlined"}=n,g=Pe(n,pv),b=_({},n,{color:i,component:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:v,orientation:h,size:p,variant:m}),y=mv(b),C=S.useMemo(()=>({className:y.grouped,color:i,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:v,size:p,variant:m}),[i,l,c,u,d,v,p,m,y.grouped]),x=Vd(o),M=x.length,A=I=>{const P=I===0,k=I===M-1;return P&&k?"":P?y.firstButton:k?y.lastButton:y.middleButton};return J.jsx(gv,_({as:s,role:"group",className:_e(y.root,a),ref:r,ownerState:b},g,{children:J.jsx(Yd.Provider,{value:C,children:x.map((I,P)=>J.jsx(Zd.Provider,{value:A(P),children:I},P))})}))});function bv(e){return it("MuiDialog",e)}const Jn=Ke("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),tc=S.createContext({}),xv=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],wv=xe(tf,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Cv=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:a}=e,i={root:["root"],container:["container",`scroll${Z(r)}`],paper:["paper",`paperScroll${Z(r)}`,`paperWidth${Z(String(n))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return Ye(i,bv,t)},Sv=xe(ef,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Mv=xe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${Z(r.scroll)}`]]}})(({ownerState:e})=>_({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Av=xe(aa,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${Z(r.scroll)}`],t[`paperWidth${Z(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>_({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Jn.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Jn.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Jn.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ev=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiDialog"}),o=jl(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:v=!1,fullScreen:h=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClick:b,onClose:y,open:C,PaperComponent:x=aa,PaperProps:M={},scroll:A="paper",TransitionComponent:I=Xd,transitionDuration:P=a,TransitionProps:k}=n,N=Pe(n,xv),O=_({},n,{disableEscapeKeyDown:v,fullScreen:h,fullWidth:p,maxWidth:m,scroll:A}),B=Cv(O),G=S.useRef(),D=L=>{G.current=L.target===L.currentTarget},R=L=>{b&&b(L),G.current&&(G.current=null,g&&g(L),y&&y(L,"backdropClick"))},$=Jd(s),q=S.useMemo(()=>({titleId:$}),[$]);return J.jsx(Sv,_({className:_e(B.root,d),closeAfterTransition:!0,components:{Backdrop:wv},componentsProps:{backdrop:_({transitionDuration:P,as:l},c)},disableEscapeKeyDown:v,onClose:y,open:C,ref:r,onClick:R,ownerState:O},N,{children:J.jsx(I,_({appear:!0,in:C,timeout:P,role:"presentation"},k,{children:J.jsx(Mv,{className:_e(B.container),onMouseDown:D,ownerState:O,children:J.jsx(Av,_({as:x,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":$},M,{className:_e(B.paper,M.className),ownerState:O,children:J.jsx(tc.Provider,{value:q,children:u})}))})}))}))});function Iv(e){return it("MuiDialogActions",e)}Ke("MuiDialogActions",["root","spacing"]);const Pv=["className","disableSpacing"],kv=e=>{const{classes:t,disableSpacing:r}=e;return Ye({root:["root",!r&&"spacing"]},Iv,t)},Ov=xe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>_({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Tv=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:a=!1}=n,i=Pe(n,Pv),s=_({},n,{disableSpacing:a}),l=kv(s);return J.jsx(Ov,_({className:_e(l.root,o),ownerState:s,ref:r},i))});function Nv(e){return it("MuiDialogContent",e)}Ke("MuiDialogContent",["root","dividers"]);function jv(e){return it("MuiDialogTitle",e)}const Lv=Ke("MuiDialogTitle",["root"]),Dv=["className","dividers"],_v=e=>{const{classes:t,dividers:r}=e;return Ye({root:["root",r&&"dividers"]},Nv,t)},Rv=xe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>_({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Lv.root} + &`]:{paddingTop:0}})),$v=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiDialogContent"}),{className:o,dividers:a=!1}=n,i=Pe(n,Dv),s=_({},n,{dividers:a}),l=_v(s);return J.jsx(Rv,_({className:_e(l.root,o),ownerState:s,ref:r},i))}),Fv=["className","id"],Bv=e=>{const{classes:t}=e;return Ye({root:["root"]},jv,t)},zv=xe(mr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),qv=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiDialogTitle"}),{className:o,id:a}=n,i=Pe(n,Fv),s=n,l=Bv(s),{titleId:c=a}=S.useContext(tc);return J.jsx(zv,_({component:"h2",className:_e(l.root,o),ownerState:s,ref:r,variant:"h6",id:a??c},i))});function Hv(e){return it("MuiFormControl",e)}Ke("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Uv=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Gv=e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root",r!=="none"&&`margin${Z(r)}`,n&&"fullWidth"]};return Ye(o,Hv,t)},Wv=xe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>_({},t.root,t[`margin${Z(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>_({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Kv=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiFormControl"}),{children:o,className:a,color:i="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:v=!1,margin:h="none",required:p=!1,size:m="medium",variant:g="outlined"}=n,b=Pe(n,Uv),y=_({},n,{color:i,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:v,margin:h,required:p,size:m,variant:g}),C=Gv(y),[x,M]=S.useState(()=>{let G=!1;return o&&S.Children.forEach(o,D=>{if(!Xn(D,["Input","Select"]))return;const R=Xn(D,["Select"])?D.props.input:D;R&&rf(R.props)&&(G=!0)}),G}),[A,I]=S.useState(()=>{let G=!1;return o&&S.Children.forEach(o,D=>{Xn(D,["Input","Select"])&&(oi(D.props,!0)||oi(D.props.inputProps,!0))&&(G=!0)}),G}),[P,k]=S.useState(!1);l&&P&&k(!1);const N=u!==void 0&&!l?u:P;let O;const B=S.useMemo(()=>({adornedStart:x,setAdornedStart:M,color:i,disabled:l,error:c,filled:A,focused:N,fullWidth:d,hiddenLabel:v,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{k(!0)},registerEffect:O,required:p,variant:g}),[x,i,l,c,A,N,d,v,O,p,m,g]);return J.jsx(nf.Provider,{value:B,children:J.jsx(Wv,_({as:s,ownerState:y,className:_e(C.root,a),ref:r},b,{children:o}))})}),Vv=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Yv=e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:a}=e;return Ye({root:["root",r&&"inset",a&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},af,t)},Zv=xe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${ai.primary}`]:t.primary},{[`& .${ai.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>_({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Qv=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiListItemText"}),{children:o,className:a,disableTypography:i=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,v=Pe(n,Vv),{dense:h}=S.useContext(of);let p=l??o,m=u;const g=_({},n,{disableTypography:i,inset:s,primary:!!p,secondary:!!m,dense:h}),b=Yv(g);return p!=null&&p.type!==mr&&!i&&(p=J.jsx(mr,_({variant:h?"body2":"body1",className:b.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:p}))),m!=null&&m.type!==mr&&!i&&(m=J.jsx(mr,_({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},d,{children:m}))),J.jsxs(Zv,_({className:_e(b.root,a),ownerState:g,ref:r},v,{children:[p,m]}))});function Xv(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:o,resumeHideDuration:a}=e,i=sf();S.useEffect(()=>{if(!o)return;function b(y){y.defaultPrevented||(y.key==="Escape"||y.key==="Esc")&&(n==null||n(y,"escapeKeyDown"))}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[o,n]);const s=ii((b,y)=>{n==null||n(b,y)}),l=ii(b=>{!n||b==null||i.start(b,()=>{s(null,"timeout")})});S.useEffect(()=>(o&&l(t),i.clear),[o,t,l,i]);const c=b=>{n==null||n(b,"clickaway")},u=i.clear,d=S.useCallback(()=>{t!=null&&l(a??t*.5)},[t,a,l]),v=b=>y=>{const C=b.onBlur;C==null||C(y),d()},h=b=>y=>{const C=b.onFocus;C==null||C(y),u()},p=b=>y=>{const C=b.onMouseEnter;C==null||C(y),u()},m=b=>y=>{const C=b.onMouseLeave;C==null||C(y),d()};return S.useEffect(()=>{if(!r&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[r,o,d,u]),{getRootProps:(b={})=>{const y=_({},si(e),si(b));return _({role:"presentation"},b,y,{onBlur:v(y),onFocus:h(y),onMouseEnter:p(y),onMouseLeave:m(y)})},onClickAway:c}}function Jv(e){return it("MuiSnackbarContent",e)}Ke("MuiSnackbarContent",["root","message","action"]);const ep=["action","className","message","role"],tp=e=>{const{classes:t}=e;return Ye({root:["root"],action:["action"],message:["message"]},Jv,t)},rp=xe(aa,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=lf(e.palette.background.default,t);return _({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),np=xe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),op=xe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ap=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiSnackbarContent"}),{action:o,className:a,message:i,role:s="alert"}=n,l=Pe(n,ep),c=n,u=tp(c);return J.jsxs(rp,_({role:s,square:!0,elevation:6,className:_e(u.root,a),ownerState:c,ref:r},l,{children:[J.jsx(np,{className:u.message,ownerState:c,children:i}),o?J.jsx(op,{className:u.action,ownerState:c,children:o}):null]}))});function ip(e){return it("MuiSnackbar",e)}Ke("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const sp=["onEnter","onExited"],lp=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],cp=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${Z(r.vertical)}${Z(r.horizontal)}`]};return Ye(n,ip,t)},pi=xe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${Z(r.anchorOrigin.vertical)}${Z(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return _({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:_({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),up=S.forwardRef(function(t,r){const n=Ve({props:t,name:"MuiSnackbar"}),o=jl(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:v,ContentProps:h,disableWindowBlurListener:p=!1,message:m,open:g,TransitionComponent:b=cf,transitionDuration:y=a,TransitionProps:{onEnter:C,onExited:x}={}}=n,M=Pe(n.TransitionProps,sp),A=Pe(n,lp),I=_({},n,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:p,TransitionComponent:b,transitionDuration:y}),P=cp(I),{getRootProps:k,onClickAway:N}=Xv(_({},I)),[O,B]=S.useState(!0),G=uf({elementType:pi,getSlotProps:k,externalForwardedProps:A,ownerState:I,additionalProps:{ref:r},className:[P.root,d]}),D=$=>{B(!0),x&&x($)},R=($,q)=>{B(!1),C&&C($,q)};return!g&&O?null:J.jsx(Ll,_({onClickAway:N},v,{children:J.jsx(pi,_({},G,{children:J.jsx(b,_({appear:!0,in:g,timeout:y,direction:s==="top"?"down":"up",onEnter:R,onExited:D},M,{children:u||J.jsx(ap,_({message:m,action:i},h))}))}))}))});function dp(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var rc=dp;function fp(){this.__data__=[],this.size=0}var vp=fp;function pp(e,t){return e===t||e!==e&&t!==t}var nc=pp,hp=nc;function mp(e,t){for(var r=e.length;r--;)if(hp(e[r][0],t))return r;return-1}var Dn=mp,gp=Dn,yp=Array.prototype,bp=yp.splice;function xp(e){var t=this.__data__,r=gp(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bp.call(t,r,1),--this.size,!0}var wp=xp,Cp=Dn;function Sp(e){var t=this.__data__,r=Cp(t,e);return r<0?void 0:t[r][1]}var Mp=Sp,Ap=Dn;function Ep(e){return Ap(this.__data__,e)>-1}var Ip=Ep,Pp=Dn;function kp(e,t){var r=this.__data__,n=Pp(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Op=kp,Tp=vp,Np=wp,jp=Mp,Lp=Ip,Dp=Op;function er(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}er.prototype.clear=Tp;er.prototype.delete=Np;er.prototype.get=jp;er.prototype.has=Lp;er.prototype.set=Dp;var _n=er,_p=_n;function Rp(){this.__data__=new _p,this.size=0}var $p=Rp;function Fp(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Bp=Fp;function zp(e){return this.__data__.get(e)}var qp=zp;function Hp(e){return this.__data__.has(e)}var Up=Hp,Gp=typeof Wr=="object"&&Wr&&Wr.Object===Object&&Wr,oc=Gp,Wp=oc,Kp=typeof self=="object"&&self&&self.Object===Object&&self,Vp=Wp||Kp||Function("return this")(),Ze=Vp,Yp=Ze,Zp=Yp.Symbol,Fr=Zp,hi=Fr,ac=Object.prototype,Qp=ac.hasOwnProperty,Xp=ac.toString,fr=hi?hi.toStringTag:void 0;function Jp(e){var t=Qp.call(e,fr),r=e[fr];try{e[fr]=void 0;var n=!0}catch{}var o=Xp.call(e);return n&&(t?e[fr]=r:delete e[fr]),o}var eh=Jp,th=Object.prototype,rh=th.toString;function nh(e){return rh.call(e)}var oh=nh,mi=Fr,ah=eh,ih=oh,sh="[object Null]",lh="[object Undefined]",gi=mi?mi.toStringTag:void 0;function ch(e){return e==null?e===void 0?lh:sh:gi&&gi in Object(e)?ah(e):ih(e)}var tr=ch;function uh(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Br=uh,dh=tr,fh=Br,vh="[object AsyncFunction]",ph="[object Function]",hh="[object GeneratorFunction]",mh="[object Proxy]";function gh(e){if(!fh(e))return!1;var t=dh(e);return t==ph||t==hh||t==vh||t==mh}var ic=gh,yh=Ze,bh=yh["__core-js_shared__"],xh=bh,eo=xh,yi=function(){var e=/[^.]+$/.exec(eo&&eo.keys&&eo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wh(e){return!!yi&&yi in e}var Ch=wh,Sh=Function.prototype,Mh=Sh.toString;function Ah(e){if(e!=null){try{return Mh.call(e)}catch{}try{return e+""}catch{}}return""}var sc=Ah,Eh=ic,Ih=Ch,Ph=Br,kh=sc,Oh=/[\\^$.*+?()[\]{}|]/g,Th=/^\[object .+?Constructor\]$/,Nh=Function.prototype,jh=Object.prototype,Lh=Nh.toString,Dh=jh.hasOwnProperty,_h=RegExp("^"+Lh.call(Dh).replace(Oh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rh(e){if(!Ph(e)||Ih(e))return!1;var t=Eh(e)?_h:Th;return t.test(kh(e))}var $h=Rh;function Fh(e,t){return e==null?void 0:e[t]}var Bh=Fh,zh=$h,qh=Bh;function Hh(e,t){var r=qh(e,t);return zh(r)?r:void 0}var Dt=Hh,Uh=Dt,Gh=Ze,Wh=Uh(Gh,"Map"),ua=Wh,Kh=Dt,Vh=Kh(Object,"create"),Rn=Vh,bi=Rn;function Yh(){this.__data__=bi?bi(null):{},this.size=0}var Zh=Yh;function Qh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xh=Qh,Jh=Rn,em="__lodash_hash_undefined__",tm=Object.prototype,rm=tm.hasOwnProperty;function nm(e){var t=this.__data__;if(Jh){var r=t[e];return r===em?void 0:r}return rm.call(t,e)?t[e]:void 0}var om=nm,am=Rn,im=Object.prototype,sm=im.hasOwnProperty;function lm(e){var t=this.__data__;return am?t[e]!==void 0:sm.call(t,e)}var cm=lm,um=Rn,dm="__lodash_hash_undefined__";function fm(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=um&&t===void 0?dm:t,this}var vm=fm,pm=Zh,hm=Xh,mm=om,gm=cm,ym=vm;function rr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rr.prototype.clear=pm;rr.prototype.delete=hm;rr.prototype.get=mm;rr.prototype.has=gm;rr.prototype.set=ym;var bm=rr,xi=bm,xm=_n,wm=ua;function Cm(){this.size=0,this.__data__={hash:new xi,map:new(wm||xm),string:new xi}}var Sm=Cm;function Mm(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Am=Mm,Em=Am;function Im(e,t){var r=e.__data__;return Em(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $n=Im,Pm=$n;function km(e){var t=Pm(this,e).delete(e);return this.size-=t?1:0,t}var Om=km,Tm=$n;function Nm(e){return Tm(this,e).get(e)}var jm=Nm,Lm=$n;function Dm(e){return Lm(this,e).has(e)}var _m=Dm,Rm=$n;function $m(e,t){var r=Rm(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Fm=$m,Bm=Sm,zm=Om,qm=jm,Hm=_m,Um=Fm;function nr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nr.prototype.clear=Bm;nr.prototype.delete=zm;nr.prototype.get=qm;nr.prototype.has=Hm;nr.prototype.set=Um;var lc=nr,Gm=_n,Wm=ua,Km=lc,Vm=200;function Ym(e,t){var r=this.__data__;if(r instanceof Gm){var n=r.__data__;if(!Wm||n.length<Vm-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Km(n)}return r.set(e,t),this.size=r.size,this}var Zm=Ym,Qm=_n,Xm=$p,Jm=Bp,eg=qp,tg=Up,rg=Zm;function or(e){var t=this.__data__=new Qm(e);this.size=t.size}or.prototype.clear=Xm;or.prototype.delete=Jm;or.prototype.get=eg;or.prototype.has=tg;or.prototype.set=rg;var ng=or;function og(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ag=og,ig=Dt,sg=function(){try{var e=ig(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cc=sg,wi=cc;function lg(e,t,r){t=="__proto__"&&wi?wi(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var uc=lg,cg=uc,ug=nc,dg=Object.prototype,fg=dg.hasOwnProperty;function vg(e,t,r){var n=e[t];(!(fg.call(e,t)&&ug(n,r))||r===void 0&&!(t in e))&&cg(e,t,r)}var dc=vg,pg=dc,hg=uc;function mg(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),o?hg(r,s,l):pg(r,s,l)}return r}var zr=mg;function gg(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yg=gg;function bg(e){return e!=null&&typeof e=="object"}var _t=bg,xg=tr,wg=_t,Cg="[object Arguments]";function Sg(e){return wg(e)&&xg(e)==Cg}var Mg=Sg,Ci=Mg,Ag=_t,fc=Object.prototype,Eg=fc.hasOwnProperty,Ig=fc.propertyIsEnumerable,Pg=Ci(function(){return arguments}())?Ci:function(e){return Ag(e)&&Eg.call(e,"callee")&&!Ig.call(e,"callee")},vc=Pg,kg=Array.isArray,Rt=kg,vn={exports:{}};function Og(){return!1}var Tg=Og;vn.exports;(function(e,t){var r=Ze,n=Tg,o=t&&!t.nodeType&&t,a=o&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===o,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(vn,vn.exports);var pc=vn.exports,Ng=9007199254740991,jg=/^(?:0|[1-9]\d*)$/;function Lg(e,t){var r=typeof e;return t=t??Ng,!!t&&(r=="number"||r!="symbol"&&jg.test(e))&&e>-1&&e%1==0&&e<t}var Dg=Lg,_g=9007199254740991;function Rg(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_g}var hc=Rg,$g=tr,Fg=hc,Bg=_t,zg="[object Arguments]",qg="[object Array]",Hg="[object Boolean]",Ug="[object Date]",Gg="[object Error]",Wg="[object Function]",Kg="[object Map]",Vg="[object Number]",Yg="[object Object]",Zg="[object RegExp]",Qg="[object Set]",Xg="[object String]",Jg="[object WeakMap]",e0="[object ArrayBuffer]",t0="[object DataView]",r0="[object Float32Array]",n0="[object Float64Array]",o0="[object Int8Array]",a0="[object Int16Array]",i0="[object Int32Array]",s0="[object Uint8Array]",l0="[object Uint8ClampedArray]",c0="[object Uint16Array]",u0="[object Uint32Array]",X={};X[r0]=X[n0]=X[o0]=X[a0]=X[i0]=X[s0]=X[l0]=X[c0]=X[u0]=!0;X[zg]=X[qg]=X[e0]=X[Hg]=X[t0]=X[Ug]=X[Gg]=X[Wg]=X[Kg]=X[Vg]=X[Yg]=X[Zg]=X[Qg]=X[Xg]=X[Jg]=!1;function d0(e){return Bg(e)&&Fg(e.length)&&!!X[$g(e)]}var f0=d0;function v0(e){return function(t){return e(t)}}var da=v0,pn={exports:{}};pn.exports;(function(e,t){var r=oc,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a&&r.process,s=function(){try{var l=o&&o.require&&o.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(pn,pn.exports);var fa=pn.exports,p0=f0,h0=da,Si=fa,Mi=Si&&Si.isTypedArray,m0=Mi?h0(Mi):p0,g0=m0,y0=yg,b0=vc,x0=Rt,w0=pc,C0=Dg,S0=g0,M0=Object.prototype,A0=M0.hasOwnProperty;function E0(e,t){var r=x0(e),n=!r&&b0(e),o=!r&&!n&&w0(e),a=!r&&!n&&!o&&S0(e),i=r||n||o||a,s=i?y0(e.length,String):[],l=s.length;for(var c in e)(t||A0.call(e,c))&&!(i&&(c=="length"||o&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||C0(c,l)))&&s.push(c);return s}var mc=E0,I0=Object.prototype;function P0(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||I0;return e===r}var va=P0;function k0(e,t){return function(r){return e(t(r))}}var gc=k0,O0=gc,T0=O0(Object.keys,Object),N0=T0,j0=va,L0=N0,D0=Object.prototype,_0=D0.hasOwnProperty;function R0(e){if(!j0(e))return L0(e);var t=[];for(var r in Object(e))_0.call(e,r)&&r!="constructor"&&t.push(r);return t}var $0=R0,F0=ic,B0=hc;function z0(e){return e!=null&&B0(e.length)&&!F0(e)}var yc=z0,q0=mc,H0=$0,U0=yc;function G0(e){return U0(e)?q0(e):H0(e)}var pa=G0,W0=zr,K0=pa;function V0(e,t){return e&&W0(t,K0(t),e)}var Y0=V0;function Z0(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Q0=Z0,X0=Br,J0=va,e1=Q0,t1=Object.prototype,r1=t1.hasOwnProperty;function n1(e){if(!X0(e))return e1(e);var t=J0(e),r=[];for(var n in e)n=="constructor"&&(t||!r1.call(e,n))||r.push(n);return r}var o1=n1,a1=mc,i1=o1,s1=yc;function l1(e){return s1(e)?a1(e,!0):i1(e)}var ha=l1,c1=zr,u1=ha;function d1(e,t){return e&&c1(t,u1(t),e)}var f1=d1,hn={exports:{}};hn.exports;(function(e,t){var r=Ze,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,v=s?s(d):new c.constructor(d);return c.copy(v),v}e.exports=l})(hn,hn.exports);var v1=hn.exports;function p1(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var h1=p1;function m1(e,t){for(var r=-1,n=e==null?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}var g1=m1;function y1(){return[]}var bc=y1,b1=g1,x1=bc,w1=Object.prototype,C1=w1.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,S1=Ai?function(e){return e==null?[]:(e=Object(e),b1(Ai(e),function(t){return C1.call(e,t)}))}:x1,ma=S1,M1=zr,A1=ma;function E1(e,t){return M1(e,A1(e),t)}var I1=E1;function P1(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var ga=P1,k1=gc,O1=k1(Object.getPrototypeOf,Object),ya=O1,T1=ga,N1=ya,j1=ma,L1=bc,D1=Object.getOwnPropertySymbols,_1=D1?function(e){for(var t=[];e;)T1(t,j1(e)),e=N1(e);return t}:L1,xc=_1,R1=zr,$1=xc;function F1(e,t){return R1(e,$1(e),t)}var B1=F1,z1=ga,q1=Rt;function H1(e,t,r){var n=t(e);return q1(e)?n:z1(n,r(e))}var wc=H1,U1=wc,G1=ma,W1=pa;function K1(e){return U1(e,W1,G1)}var V1=K1,Y1=wc,Z1=xc,Q1=ha;function X1(e){return Y1(e,Q1,Z1)}var Cc=X1,J1=Dt,ey=Ze,ty=J1(ey,"DataView"),ry=ty,ny=Dt,oy=Ze,ay=ny(oy,"Promise"),iy=ay,sy=Dt,ly=Ze,cy=sy(ly,"Set"),uy=cy,dy=Dt,fy=Ze,vy=dy(fy,"WeakMap"),py=vy,ko=ry,Oo=ua,To=iy,No=uy,jo=py,Sc=tr,ar=sc,Ei="[object Map]",hy="[object Object]",Ii="[object Promise]",Pi="[object Set]",ki="[object WeakMap]",Oi="[object DataView]",my=ar(ko),gy=ar(Oo),yy=ar(To),by=ar(No),xy=ar(jo),Et=Sc;(ko&&Et(new ko(new ArrayBuffer(1)))!=Oi||Oo&&Et(new Oo)!=Ei||To&&Et(To.resolve())!=Ii||No&&Et(new No)!=Pi||jo&&Et(new jo)!=ki)&&(Et=function(e){var t=Sc(e),r=t==hy?e.constructor:void 0,n=r?ar(r):"";if(n)switch(n){case my:return Oi;case gy:return Ei;case yy:return Ii;case by:return Pi;case xy:return ki}return t});var ba=Et,wy=Object.prototype,Cy=wy.hasOwnProperty;function Sy(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Cy.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var My=Sy,Ay=Ze,Ey=Ay.Uint8Array,Iy=Ey,Ti=Iy;function Py(e){var t=new e.constructor(e.byteLength);return new Ti(t).set(new Ti(e)),t}var xa=Py,ky=xa;function Oy(e,t){var r=t?ky(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Ty=Oy,Ny=/\w*$/;function jy(e){var t=new e.constructor(e.source,Ny.exec(e));return t.lastIndex=e.lastIndex,t}var Ly=jy,Ni=Fr,ji=Ni?Ni.prototype:void 0,Li=ji?ji.valueOf:void 0;function Dy(e){return Li?Object(Li.call(e)):{}}var _y=Dy,Ry=xa;function $y(e,t){var r=t?Ry(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Fy=$y,By=xa,zy=Ty,qy=Ly,Hy=_y,Uy=Fy,Gy="[object Boolean]",Wy="[object Date]",Ky="[object Map]",Vy="[object Number]",Yy="[object RegExp]",Zy="[object Set]",Qy="[object String]",Xy="[object Symbol]",Jy="[object ArrayBuffer]",eb="[object DataView]",tb="[object Float32Array]",rb="[object Float64Array]",nb="[object Int8Array]",ob="[object Int16Array]",ab="[object Int32Array]",ib="[object Uint8Array]",sb="[object Uint8ClampedArray]",lb="[object Uint16Array]",cb="[object Uint32Array]";function ub(e,t,r){var n=e.constructor;switch(t){case Jy:return By(e);case Gy:case Wy:return new n(+e);case eb:return zy(e,r);case tb:case rb:case nb:case ob:case ab:case ib:case sb:case lb:case cb:return Uy(e,r);case Ky:return new n;case Vy:case Qy:return new n(e);case Yy:return qy(e);case Zy:return new n;case Xy:return Hy(e)}}var db=ub,fb=Br,Di=Object.create,vb=function(){function e(){}return function(t){if(!fb(t))return{};if(Di)return Di(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),pb=vb,hb=pb,mb=ya,gb=va;function yb(e){return typeof e.constructor=="function"&&!gb(e)?hb(mb(e)):{}}var bb=yb,xb=ba,wb=_t,Cb="[object Map]";function Sb(e){return wb(e)&&xb(e)==Cb}var Mb=Sb,Ab=Mb,Eb=da,_i=fa,Ri=_i&&_i.isMap,Ib=Ri?Eb(Ri):Ab,Pb=Ib,kb=ba,Ob=_t,Tb="[object Set]";function Nb(e){return Ob(e)&&kb(e)==Tb}var jb=Nb,Lb=jb,Db=da,$i=fa,Fi=$i&&$i.isSet,_b=Fi?Db(Fi):Lb,Rb=_b,$b=ng,Fb=ag,Bb=dc,zb=Y0,qb=f1,Hb=v1,Ub=h1,Gb=I1,Wb=B1,Kb=V1,Vb=Cc,Yb=ba,Zb=My,Qb=db,Xb=bb,Jb=Rt,ex=pc,tx=Pb,rx=Br,nx=Rb,ox=pa,ax=ha,ix=1,sx=2,lx=4,Mc="[object Arguments]",cx="[object Array]",ux="[object Boolean]",dx="[object Date]",fx="[object Error]",Ac="[object Function]",vx="[object GeneratorFunction]",px="[object Map]",hx="[object Number]",Ec="[object Object]",mx="[object RegExp]",gx="[object Set]",yx="[object String]",bx="[object Symbol]",xx="[object WeakMap]",wx="[object ArrayBuffer]",Cx="[object DataView]",Sx="[object Float32Array]",Mx="[object Float64Array]",Ax="[object Int8Array]",Ex="[object Int16Array]",Ix="[object Int32Array]",Px="[object Uint8Array]",kx="[object Uint8ClampedArray]",Ox="[object Uint16Array]",Tx="[object Uint32Array]",Y={};Y[Mc]=Y[cx]=Y[wx]=Y[Cx]=Y[ux]=Y[dx]=Y[Sx]=Y[Mx]=Y[Ax]=Y[Ex]=Y[Ix]=Y[px]=Y[hx]=Y[Ec]=Y[mx]=Y[gx]=Y[yx]=Y[bx]=Y[Px]=Y[kx]=Y[Ox]=Y[Tx]=!0;Y[fx]=Y[Ac]=Y[xx]=!1;function Jr(e,t,r,n,o,a){var i,s=t&ix,l=t&sx,c=t&lx;if(r&&(i=o?r(e,n,o,a):r(e)),i!==void 0)return i;if(!rx(e))return e;var u=Jb(e);if(u){if(i=Zb(e),!s)return Ub(e,i)}else{var d=Yb(e),v=d==Ac||d==vx;if(ex(e))return Hb(e,s);if(d==Ec||d==Mc||v&&!o){if(i=l||v?{}:Xb(e),!s)return l?Wb(e,qb(i,e)):Gb(e,zb(i,e))}else{if(!Y[d])return o?e:{};i=Qb(e,d,s)}}a||(a=new $b);var h=a.get(e);if(h)return h;a.set(e,i),nx(e)?e.forEach(function(g){i.add(Jr(g,t,r,g,e,a))}):tx(e)&&e.forEach(function(g,b){i.set(b,Jr(g,t,r,b,e,a))});var p=c?l?Vb:Kb:l?ax:ox,m=u?void 0:p(e);return Fb(m||e,function(g,b){m&&(b=g,g=e[b]),Bb(i,b,Jr(g,t,r,b,e,a))}),i}var Nx=Jr,jx=tr,Lx=_t,Dx="[object Symbol]";function _x(e){return typeof e=="symbol"||Lx(e)&&jx(e)==Dx}var wa=_x,Rx=Rt,$x=wa,Fx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bx=/^\w*$/;function zx(e,t){if(Rx(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$x(e)?!0:Bx.test(e)||!Fx.test(e)||t!=null&&e in Object(t)}var qx=zx,Ic=lc,Hx="Expected a function";function Ca(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hx);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Ca.Cache||Ic),r}Ca.Cache=Ic;var Ux=Ca,Gx=Ux,Wx=500;function Kx(e){var t=Gx(e,function(n){return r.size===Wx&&r.clear(),n}),r=t.cache;return t}var Vx=Kx,Yx=Vx,Zx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qx=/\\(\\)?/g,Xx=Yx(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Zx,function(r,n,o,a){t.push(o?a.replace(Qx,"$1"):n||r)}),t}),Jx=Xx,Bi=Fr,ew=rc,tw=Rt,rw=wa,zi=Bi?Bi.prototype:void 0,qi=zi?zi.toString:void 0;function Pc(e){if(typeof e=="string")return e;if(tw(e))return ew(e,Pc)+"";if(rw(e))return qi?qi.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nw=Pc,ow=nw;function aw(e){return e==null?"":ow(e)}var iw=aw,sw=Rt,lw=qx,cw=Jx,uw=iw;function dw(e,t){return sw(e)?e:lw(e,t)?[e]:cw(uw(e))}var Sa=dw;function fw(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vw=fw,pw=wa;function hw(e){if(typeof e=="string"||pw(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kc=hw,mw=Sa,gw=kc;function yw(e,t){t=mw(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[gw(t[r++])];return r&&r==n?e:void 0}var bw=yw;function xw(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}var ww=xw,Cw=bw,Sw=ww;function Mw(e,t){return t.length<2?e:Cw(e,Sw(t,0,-1))}var Aw=Mw,Ew=Sa,Iw=vw,Pw=Aw,kw=kc;function Ow(e,t){return t=Ew(t,e),e=Pw(e,t),e==null||delete e[kw(Iw(t))]}var Tw=Ow,Nw=tr,jw=ya,Lw=_t,Dw="[object Object]",_w=Function.prototype,Rw=Object.prototype,Oc=_w.toString,$w=Rw.hasOwnProperty,Fw=Oc.call(Object);function Bw(e){if(!Lw(e)||Nw(e)!=Dw)return!1;var t=jw(e);if(t===null)return!0;var r=$w.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Oc.call(r)==Fw}var zw=Bw,qw=zw;function Hw(e){return qw(e)?void 0:e}var Uw=Hw,Hi=Fr,Gw=vc,Ww=Rt,Ui=Hi?Hi.isConcatSpreadable:void 0;function Kw(e){return Ww(e)||Gw(e)||!!(Ui&&e&&e[Ui])}var Vw=Kw,Yw=ga,Zw=Vw;function Tc(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=Zw),o||(o=[]);++a<i;){var s=e[a];t>0&&r(s)?t>1?Tc(s,t-1,r,n,o):Yw(o,s):n||(o[o.length]=s)}return o}var Qw=Tc,Xw=Qw;function Jw(e){var t=e==null?0:e.length;return t?Xw(e,1):[]}var eC=Jw;function tC(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rC=tC,nC=rC,Gi=Math.max;function oC(e,t,r){return t=Gi(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Gi(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),nC(e,this,s)}}var aC=oC;function iC(e){return function(){return e}}var sC=iC;function lC(e){return e}var cC=lC,uC=sC,Wi=cc,dC=cC,fC=Wi?function(e,t){return Wi(e,"toString",{configurable:!0,enumerable:!1,value:uC(t),writable:!0})}:dC,vC=fC,pC=800,hC=16,mC=Date.now;function gC(e){var t=0,r=0;return function(){var n=mC(),o=hC-(n-r);if(r=n,o>0){if(++t>=pC)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var yC=gC,bC=vC,xC=yC,wC=xC(bC),CC=wC,SC=eC,MC=aC,AC=CC;function EC(e){return AC(MC(e,void 0,SC),e+"")}var IC=EC,PC=rc,kC=Nx,OC=Tw,TC=Sa,NC=zr,jC=Uw,LC=IC,DC=Cc,_C=1,RC=2,$C=4,FC=LC(function(e,t){var r={};if(e==null)return r;var n=!1;t=PC(t,function(a){return a=TC(a,e),n||(n=a.length>1),a}),NC(e,DC(e),r),n&&(r=kC(r,_C|RC|$C,jC));for(var o=t.length;o--;)OC(r,t[o]);return r}),BC=FC;const zC=df(BC);function Le(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ct(e){return!!e&&!!e[ne]}function nt(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===ZC}(e)||Array.isArray(e)||!!e[Ji]||!!(!((t=e.constructor)===null||t===void 0)&&t[Ji])||Ma(e)||Aa(e))}function Nt(e,t,r){r===void 0&&(r=!1),ir(e)===0?(r?Object.keys:zt)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function ir(e){var t=e[ne];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ma(e)?2:Aa(e)?3:0}function Bt(e,t){return ir(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qC(e,t){return ir(e)===2?e.get(t):e[t]}function Nc(e,t,r){var n=ir(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function jc(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Ma(e){return VC&&e instanceof Map}function Aa(e){return YC&&e instanceof Set}function It(e){return e.o||e.t}function Ea(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Dc(e);delete t[ne];for(var r=zt(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Ia(e,t){return t===void 0&&(t=!1),Pa(e)||Ct(e)||!nt(e)||(ir(e)>1&&(e.set=e.add=e.clear=e.delete=HC),Object.freeze(e),t&&Nt(e,function(r,n){return Ia(n,!0)},!0)),e}function HC(){Le(2)}function Pa(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function qe(e){var t=Ro[e];return t||Le(18,e),t}function UC(e,t){Ro[e]||(Ro[e]=t)}function Lo(){return kr}function to(e,t){t&&(qe("Patches"),e.u=[],e.s=[],e.v=t)}function mn(e){Do(e),e.p.forEach(GC),e.p=null}function Do(e){e===kr&&(kr=e.l)}function Ki(e){return kr={p:[],l:kr,h:e,m:!0,_:0}}function GC(e){var t=e[ne];t.i===0||t.i===1?t.j():t.g=!0}function ro(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||qe("ES5").S(t,e,n),n?(r[ne].P&&(mn(t),Le(4)),nt(e)&&(e=gn(t,e),t.l||yn(t,e)),t.u&&qe("Patches").M(r[ne].t,e,t.u,t.s)):e=gn(t,r,[]),mn(t),t.u&&t.v(t.u,t.s),e!==Lc?e:void 0}function gn(e,t,r){if(Pa(t))return t;var n=t[ne];if(!n)return Nt(t,function(s,l){return Vi(e,n,t,s,l,r)},!0),t;if(n.A!==e)return t;if(!n.P)return yn(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=Ea(n.k):n.o,a=o,i=!1;n.i===3&&(a=new Set(o),o.clear(),i=!0),Nt(a,function(s,l){return Vi(e,n,o,s,l,r,i)}),yn(e,o,!1),r&&e.u&&qe("Patches").N(n,r,e.u,e.s)}return n.o}function Vi(e,t,r,n,o,a,i){if(Ct(o)){var s=gn(e,o,a&&t&&t.i!==3&&!Bt(t.R,n)?a.concat(n):void 0);if(Nc(r,n,s),!Ct(s))return;e.m=!1}else i&&r.add(o);if(nt(o)&&!Pa(o)){if(!e.h.D&&e._<1)return;gn(e,o),t&&t.A.l||yn(e,o)}}function yn(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Ia(t,r)}function no(e,t){var r=e[ne];return(r?It(r):e)[t]}function Yi(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function vt(e){e.P||(e.P=!0,e.l&&vt(e.l))}function oo(e){e.o||(e.o=Ea(e.t))}function _o(e,t,r){var n=Ma(t)?qe("MapSet").F(t,r):Aa(t)?qe("MapSet").T(t,r):e.O?function(o,a){var i=Array.isArray(o),s={i:i?1:0,A:a?a.A:Lo(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},l=s,c=Or;i&&(l=[s],c=gr);var u=Proxy.revocable(l,c),d=u.revoke,v=u.proxy;return s.k=v,s.j=d,v}(t,r):qe("ES5").J(t,r);return(r?r.A:Lo()).p.push(n),n}function WC(e){return Ct(e)||Le(22,e),function t(r){if(!nt(r))return r;var n,o=r[ne],a=ir(r);if(o){if(!o.P&&(o.i<4||!qe("ES5").K(o)))return o.t;o.I=!0,n=Zi(r,a),o.I=!1}else n=Zi(r,a);return Nt(n,function(i,s){o&&qC(o.t,i)===s||Nc(n,i,t(s))}),a===3?new Set(n):n}(e)}function Zi(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ea(e)}function KC(){function e(a,i){var s=o[a];return s?s.enumerable=i:o[a]=s={configurable:!0,enumerable:i,get:function(){var l=this[ne];return Or.get(l,a)},set:function(l){var c=this[ne];Or.set(c,a,l)}},s}function t(a){for(var i=a.length-1;i>=0;i--){var s=a[i][ne];if(!s.P)switch(s.i){case 5:n(s)&&vt(s);break;case 4:r(s)&&vt(s)}}}function r(a){for(var i=a.t,s=a.k,l=zt(s),c=l.length-1;c>=0;c--){var u=l[c];if(u!==ne){var d=i[u];if(d===void 0&&!Bt(i,u))return!0;var v=s[u],h=v&&v[ne];if(h?h.t!==d:!jc(v,d))return!0}}var p=!!i[ne];return l.length!==zt(i).length+(p?0:1)}function n(a){var i=a.k;if(i.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(i,i.length-1);if(s&&!s.get)return!0;for(var l=0;l<i.length;l++)if(!i.hasOwnProperty(l))return!0;return!1}var o={};UC("ES5",{J:function(a,i){var s=Array.isArray(a),l=function(u,d){if(u){for(var v=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(v,""+h,e(h,!0));return v}var p=Dc(d);delete p[ne];for(var m=zt(p),g=0;g<m.length;g++){var b=m[g];p[b]=e(b,u||!!p[b].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(s,a),c={i:s?5:4,A:i?i.A:Lo(),P:!1,I:!1,R:{},l:i,t:a,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ne,{value:c,writable:!0}),l},S:function(a,i,s){s?Ct(i)&&i[ne].A===a&&t(a.p):(a.u&&function l(c){if(c&&typeof c=="object"){var u=c[ne];if(u){var d=u.t,v=u.k,h=u.R,p=u.i;if(p===4)Nt(v,function(C){C!==ne&&(d[C]!==void 0||Bt(d,C)?h[C]||l(v[C]):(h[C]=!0,vt(u)))}),Nt(d,function(C){v[C]!==void 0||Bt(v,C)||(h[C]=!1,vt(u))});else if(p===5){if(n(u)&&(vt(u),h.length=!0),v.length<d.length)for(var m=v.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<v.length;g++)h[g]=!0;for(var b=Math.min(v.length,d.length),y=0;y<b;y++)v.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(v[y])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var Qi,kr,ka=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",VC=typeof Map<"u",YC=typeof Set<"u",Xi=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Lc=ka?Symbol.for("immer-nothing"):((Qi={})["immer-nothing"]=!0,Qi),Ji=ka?Symbol.for("immer-draftable"):"__$immer_draftable",ne=ka?Symbol.for("immer-state"):"__$immer_state",ZC=""+Object.prototype.constructor,zt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Dc=Object.getOwnPropertyDescriptors||function(e){var t={};return zt(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Ro={},Or={get:function(e,t){if(t===ne)return e;var r=It(e);if(!Bt(r,t))return function(o,a,i){var s,l=Yi(a,i);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,r,t);var n=r[t];return e.I||!nt(n)?n:n===no(e.t,t)?(oo(e),e.o[t]=_o(e.A.h,n,e)):n},has:function(e,t){return t in It(e)},ownKeys:function(e){return Reflect.ownKeys(It(e))},set:function(e,t,r){var n=Yi(It(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=no(It(e),t),a=o==null?void 0:o[ne];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(jc(r,o)&&(r!==void 0||Bt(e.t,t)))return!0;oo(e),vt(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return no(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,oo(e),vt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=It(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Le(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Le(12)}},gr={};Nt(Or,function(e,t){gr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),gr.deleteProperty=function(e,t){return gr.set.call(this,e,t,void 0)},gr.set=function(e,t,r){return Or.set.call(this,e[0],t,r,e[0])};var QC=function(){function e(r){var n=this;this.O=Xi,this.D=!0,this.produce=function(o,a,i){if(typeof o=="function"&&typeof a!="function"){var s=a;a=o;var l=n;return function(m){var g=this;m===void 0&&(m=s);for(var b=arguments.length,y=Array(b>1?b-1:0),C=1;C<b;C++)y[C-1]=arguments[C];return l.produce(m,function(x){var M;return(M=a).call.apply(M,[g,x].concat(y))})}}var c;if(typeof a!="function"&&Le(6),i!==void 0&&typeof i!="function"&&Le(7),nt(o)){var u=Ki(n),d=_o(n,o,void 0),v=!0;try{c=a(d),v=!1}finally{v?mn(u):Do(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(m){return to(u,i),ro(m,u)},function(m){throw mn(u),m}):(to(u,i),ro(c,u))}if(!o||typeof o!="object"){if((c=a(o))===void 0&&(c=o),c===Lc&&(c=void 0),n.D&&Ia(c,!0),i){var h=[],p=[];qe("Patches").M(o,c,h,p),i(h,p)}return c}Le(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),v=1;v<u;v++)d[v-1]=arguments[v];return n.produceWithPatches(c,function(h){return o.apply(void 0,[h].concat(d))})};var i,s,l=n.produce(o,a,function(c,u){i=c,s=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,i,s]}):[l,i,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){nt(r)||Le(8),Ct(r)&&(r=WC(r));var n=Ki(this),o=_o(this,r,void 0);return o[ne].C=!0,Do(n),o},t.finishDraft=function(r,n){var o=r&&r[ne],a=o.A;return to(a,n),ro(void 0,a)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Xi&&Le(20),this.O=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var i=qe("Patches").$;return Ct(r)?i(r,n):this.produce(r,function(s){return i(s,n)})},e}(),ke=new QC,_c=ke.produce;ke.produceWithPatches.bind(ke);ke.setAutoFreeze.bind(ke);ke.setUseProxies.bind(ke);ke.applyPatches.bind(ke);ke.createDraft.bind(ke);ke.finishDraft.bind(ke);var Rc=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XC=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Vt=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},JC=Object.defineProperty,eS=Object.defineProperties,tS=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,rS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,ts=function(e,t,r){return t in e?JC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},gt=function(e,t){for(var r in t||(t={}))rS.call(t,r)&&ts(e,r,t[r]);if(es)for(var n=0,o=es(t);n<o.length;n++){var r=o[n];nS.call(t,r)&&ts(e,r,t[r])}return e},ao=function(e,t){return eS(e,tS(t))},oS=function(e,t,r){return new Promise(function(n,o){var a=function(l){try{s(r.next(l))}catch(c){o(c)}},i=function(l){try{s(r.throw(l))}catch(c){o(c)}},s=function(l){return l.done?n(l.value):Promise.resolve(l.value).then(a,i)};s((r=r.apply(e,t)).next())})},aS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Po:Po.apply(null,arguments)};function iS(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function yt(e,t){function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return gt(gt({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var sS=function(e){Rc(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Vt([void 0],r[0].concat(this)))):new(t.bind.apply(t,Vt([void 0],r.concat(this))))},t}(Array),lS=function(e){Rc(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Vt([void 0],r[0].concat(this)))):new(t.bind.apply(t,Vt([void 0],r.concat(this))))},t}(Array);function $o(e){return nt(e)?_c(e,function(){}):e}function cS(e){return typeof e=="boolean"}function uS(){return function(t){return dS(t)}}function dS(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new sS;return r&&(cS(r)?n.push(fi):n.push(fi.withExtraArgument(r.extraArgument))),n}function fS(e){var t=uS(),r=e||{},n=r.reducer,o=n===void 0?void 0:n,a=r.middleware,i=a===void 0?t():a,s=r.devTools,l=s===void 0?!0:s,c=r.preloadedState,u=c===void 0?void 0:c,d=r.enhancers,v=d===void 0?void 0:d,h;if(typeof o=="function")h=o;else if(iS(o))h=Jf(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=i;typeof p=="function"&&(p=p(t));var m=ev.apply(void 0,p),g=Po;l&&(g=aS(gt({trace:!1},typeof l=="object"&&l)));var b=new lS(m),y=b;Array.isArray(v)?y=Vt([m],v):typeof v=="function"&&(y=v(b));var C=g.apply(void 0,y);return tv(h,u,C)}function $c(e){var t={},r=[],n,o={addCase:function(a,i){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=i,o},addMatcher:function(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase:function(a){return n=a,o}};return e(o),[t,r,n]}function vS(e){return typeof e=="function"}function pS(e,t,r,n){r===void 0&&(r=[]);var o=typeof t=="function"?$c(t):[t,r,n],a=o[0],i=o[1],s=o[2],l;if(vS(e))l=function(){return $o(e())};else{var c=$o(e);l=function(){return c}}function u(d,v){d===void 0&&(d=l());var h=Vt([a[v.type]],i.filter(function(p){var m=p.matcher;return m(v)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[s]),h.reduce(function(p,m){if(m)if(Ct(p)){var g=p,b=m(g,v);return b===void 0?p:b}else{if(nt(p))return _c(p,function(y){return m(y,v)});var b=m(p,v);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return p},d)}return u.getInitialState=l,u}function hS(e,t){return e+"/"+t}function Fn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:$o(e.initialState),n=e.reducers||{},o=Object.keys(n),a={},i={},s={};o.forEach(function(u){var d=n[u],v=hS(t,u),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,a[u]=h,i[v]=h,s[u]=p?yt(v,p):yt(v)});function l(){var u=typeof e.extraReducers=="function"?$c(e.extraReducers):[e.extraReducers],d=u[0],v=d===void 0?{}:d,h=u[1],p=h===void 0?[]:h,m=u[2],g=m===void 0?void 0:m,b=gt(gt({},v),i);return pS(r,function(y){for(var C in b)y.addCase(C,b[C]);for(var x=0,M=p;x<M.length;x++){var A=M[x];y.addMatcher(A.matcher,A.reducer)}g&&y.addDefaultCase(g)})}var c;return{name:t,reducer:function(u,d){return c||(c=l()),c(u,d)},actions:s,caseReducers:a,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var mS="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gS=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=mS[Math.random()*64|0];return t},yS=["name","message","stack","code"],io=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),rs=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),bS=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=yS;r<n.length;r++){var o=n[r];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}};(function(){function e(t,r,n){var o=yt(t+"/fulfilled",function(c,u,d,v){return{payload:c,meta:ao(gt({},v||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),a=yt(t+"/pending",function(c,u,d){return{payload:void 0,meta:ao(gt({},d||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),i=yt(t+"/rejected",function(c,u,d,v,h){return{payload:v,error:(n&&n.serializeError||bS)(c||"Rejected"),meta:ao(gt({},h||{}),{arg:d,requestId:u,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,d,v){var h=n!=null&&n.idGenerator?n.idGenerator(c):gS(),p=new s,m;function g(y){m=y,p.abort()}var b=function(){return oS(this,null,function(){var y,C,x,M,A,I,P;return XC(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),M=(y=n==null?void 0:n.condition)==null?void 0:y.call(n,c,{getState:d,extra:v}),wS(M)?[4,M]:[3,2];case 1:M=k.sent(),k.label=2;case 2:if(M===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(N,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:m||"Aborted"})})}),u(a(h,c,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:h,arg:c},{getState:d,extra:v}))),[4,Promise.race([A,Promise.resolve(r(c,{dispatch:u,getState:d,extra:v,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(N,O){return new io(N,O)},fulfillWithValue:function(N,O){return new rs(N,O)}})).then(function(N){if(N instanceof io)throw N;return N instanceof rs?o(N.payload,h,c,N.meta):o(N,h,c)})])];case 3:return x=k.sent(),[3,5];case 4:return I=k.sent(),x=I instanceof io?i(null,h,c,I.payload,I.meta):i(I,h,c),[3,5];case 5:return P=n&&!n.dispatchConditionRejection&&i.match(x)&&x.meta.condition,P||u(x),[2,x]}})})}();return Object.assign(b,{abort:g,requestId:h,arg:c,unwrap:function(){return b.then(xS)}})}}return Object.assign(l,{pending:a,rejected:i,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e})();function xS(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function wS(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Oa="listenerMiddleware";yt(Oa+"/add");yt(Oa+"/removeAll");yt(Oa+"/remove");var ns;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof Io<"u"?Io:globalThis);KC();var Re=function(t){return"@@redux-saga/"+t},CS=Re("CANCEL_PROMISE"),Fc=Re("CHANNEL_END"),Bc=Re("IO"),os=Re("MATCH"),zc=Re("MULTICAST"),qc=Re("SAGA_ACTION"),SS=Re("SELF_CANCELLATION"),MS=Re("TASK"),qt=Re("TASK_CANCEL"),Hc=Re("TERMINATE"),AS=Re("LOCATION"),Uc=function(t){return t==null},en=function(t){return t!=null},Ee=function(t){return typeof t=="function"},Ta=function(t){return typeof t=="string"},St=Array.isArray,Bn=function(t){return t&&Ee(t.then)},Na=function(t){return t&&Ee(t.next)&&Ee(t.throw)},as=function e(t){return t&&(Ta(t)||Wc(t)||Ee(t)||St(t)&&t.every(e))},ja=function(t){return t&&Ee(t.take)&&Ee(t.close)},Gc=function(t){return Ee(t)&&t.hasOwnProperty("toString")},Wc=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},ES=function(t){return ja(t)&&t[zc]},IS=function(t){return function(){return t}},PS=IS(!0),be=function(){},kS=function(t){return t},La=function(t,r){_(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){t[n]=r[n]})},OS=function(t,r){var n;return(n=[]).concat.apply(n,r.map(t))};function zn(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function TS(e){var t=!1;return function(){t||(t=!0,e())}}var NS=function(t){throw t},jS=function(t){return{value:t,done:!0}};function Fo(e,t,r){t===void 0&&(t=NS),r===void 0&&(r="iterator");var n={meta:{name:r},next:e,throw:t,return:jS,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function LS(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var Kc=function(t){return Array.apply(null,new Array(t))},DS=function(t){return function(r){return t(Object.defineProperty(r,qc,{value:!0}))}},Vc=function(t){return t===Hc},Yc=function(t){return t===qt},Zc=function(t){return Vc(t)||Yc(t)};function Qc(e,t){var r=Object.keys(e),n=r.length,o=0,a,i=St(e)?Kc(n):{},s={};function l(){o===n&&(a=!0,t(i))}return r.forEach(function(c){var u=function(v,h){a||(h||Zc(v)?(t.cancel(),t(v,h)):(i[c]=v,o++,l()))};u.cancel=be,s[c]=u}),t.cancel=function(){a||(a=!0,r.forEach(function(c){return s[c].cancel()}))},s}function Da(e){return{name:e.name||"anonymous",location:Xc(e)}}function Xc(e){return e[AS]}function _S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}var RS="Channel's Buffer overflow!",$S=1,FS=3,Jc=4;function BS(e,t){e===void 0&&(e=10);var r=new Array(e),n=0,o=0,a=0,i=function(u){r[o]=u,o=(o+1)%e,n++},s=function(){if(n!=0){var u=r[a];return r[a]=null,n--,a=(a+1)%e,u}},l=function(){for(var u=[];n;)u.push(s());return u};return{isEmpty:function(){return n==0},put:function(u){if(n<e)i(u);else{var d;switch(t){case $S:throw new Error(RS);case FS:r[o]=u,o=(o+1)%e,a=o;break;case Jc:d=2*e,r=l(),n=r.length,o=r.length,a=0,r.length=d,e=d,i(u);break}}},take:s,flush:l}}var zS=function(t){return BS(t,Jc)},tn="TAKE",eu="PUT",qS="ALL",HS="RACE",tu="CALL",US="CPS",_a="FORK",GS="JOIN",WS="CANCEL",KS="SELECT",VS="ACTION_CHANNEL",YS="CANCELLED",ZS="FLUSH",QS="GET_CONTEXT",XS="SET_CONTEXT",Ot=function(t,r){var n;return n={},n[Bc]=!0,n.combinator=!1,n.type=t,n.payload=r,n},JS=function(t){return Ot(_a,_({},t.payload,{detached:!0}))};function eM(e,t){if(e===void 0&&(e="*"),as(e))return en(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Ot(tn,{pattern:e});if(ES(e)&&en(t)&&as(t))return Ot(tn,{channel:e,pattern:t});if(ja(e))return en(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Ot(tn,{channel:e})}function so(e,t){return Uc(t)&&(t=e,e=void 0),Ot(eu,{channel:e,action:t})}function ru(e,t){var r=null,n;return Ee(e)?n=e:(St(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Ta(n)&&Ee(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function tM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ot(tu,ru(e,r))}function Ra(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ot(_a,ru(e,r))}function rM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return JS(Ra.apply(void 0,[e].concat(r)))}var is=function(t){return{done:!0,value:t}},lo={};function nM(e){return ja(e)?"channel":Gc(e)?String(e):Ee(e)?e.name:String(e)}function oM(e,t,r){var n,o,a,i=t;function s(l,c){if(i===lo)return is(l);if(c&&!o)throw i=lo,c;n&&n(l);var u=c?e[o](c):e[i]();return i=u.nextState,a=u.effect,n=u.stateUpdater,o=u.errorState,i===lo?is(l):a}return Fo(s,function(l){return s(null,l)},r)}function aM(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a={done:!1,value:eM(e)},i=function(u){return{done:!1,value:Ra.apply(void 0,[t].concat(n,[u]))}},s,l=function(u){return s=u};return oM({q1:function(){return{nextState:"q2",effect:a,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:i(s)}}},"q1","takeEvery("+nM(e)+", "+t.name+")")}function iM(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return Ra.apply(void 0,[aM,e,t].concat(n))}function sM(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var nu=[],qn=0;function lM(e){try{$a(),e()}finally{iu()}}function ou(e){nu.push(e),qn||($a(),su())}function au(e){try{return $a(),e()}finally{su()}}function $a(){qn++}function iu(){qn--}function su(){iu();for(var e;!qn&&(e=nu.shift())!==void 0;)lM(e)}var cM=function(t){return function(r){return t.some(function(n){return Fa(n)(r)})}},uM=function(t){return function(r){return t(r)}},ss=function(t){return function(r){return r.type===String(t)}},dM=function(t){return function(r){return r.type===t}},lu=function(){return PS};function Fa(e){var t=e==="*"?lu:Ta(e)?ss:St(e)?cM:Gc(e)?ss:Ee(e)?uM:Wc(e)?dM:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var wr={type:Fc},Ba=function(t){return t&&t.type===Fc};function fM(e){e===void 0&&(e=zS());var t=!1,r=[];function n(s){if(!t){if(r.length===0)return e.put(s);var l=r.shift();l(s)}}function o(s){t&&e.isEmpty()?s(wr):e.isEmpty()?(r.push(s),s.cancel=function(){zn(r,s)}):s(e.take())}function a(s){if(t&&e.isEmpty()){s(wr);return}s(e.flush())}function i(){if(!t){t=!0;var s=r;r=[];for(var l=0,c=s.length;l<c;l++){var u=s[l];u(wr)}}}return{take:o,put:n,flush:a,close:i}}function vM(){var e,t=!1,r=[],n=r,o=function(){n===r&&(n=r.slice())},a=function(){t=!0;var s=r=n;n=[],s.forEach(function(l){l(wr)})};return e={},e[zc]=!0,e.put=function(s){if(!t){if(Ba(s)){a();return}for(var l=r=n,c=0,u=l.length;c<u;c++){var d=l[c];d[os](s)&&(d.cancel(),d(s))}}},e.take=function(s,l){if(l===void 0&&(l=lu),t){s(wr);return}s[os]=l,o(),n.push(s),s.cancel=TS(function(){o(),zn(n,s)})},e.close=a,e}function cu(){var e=vM(),t=e.put;return e.put=function(r){if(r[qc]){t(r);return}ou(function(){t(r)})},e}var Pt=0,et=1,rn=2,uu=3;function za(e,t){var r=e[CS];Ee(r)&&(t.cancel=r),e.then(t,function(n){t(n,!0)})}var qr=0,du=function(){return++qr},de;function pM(e,t){return e.isSagaIterator?{name:e.meta.name}:Da(t)}function hM(e){var t=e.context,r=e.fn,n=e.args;try{var o=r.apply(t,n);if(Na(o))return o;var a=!1,i=function(l){return a?{value:l,done:!0}:(a=!0,{value:o,done:!Bn(o)})};return Fo(i)}catch(s){return Fo(function(){throw s})}}function mM(e,t,r){var n=t.channel,o=t.action,a=t.resolve;ou(function(){var i;try{i=(n?n.put:e.dispatch)(o)}catch(s){r(s,!0);return}a&&Bn(i)?za(i,r):r(i)})}function gM(e,t,r){var n=t.channel,o=n===void 0?e.channel:n,a=t.pattern,i=t.maybe,s=function(c){if(c instanceof Error){r(c,!0);return}if(Ba(c)&&!i){r(Hc);return}r(c)};try{o.take(s,en(a)?Fa(a):null)}catch(l){r(l,!0);return}r.cancel=s.cancel}function yM(e,t,r,n){var o=t.context,a=t.fn,i=t.args,s=n.task;try{var l=a.apply(o,i);if(Bn(l)){za(l,r);return}if(Na(l)){Hn(e,l,s.context,qr,Da(a),!1,r);return}r(l)}catch(c){r(c,!0)}}function bM(e,t,r){var n=t.context,o=t.fn,a=t.args;try{var i=function(l,c){Uc(l)?r(c):r(l,!0)};o.apply(n,a.concat(i)),i.cancel&&(r.cancel=i.cancel)}catch(s){r(s,!0)}}function xM(e,t,r,n){var o=t.context,a=t.fn,i=t.args,s=t.detached,l=n.task,c=hM({context:o,fn:a,args:i}),u=pM(c,a);au(function(){var d=Hn(e,c,l.context,qr,u,s,void 0);s?r(d):d.isRunning()?(l.queue.addTask(d),r(d)):d.isAborted()?l.queue.abort(d.error()):r(d)})}function wM(e,t,r,n){var o=n.task,a=function(l,c){if(l.isRunning()){var u={task:o,cb:c};c.cancel=function(){l.isRunning()&&zn(l.joiners,u)},l.joiners.push(u)}else l.isAborted()?c(l.error(),!0):c(l.result())};if(St(t)){if(t.length===0){r([]);return}var i=Qc(t,r);t.forEach(function(s,l){a(s,i[l])})}else a(t,r)}function co(e){e.isRunning()&&e.cancel()}function CM(e,t,r,n){var o=n.task;t===SS?co(o):St(t)?t.forEach(co):co(t),r()}function SM(e,t,r,n){var o=n.digestEffect,a=qr,i=Object.keys(t);if(i.length===0){r(St(t)?[]:{});return}var s=Qc(t,r);i.forEach(function(l){o(t[l],a,s[l],l)})}function MM(e,t,r,n){var o=n.digestEffect,a=qr,i=Object.keys(t),s=St(t)?Kc(i.length):{},l={},c=!1;i.forEach(function(u){var d=function(h,p){c||(p||Zc(h)?(r.cancel(),r(h,p)):(r.cancel(),c=!0,s[u]=h,r(s)))};d.cancel=be,l[u]=d}),r.cancel=function(){c||(c=!0,i.forEach(function(u){return l[u].cancel()}))},i.forEach(function(u){c||o(t[u],a,l[u],u)})}function AM(e,t,r){var n=t.selector,o=t.args;try{var a=n.apply(void 0,[e.getState()].concat(o));r(a)}catch(i){r(i,!0)}}function EM(e,t,r){var n=t.pattern,o=t.buffer,a=fM(o),i=Fa(n),s=function c(u){Ba(u)||e.channel.take(c,i),a.put(u)},l=a.close;a.close=function(){s.cancel(),l()},e.channel.take(s,i),r(a)}function IM(e,t,r,n){var o=n.task;r(o.isCancelled())}function PM(e,t,r){t.flush(r)}function kM(e,t,r,n){var o=n.task;r(o.context[t])}function OM(e,t,r,n){var o=n.task;La(o.context,t),r()}var TM=(de={},de[tn]=gM,de[eu]=mM,de[qS]=SM,de[HS]=MM,de[tu]=yM,de[US]=bM,de[_a]=xM,de[GS]=wM,de[WS]=CM,de[KS]=AM,de[VS]=EM,de[YS]=IM,de[ZS]=PM,de[QS]=kM,de[XS]=OM,de);function NM(e,t,r){var n=[],o,a=!1;l(e);var i=function(){return n};function s(u){t(),c(),r(u,!0)}function l(u){n.push(u),u.cont=function(d,v){a||(zn(n,u),u.cont=be,v?s(d):(u===e&&(o=d),n.length||(a=!0,r(o))))}}function c(){a||(a=!0,n.forEach(function(u){u.cont=be,u.cancel()}),n=[])}return{addTask:l,cancelAll:c,abort:s,getTasks:i}}function fu(e,t){return e+"?"+t}function jM(e){var t=Xc(e);if(t){var r=t.code,n=t.fileName,o=t.lineNumber,a=r+"  "+fu(n,o);return a}return""}function ls(e){var t=e.name,r=e.location;return r?t+"  "+fu(r.fileName,r.lineNumber):t}function LM(e){var t=OS(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var qa=null,Cr=[],DM=function(t){t.crashedEffect=qa,Cr.push(t)},vu=function(){qa=null,Cr.length=0},_M=function(t){qa=t},RM=function(){var t=Cr[0],r=Cr.slice(1),n=t.crashedEffect?jM(t.crashedEffect):null,o="The above error occurred in task "+ls(t.meta)+(n?` 
 when executing effect `+n:"");return[o].concat(r.map(function(a){return"    created by "+ls(a.meta)}),[LM(Cr)]).join(`
`)};function $M(e,t,r,n,o,a,i){var s;i===void 0&&(i=be);var l=Pt,c,u,d=null,v=[],h=Object.create(r),p=NM(t,function(){v.push.apply(v,p.getTasks().map(function(M){return M.meta.name}))},g);function m(){l===Pt&&(l=et,p.cancelAll(),g(qt,!1))}function g(x,M){if(!M)x===qt?l=et:l!==et&&(l=uu),c=x,d&&d.resolve(x);else{if(l=rn,DM({meta:o,cancelledTasks:v}),C.isRoot){var A=RM();vu(),e.onError(x,{sagaStack:A})}u=x,d&&d.reject(x)}C.cont(x,M),C.joiners.forEach(function(I){I.cb(x,M)}),C.joiners=null}function b(x){La(h,x)}function y(){return d||(d=sM(),l===rn?d.reject(u):l!==Pt&&d.resolve(c)),d.promise}var C=(s={},s[MS]=!0,s.id=n,s.meta=o,s.isRoot=a,s.context=h,s.joiners=[],s.queue=p,s.cancel=m,s.cont=i,s.end=g,s.setContext=b,s.toPromise=y,s.isRunning=function(){return l===Pt},s.isCancelled=function(){return l===et||l===Pt&&t.status===et},s.isAborted=function(){return l===rn},s.result=function(){return c},s.error=function(){return u},s);return C}function Hn(e,t,r,n,o,a,i){var s=e.finalizeRunEffect(h);v.cancel=be;var l={meta:o,cancel:d,status:Pt},c=$M(e,l,r,n,o,a,i),u={task:c,digestEffect:p};function d(){l.status===Pt&&(l.status=et,v(qt))}return i&&(i.cancel=c.cancel),v(),c;function v(m,g){try{var b;g?(b=t.throw(m),vu()):Yc(m)?(l.status=et,v.cancel(),b=Ee(t.return)?t.return(qt):{done:!0,value:qt}):Vc(m)?b=Ee(t.return)?t.return():{done:!0}:b=t.next(m),b.done?(l.status!==et&&(l.status=uu),l.cont(b.value)):p(b.value,n,v)}catch(y){if(l.status===et)throw y;l.status=rn,l.cont(y,!0)}}function h(m,g,b){if(Bn(m))za(m,b);else if(Na(m))Hn(e,m,c.context,g,o,!1,b);else if(m&&m[Bc]){var y=TM[m.type];y(e,m.payload,b,u)}else b(m)}function p(m,g,b,y){y===void 0&&(y="");var C=du();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:C,parentEffectId:g,label:y,effect:m});var x;function M(A,I){x||(x=!0,b.cancel=be,e.sagaMonitor&&(I?e.sagaMonitor.effectRejected(C,A):e.sagaMonitor.effectResolved(C,A)),I&&_M(m),b(A,I))}M.cancel=be,b.cancel=function(){x||(x=!0,M.cancel(),M.cancel=be,e.sagaMonitor&&e.sagaMonitor.effectCancelled(C))},s(m,C,M)}}function FM(e,t){for(var r=e.channel,n=r===void 0?cu():r,o=e.dispatch,a=e.getState,i=e.context,s=i===void 0?{}:i,l=e.sagaMonitor,c=e.effectMiddlewares,u=e.onError,d=u===void 0?LS:u,v=arguments.length,h=new Array(v>2?v-2:0),p=2;p<v;p++)h[p-2]=arguments[p];var m=t.apply(void 0,h),g=du();l&&(l.rootSagaStarted=l.rootSagaStarted||be,l.effectTriggered=l.effectTriggered||be,l.effectResolved=l.effectResolved||be,l.effectRejected=l.effectRejected||be,l.effectCancelled=l.effectCancelled||be,l.actionDispatched=l.actionDispatched||be,l.rootSagaStarted({effectId:g,saga:t,args:h}));var b;if(c){var y=_S.apply(void 0,c);b=function(M){return function(A,I,P){var k=function(O){return M(O,I,P)};return y(k)(A)}}}else b=kS;var C={channel:n,dispatch:DS(o),getState:a,sagaMonitor:l,onError:d,finalizeRunEffect:b};return au(function(){var x=Hn(C,m,s,g,Da(t),!0,void 0);return l&&l.effectResolved(g,x),x})}function BM(e){var t={},r=t.context,n=r===void 0?{}:r,o=t.channel,a=o===void 0?cu():o,i=t.sagaMonitor,s=Pe(t,["context","channel","sagaMonitor"]),l;function c(u){var d=u.getState,v=u.dispatch;return l=FM.bind(null,_({},s,{context:n,channel:a,dispatch:v,getState:d,sagaMonitor:i})),function(h){return function(p){i&&i.actionDispatched&&i.actionDispatched(p);var m=h(p);return a.put(p),m}}}return c.run=function(){return l.apply(void 0,arguments)},c.setContext=function(u){La(n,u)},c}var pe;(function(e){e.Monomer="monomer",e.Preset="preset",e.Bond="bond",e.AmbiguousMonomer="ambiguousMonomer"})(pe||(pe={}));var ze;(function(e){e.Library="library",e.ChainStart="chainStart",e.ChainMiddle="chainMiddle",e.ChainEnd="chainEnd"})(ze||(ze={}));var zM={isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,preview:{type:pe.Monomer,monomer:void 0,style:{}},position:void 0},Sr=Fn({name:"editor",initialState:zM,reducers:{init:function(t){t.isReady=!1},initSuccess:function(t){t.isReady=!0},initFailure:function(t){t.isReady=!1},selectTool:function(t,r){t.activeTool=r.payload},setPosition:function(t,r){t.position=r.payload},createEditor:function(t,r){t.editor=new Ln({theme:r.payload.theme,canvas:r.payload.canvas,mode:t.editorLayoutMode?new Xf[t.editorLayoutMode]:void 0,monomersLibraryUpdate:r.payload.monomersLibraryUpdate})},destroyEditor:function(t){t.editorLayoutMode=t.editor.mode.modeName,t.editor.switchToMicromolecules(),t.editor=void 0},showPreview:function(t,r){t.preview=r.payload||{monomer:void 0,style:""}}}}),Mt=Sr.actions,qM=Mt.init,HM=Mt.initSuccess,UM=Mt.initFailure,dt=Mt.selectTool,GM=Mt.createEditor,Yt=Mt.showPreview,WM=Mt.destroyEditor;Mt.setPosition;var Hr=function(t){return t.editor.preview},Un=function(t){return t.editor.activeTool},KM=function(t){return t.editor.position},se=function(t){return t.editor.editor},Qe=function(t){var r;return(r=t.editor.editor)===null||r===void 0?void 0:r.isSequenceEditInRNABuilderMode},VM=function(t){return t.editor.editorLayoutMode},YM=function(t){var r;return(r=t.editor.editor)===null||r===void 0?void 0:r.isHandToolSelected},pu=function(t){var r;return(r=t.editor.editor)===null||r===void 0||(r=r.drawingEntitiesManager)===null||r===void 0?void 0:r.hasAntisenseChains},ZM=Sr.reducer,QM=Ge.mark(hu),XM=Ge.mark(mu),JM="editor/fetchData",e5=function(){return new Promise(function(t){setTimeout(function(){return t("some data")},1e3)})};function hu(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,so(qM(Sr));case 2:return t.prev=2,t.next=5,tM(e5);case 5:return t.next=7,so(HM(Sr));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(2),dn.error("editorSaga.ts::fetchData",t.t0),t.next=14,so(UM(Sr));case 14:case"end":return t.stop()}},QM,null,[[2,9]])}function mu(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iM(JM,hu);case 2:case"end":return t.stop()}},XM)}var gu="FAVORITES",t5="PEPTIDE",Mr={PEPTIDE:"PEPTIDE",CHEM:"CHEM",RNA:"RNA"},K;(function(e){e.SUGARS="Sugars",e.BASES="Bases",e.PHOSPHATES="Phosphates",e.PEPTIDES="Amino acids",e.NUCLEOTIDES="Nucleotides"})(K||(K={}));var cs;(function(e){e.R="R",e.A="A",e.C="C",e.G="G",e.T="T",e.U="U",e.X="X",e.P="P"})(cs||(cs={}));var uo={R:K.SUGARS,A:K.BASES,C:K.BASES,G:K.BASES,T:K.BASES,U:K.BASES,X:K.BASES,P:K.PHOSPHATES},pt="favoriteItemsUniqueKeys",Zt="ketcher_custom_presets",us="Z",r5="No natural analogue",ds="thymine",fs="uracil",Tr={PEPTIDES:1,RNA:2},n5=function(){function e(){Zl(this,e),this.localStorage=window.localStorage}return Gl(e,[{key:"getItem",value:function(r){var n=this.localStorage.getItem(r);return n?JSON.parse(n):null}},{key:"setItem",value:function(r,n){this.localStorage.setItem(r,JSON.stringify(n))}},{key:"removeItem",value:function(r){this.localStorage.removeItem(r)}}]),e}(),Me=new n5;function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var o5=W(W({},mt.PEPTIDES,tt.AminoAcid),mt.BASES,tt.Base),a5={monomers:[],favorites:{},searchFilter:"",selectedTabIndex:Tr.RNA};function We(e){var t;return Se(e)?e.id||e.label:"".concat(e.props.MonomerName,"___").concat((t=e.props)===null||t===void 0?void 0:t.Name)}function i5(e){var t,r,n;return"".concat(e.name,"_").concat(((t=e.base)===null||t===void 0?void 0:t.label)||".","_").concat(((r=e.sugar)===null||r===void 0?void 0:r.label)||".","_").concat(((n=e.phosphate)===null||n===void 0?void 0:n.label)||".")}var yu=Fn({name:"library",initialState:a5,reducers:{loadMonomerLibrary:function(t,r){var n=r.payload.map(function(o){return Ce(Ce({},o),{},{props:Ce({},o.props)})});t.monomers=n},setFavoriteMonomersFromLocalStorage:function(t){var r={},n=Me.getItem(pt);!n||!Array.isArray(n)||(t.monomers.forEach(function(o){var a=We(o),i=n.find(function(s){return s===a});i&&(r[a]=Ce(Ce({},o),{},{favorite:!0}))}),t.favorites=r)},clearFavorites:function(t){t.favorites={}},toggleMonomerFavorites:function(t,r){var n=We(r.payload),o=Me.getItem(pt)||[];t.favorites[n]?(delete t.favorites[n],Me.setItem(pt,o.filter(function(a){return a!==n}))):(t.favorites[n]=Ce(Ce({},r.payload),{},{favorite:!0}),o.push(n),Me.setItem(pt,o))},setSearchFilter:function(t,r){t.searchFilter=r.payload},setSelectedTabIndex:function(t,r){t.selectedTabIndex=r.payload}}}),bu=function(t,r){return t.filter(function(n){var o;return!n.isAmbiguous&&((o=n.props)===null||o===void 0?void 0:o.MonomerType)===r})},Ha=function(t,r){var n=t.filter(function(i){if(!Se(i))return!1;var s=new wt(i,void 0,!1);return o5[r]===s.monomerClass});if(n.length===0)return[];var o=[];r===mt.BASES?o=[{groupTitle:"Ambiguous DNA Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(ds)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(fs)})})},{groupTitle:"Ambiguous Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.every(function(s){return!s.templateId.toLowerCase().includes(ds)&&!s.templateId.toLowerCase().includes(fs)})})}]:o.push({groupTitle:"Ambiguous ".concat(r),groupItems:n});var a=["X","N"];return o.forEach(function(i){i.groupItems.sort(function(s,l){return s.label.localeCompare(l.label)}),i.groupItems.sort(function(s){return a.includes(s.label)?-1:1})}),o},s5=function(t){return t.filter(function(r){var n,o;return!r.isAmbiguous&&(((n=r.props)===null||n===void 0?void 0:n.MonomerClass)===tt.RNA||((o=r.props)===null||o===void 0?void 0:o.MonomerClass)===tt.DNA)})},l5=function(t){return t.filter(function(r){return r.favorite&&!r.isAmbiguous})},c5=function(t){var r=[];for(var n in mt){var o=Ha(t,mt[n]);r=[].concat(ge(r),ge(o))}return r.forEach(function(a){a.groupItems=a.groupItems.filter(function(i){return i.favorite})}),r.filter(function(a){return a.groupItems.length})},xu=Of(function(e){return e.library},function(e){var t=e.searchFilter,r=e.monomers,n=e.favorites,o=t.toLowerCase(),a=function(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,v=l.toLowerCase(),h=c.toLowerCase(),p=u==null||(s=u.base)===null||s===void 0?void 0:s.toLowerCase(),m=u!=null&&u.modifications?Object.values(u.modifications).map(function(D){return D.toLowerCase()}).join(" "):"";if(d==="/")return!!(p||m);if(d.includes("/")){var g=d.split("/");if(g.length>3||g.length===3&&g[2]!=="")return!1;if(g.length===3&&g[1]!==""){var b=g[1],y=p&&p.length===b.length&&Array.from(p).every(function(D,R){return D===b[R]}),C=m?m.split(" ").some(function(D){return D.length===b.length&&Array.from(D).every(function(R,$){return R===b[$]})}):!1;return y||C}var x=g[0],M=g[1];if(d.startsWith("/")&&d.length>1){var A=d.slice(1);return p&&p.startsWith(A)||m&&m.split(" ").some(function(D){return D.startsWith(A)})}if(d.endsWith("/")&&d.length>1){var I=d.slice(0,-1),P=d[d.length-2];return p&&p.endsWith(I)&&p[p.length-1]===P||m&&m.split(" ").some(function(D){return D.endsWith(I)&&D[D.length-1]===P})}var k=p&&p.startsWith(M)&&p.endsWith(x),N=m?m.split(" ").some(function(D){return D.startsWith(M)&&D.endsWith(x)}):!1;return k||N}var O=p?p.includes(d):!1,B=m?m.includes(d):!1,G=v.includes(d)||h.includes(d)||O||B;return G};return r.filter(function(i){if(i.isAmbiguous){var s=i.label,l=i.id,c=i.idtAliases,u=i.monomers,d=a(s,l,c,o);return d||u.some(function(g){var b=g.monomerItem.props,y=b.Name,C=b.MonomerName,x=b.idtAliases;return a(y,C,x,o)})}else{var v=i.props,h=v.Name,p=v.MonomerName,m=v.idtAliases;return a(h,p,m,o)}}).map(function(i){return Ce(Ce({},i),{},{favorite:!!n[We(i)]})})}),Bo=function(t){var r=t.reduce(function(a,i){var s=i.props.MonomerNaturalAnalogCode||us;return a[s]||(a[s]=[]),a[s].push(Ce(Ce({},i),{},{label:i.props.MonomerName})),a},{}),n=Object.entries(r).reduce(function(a,i){var s=j(i,2),l=s[0],c=s[1],u=c.sort(function(h,p){return h.label.localeCompare(p.label)}),d=u.findIndex(function(h){return h.label===l});if(d!==-1){var v=u.splice(d,1);u.unshift(v[0])}return a[l]=u,a},{}),o=[];return Object.keys(n).sort(function(a,i){return a.localeCompare(i)}).reduce(function(a,i){var s={groupTitle:i===us?r5:i,groupItems:[]};return n[i].forEach(function(l){s.groupItems.push(Ce(Ce({},l),{},{props:Ce({},l.props)}))}),s.groupItems.length&&a.push(s),a},o)},wu=function(t){return t.library.selectedTabIndex},sr=yu.actions,zo=sr.loadMonomerLibrary,u5=sr.setFavoriteMonomersFromLocalStorage;sr.clearFavorites;var d5=sr.toggleMonomerFavorites,ps=sr.setSearchFilter,Nr=sr.setSelectedTabIndex,f5=yu.reducer,v5=Ge.mark(Cu);function Cu(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rM(mu);case 2:case"end":return t.stop()}},v5)}var p5={name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},Su=Fn({name:"modal",initialState:p5,reducers:{openModal:function(t,r){typeof r.payload=="string"?t.name=r.payload:(t.name=r.payload.name,t.additionalProps=r.payload.additionalProps),t.isOpen=!0},closeModal:function(t){t.name=null,t.isOpen=!1,t.additionalProps=null},openErrorTooltip:function(t,r){t.errorTooltipText=r.payload},closeErrorTooltip:function(t){t.errorTooltipText=""},openErrorModal:function(t,r){if(typeof r.payload=="string")t.errorModalText=r.payload;else{var n=r.payload,o=n.errorMessage,a=n.errorTitle;t.errorModalText=o,t.errorModalTitle=a}},closeErrorModal:function(t){t.errorModalText=""}}}),lr=Su.actions,Ht=lr.openModal,h5=lr.closeModal,hs=lr.openErrorTooltip,m5=lr.closeErrorTooltip,jr=lr.openErrorModal,g5=lr.closeErrorModal,y5=function(t){return t.modal.name},b5=function(t){return t.modal.isOpen},x5=function(t){return t.modal.additionalProps},w5=function(t){return t.modal.errorTooltipText},C5=function(t){return t.modal.errorModalText},S5=function(t){return t.modal.errorModalTitle},M5=Su.reducer;function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function A5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ms(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Qt=function(){return Me.getItem(Zt)},Ua=function(t){var r,n=Qt();return(r=n==null?void 0:n.findIndex(function(o){return o.name===t}))!==null&&r!==void 0?r:-1},Mu=function(t){var r=A5({},t),n=Qt()||[],o=Ua(r.nameInList);r.nameInList=r.name,o>-1?(n.splice(o,1,r),Me.setItem(Zt,n)):Me.setItem(Zt,[].concat(ge(n),[r]))},E5=function(t){if(t){var r=Qt(),n=Ua(t);r&&(r.splice(n,1),r.length?Me.setItem(Zt,r):Me.removeItem(Zt))}},I5=function(t){if(t){var r=Qt(),n=Ua(t);r&&n>-1&&(r[n].favorite=!r[n].favorite,Me.setItem(Zt,r))}},P5=function(t){var r=["sugar","base","phosphate"],n=zC(t,r);n.templates=[];for(var o=0,a=r;o<a.length;o++){var i,s=a[o],l=t[s],c=(l==null||(i=l.props)===null||i===void 0?void 0:i.id)||(l==null?void 0:l.id);c&&n.templates.push({$ref:l.isAmbiguous?Bl(c):zl(c)})}return n},k5=function(t,r){var n,o,a=[],i=[],s=[];return!r||!(t!=null&&t.sugar)&&!(t!=null&&t.phosphate)&&!(t!=null&&t.base)?{sugarValidations:a,phosphateValidations:i,baseValidations:s}:(t!=null&&t.phosphate&&a.push("R2"),t!=null&&t.base&&a.push("R3"),s.push("R1"),t!=null&&(n=t.sugar)!==null&&n!==void 0&&(n=n.props)!==null&&n!==void 0&&n.MonomerCaps&&!("R3"in t.sugar.props.MonomerCaps)&&s.push("DISABLED"),i.push("R1"),t!=null&&(o=t.sugar)!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.MonomerCaps&&!("R2"in t.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:a,phosphateValidations:i,baseValidations:s})};function gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ie;(function(e){e.Presets="Presets"})(Ie||(Ie={}));var O5={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:W(W(W({},K.BASES,[]),K.SUGARS,[]),K.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},Ar=W(W(W({},K.BASES,"base"),K.SUGARS,"sugar"),K.PHOSPHATES,"phosphate"),Au=Fn({name:"rna-builder",initialState:O5,reducers:{createNewPreset:function(t){t.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(t,r){t.activePreset=vr(vr({},r.payload),{},{nameInList:r.payload.name})},setSequenceSelection:function(t,r){t.sequenceSelection=ge(r.payload)},setSequenceSelectionName:function(t,r){t.sequenceSelectionName=r.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(t,r){t.isSequenceFirstsOnlyNucleoelementsSelected=r.payload},setActivePresetForContextMenu:function(t,r){t.activePresetForContextMenu=r.payload},setActivePresetName:function(t,r){t.activePreset.name=r.payload},setActiveRnaBuilderItem:function(t,r){t.activeRnaBuilderItem=r.payload},recalculateRnaBuilderValidations:function(t,r){var n=k5(r.payload.rnaPreset,r.payload.isEditMode),o=n.sugarValidations,a=n.phosphateValidations,i=n.baseValidations;t.groupItemValidations[K.SUGARS]=o,t.groupItemValidations[K.BASES]=i,t.groupItemValidations[K.PHOSPHATES]=a},setActivePresetMonomerGroup:function(t,r){t.activePresetMonomerGroup=r.payload},savePreset:function(t,r){var n=r.payload,o=vr({},n);if(Mu(P5(o)),o.nameInList){var a=t.presetsCustom.findIndex(function(i){return i.name===o.nameInList});o.nameInList=o.name,a===-1?t.presetsCustom.push(o):t.presetsCustom.splice(a,1,o)}else t.presetsCustom.push(o);t.activePreset&&(t.activePreset.nameInList=o.name)},deletePreset:function(t,r){var n=r.payload;E5(n.name);var o=t.presetsCustom.findIndex(function(a){return a.name===n.name});t.presetsCustom.splice(o,1),n.nameInList&&(t.activePreset=null)},setIsEditMode:function(t,r){t.isEditMode=r.payload},setUniqueNameError:function(t,r){t.uniqueNameError=r.payload},setInvalidPresetError:function(t,r){t.invalidPresetError=r.payload},setDefaultPresets:function(t,r){var n=r.payload[0];if(n){var o=t.presetsDefault.find(function(a){return a.name===n.name});o||(t.presetsDefault=r.payload)}},setCustomPresets:function(t,r){t.presetsCustom=r.payload},setFavoritePresetsFromLocalStorage:function(t){var r=Me.getItem(pt);!r||!Array.isArray(r)||(t.presetsDefault=t.presetsDefault.map(function(n){var o="".concat(n.name,"_").concat(li.RNA),a=r.find(function(i){return i===o});return a?vr(vr({},n),{},{favorite:!0}):n}))},clearFavorites:function(t){t.presetsDefault=[]},togglePresetFavorites:function(t,r){var n=t.presetsDefault.findIndex(function(u){return u.name===r.payload.name}),o=t.presetsCustom.findIndex(function(u){return u.name===r.payload.name});if(n>=0){var a=t.presetsDefault[n].favorite;t.presetsDefault[n].favorite=!a}else if(o>=0){I5(t.presetsCustom[o].name);var i=t.presetsCustom[o].favorite;t.presetsCustom[o].favorite=!i;return}var s="".concat(r.payload.name,"_").concat(li.RNA),l=Me.getItem(pt)||[],c=l.some(function(u){return u===s});c?Me.setItem(pt,l.filter(function(u){return u!==s})):(l.push(s),Me.setItem(pt,l))}}}),Eu=function(t){return t.rnaBuilder.activeRnaBuilderItem},T5=function(t){return t.rnaBuilder.groupItemValidations},Gn=function(t){return t.rnaBuilder.activePreset},Iu=function(t){return t.rnaBuilder.sequenceSelection},N5=function(t){return t.rnaBuilder.sequenceSelectionName},j5=function(t){return t.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},fo=function(t,r){if(!(!Ar[r]||!t))return t[Ar[r]]},L5=function(t){return t.rnaBuilder.activePresetMonomerGroup},ys=function(t){return!!(t.name&&t.sugar&&(t.base||t.phosphate))},Ga=function(t){return t.rnaBuilder.isEditMode},Pu=function(t){var r,n,o,a,i,s;if(!t)return"";var l=((r=t.sugar)===null||r===void 0?void 0:r.label)||((n=t.sugar)===null||n===void 0?void 0:n.props.MonomerName)||"",c=((o=t.base)===null||o===void 0?void 0:o.label)||((a=t.base)===null||a===void 0?void 0:a.props.MonomerName)||"",u=((i=t.phosphate)===null||i===void 0?void 0:i.label)||((s=t.phosphate)===null||s===void 0?void 0:s.props.MonomerName)||"",d=l;return l&&u||(l||u)&&c?d+="(".concat(c,")"):d+=c,d+=u,d},D5=function(t){return t.rnaBuilder.uniqueNameError},_5=function(t){return t.rnaBuilder.invalidPresetError},ku=function(t){var r=t.rnaBuilder.activePreset;return r&&!r.nameInList&&!r.name&&!r.sugar&&!r.base&&!r.phosphate},Ou=function(t){return t.rnaBuilder.activePresetForContextMenu},R5=function(t){return t.filter(function(r){return r.favorite})},Wn=function(t){var r=t.rnaBuilder,n=r.presetsDefault,o=n===void 0?[]:n,a=r.presetsCustom,i=a===void 0?[]:a;return[].concat(ge(o),ge(i))},Tu=function(t){var r,n=t.library.searchFilter,o=Wn(t),a=(r=KM(t))!==null&&r!==void 0?r:dr.Library,i=n.toLowerCase();return o.filter(function(s){var l,c,u,d,v,h,p,m,g=(l=s.name)===null||l===void 0?void 0:l.toLowerCase(),b=(c=s.sugar)===null||c===void 0||(c=c.label)===null||c===void 0?void 0:c.toLowerCase(),y=(u=s.phosphate)===null||u===void 0||(u=u.label)===null||u===void 0?void 0:u.toLowerCase(),C=(d=s.base)===null||d===void 0||(d=d.label)===null||d===void 0?void 0:d.toLowerCase(),x=(v=s.idtAliases)===null||v===void 0||(v=v.base)===null||v===void 0?void 0:v.toLowerCase(),M=(h=s.idtAliases)===null||h===void 0?void 0:h.modifications,A=x;if((p=s.name)!==null&&p!==void 0&&p.includes("MOE")&&x){var I,P,k,N=x,O=(I=M==null?void 0:M.endpoint5)!==null&&I!==void 0?I:"5".concat(N),B=(P=M==null?void 0:M.internal)!==null&&P!==void 0?P:"i".concat(N),G=(k=M==null?void 0:M.endpoint3)!==null&&k!==void 0?k:"3".concat(N);switch(a){case dr.Library:A="".concat(O,", ").concat(B);break;case dr.ChainStart:A=O;break;case dr.ChainMiddle:A=B;break;case dr.ChainEnd:A=G;break}}var D=(i.match(/\//g)||[]).length,R=i.split("/");if(D>=2&&R[2]!==void 0&&R[2]!=="")return!1;if(i.startsWith("/")&&i.length>1){var $,q=i.slice(1);return(($=A)===null||$===void 0?void 0:$.toLowerCase().startsWith(q))||(x==null?void 0:x.startsWith(q))||M&&Object.values(M).some(function(te){return te==null?void 0:te.toLowerCase().startsWith(q)})}if(i.endsWith("/")&&i.length>1){var L,U=i.slice(0,-1),ie=i[i.length-2];return((L=A)===null||L===void 0?void 0:L.toLowerCase().endsWith(U))&&A[A.length-1]===ie||(x==null?void 0:x.endsWith(U))&&x[x.length-1]===ie||M&&Object.values(M).some(function(te){return(te==null?void 0:te.toLowerCase().endsWith(U))&&te[te.length-1]===ie})}if(i==="/")return!!s.idtAliases;var he=(g==null?void 0:g.includes(i))||(b==null?void 0:b.includes(i))||(y==null?void 0:y.includes(i))||(C==null?void 0:C.includes(i))||((m=A)===null||m===void 0?void 0:m.toLowerCase().includes(i));return he})},le=Au.actions,Lr=le.setActivePreset,Wa=le.setSequenceSelection,Nu=le.setSequenceSelectionName,$5=le.setIsSequenceFirstsOnlyNucleoelementsSelected;le.setActivePresetName;var Ut=le.setActiveRnaBuilderItem,Ka=le.recalculateRnaBuilderValidations,ju=le.setActivePresetMonomerGroup,F5=le.savePreset,B5=le.deletePreset,Va=le.createNewPreset,ot=le.setIsEditMode,Ya=le.setUniqueNameError,Lu=le.setInvalidPresetError,z5=le.setDefaultPresets,q5=le.setCustomPresets,H5=le.setActivePresetForContextMenu,U5=le.togglePresetFavorites,G5=le.setFavoritePresetsFromLocalStorage,W5=le.clearFavorites,K5=Au.reducer;function V5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=BM(),r=fS({reducer:{editor:ZM,modal:M5,library:f5,rnaBuilder:K5},middleware:function(o){return o({thunk:!1,serializableCheck:!1}).concat(t)},preloadedState:e});return t.run(Cu),r}var Y5=V5(),re={colorA:{regular:"#CCCBD6",hover:"#B8BBCC"},colorCM:{regular:"#FFE34C",hover:"#FFD700"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#E1E6ED",hover:"#CAD3E0"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FFC44C",hover:"#FFAA00"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#99458B",hover:"#7F006B"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},ae={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},bs={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#EFF2F5",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:`Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',
Arial, sans-serif`,roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:re.colorA,C:re.colorCM,M:re.colorCM,D:re.colorDQ,Q:re.colorDQ,E:re.colorEN,N:re.colorEN,F:re.colorFY,Y:re.colorFY,G:re.colorGX,X:re.colorGX,H:re.colorH,I:re.colorILV,L:re.colorILV,V:re.colorILV,K:re.colorKR,R:re.colorKR,P:re.colorP,S:re.colorST,T:re.colorST,W:re.colorW,U:re.colorU,CHEM:re.chem,default:re.default}},peptide:{color:{D:ae.D,E:ae.E,K:ae.K,H:ae.H,O:ae.O,R:ae.R,Q:ae.Q,Y:ae.Y,U:ae.U,S:ae.S,C:ae.C,N:ae.N,T:ae.T,L:ae.L,I:ae.I,F:ae.F,A:ae.A,P:ae.P,G:ae.G,M:ae.M,V:ae.V}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"}},Z5={},Q5=function(t){return Dl({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:t.ketcher.font.size.medium,fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,fontSize:t.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:t.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:t.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:t.ketcher.font.weight.bold}},"","")},Du="254px",X5=w(ql,{target:"e1vkl5kv4"})({name:"4b23tt",styles:"outline:0;:hover{outline:none;}"}),J5=w("div",{target:"e1vkl5kv3"})(function(e){var t=e.theme;return{width:Du,height:"calc(100% - 16px)",backgroundColor:t.ketcher.color.background.primary,boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",display:"flex",flexDirection:"column",borderRadius:"4px"}},""),e4=w("h3",{target:"e1vkl5kv2"})(function(e){var t=e.theme;return{margin:0,padding:0,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular}},""),t4=w("div",{target:"e1vkl5kv1"})(function(){return{padding:"12px",position:"relative"}},""),r4=w("div",{target:"e1vkl5kv0"})(function(e){var t=e.theme;return{padding:"12px 0","& > div":{background:t.ketcher.color.input.background.default,display:"flex",height:"24px",flexDirection:"row",border:"1px solid transparent",borderRadius:"4px",padding:"0 4px","& > span":{display:"flex",alignItems:"center",justifyContent:"center"},"&:has(input:focus)":{outline:"1px solid ".concat(t.ketcher.color.input.border.focus)},"& > input":{background:"transparent",border:"none",padding:"0 0 0 8px",margin:0,flex:1,"&:focus":{outline:"none"}}}}},""),xs=w("div",{target:"e1pv9pa9"})(function(e){var t=e.fullWidth,r=e.withPaddingRight;return{width:t?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:r?"12px":0}},""),n4=w("div",{target:"e1pv9pa8"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"hidden"}},""),o4=w("div",{target:"e1pv9pa7"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),_u=w("div",{target:"e1pv9pa6"})(function(e){var t=e.hide,r=t===void 0?!1:t;return{height:"100%",width:"fit-content",display:r?"none":"flex",flexDirection:"column"}},""),Ru=w(_u,{target:"e1pv9pa5"})(""),$u=w(_u,{target:"e1pv9pa4"})(""),Fu=w("div",{target:"e1pv9pa3"})(function(e){var t=e.shortened,r=t===void 0?!1:t;return{height:"36px",width:r?"calc(100% - ".concat(Du,")"):"100%",marginBottom:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",borderRadius:"4px"}},""),Bu=w("div",{target:"e1pv9pa2"})({name:"149k9u4",styles:"height:100%;width:100%;position:relative"}),zu=w("div",{target:"e1pv9pa1"})({name:"0",styles:""}),a4=w("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),je=function(t){var r=t.children,n={Left:null,Main:null,Right:null,Top:null,InsideRoot:null};return xt.Children.forEach(r,function(o){o.type===Ru?n.Left=o:o.type===$u?n.Right=o:o.type===Fu?n.Top=o:o.type===Bu?n.Main=o:o.type===zu&&(n.InsideRoot=o)}),E(n4,{children:[E(xs,{fullWidth:!0,withPaddingRight:!0,children:[n.Top,E(o4,{children:[n.Left,f(a4,{}),n.Main]})]}),f(xs,{children:n.Right}),n.InsideRoot]})};je.Left=Ru;je.Top=Fu;je.Right=$u;je.Main=Bu;je.InsideRoot=zu;var ce=function(){return On()},T=_l;function cr(){var e,t=Rl.getKetcher(),r=t==null||(e=t.editor)===null||e===void 0?void 0:e.struct().isBlank(),n=r?xf:wf,o=T(se),a=T(VM),i=S.useState(a||n),s=j(i,2),l=s[0],c=s[1],u=S.useCallback(function(d){c(d)},[c]);return S.useEffect(function(){return o==null||o.events.layoutModeChange.add(u),function(){o==null||o.events.layoutModeChange.remove(u)}},[u,o==null?void 0:o.events.layoutModeChange]),l}function i4(){var e=T(se),t=T(Qe),r=S.useState(t),n=j(r,2),o=n[0],a=n[1],i=function(l){a(l)};return S.useEffect(function(){return e==null||e.events.toggleSequenceEditInRNABuilderMode.add(i),function(){e==null||e.events.toggleSequenceEditInRNABuilderMode.remove(i)}},[i,e==null?void 0:e.events.toggleSequenceEditInRNABuilderMode]),o}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ws(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var s4=w("div",{target:"e1fsnjs54"})(function(){return{backgroundColor:"#eef2f5",flexGrow:1,overflowY:"auto"}},""),l4=w(ec,{target:"e1fsnjs53"})({name:"jwg7h4",styles:"height:100%;width:100%;align-items:start"});function c4(e){var t=e.children,r=e.value,n=e.index;return f(s4,{role:"tabpanel",hidden:r!==n,id:n.toString(),children:r===n&&f(l4,{children:t})})}function u4(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function d4(e){var t=ce(),r=T(wu),n=e.tabs,o=n[r],a=o==null?void 0:o.component,i=o==null?void 0:o.props,s=function(v,h){t(Nr(h))},l=w(Mf,{target:"e1fsnjs52"})({name:"1oug8xv",styles:"height:24px;min-height:24px;list-style-type:none;margin:0;padding:0;& .MuiTabs-indicator{display:none;}"}),c=w(Af,{target:"e1fsnjs51"})(function(d){var v=d.theme;return{minHeight:24,minWidth:0,height:1,padding:0,fontSize:v.ketcher.font.size.regular,textTransform:"none",cursor:"pointer",textAlign:"center",backgroundColor:v.ketcher.color.tab.regular,color:v.ketcher.color.text.light,listStyleType:"none",margin:0,flex:"1 1 auto",border:"1px solid transparent",borderBottom:"1px solid ".concat(v.ketcher.color.border.primary),borderRadius:"4px 4px 0 0","&:first-of-type":{borderLeftColor:"transparent !important",borderRadius:"0 4px 0 0 "},"&:last-of-type":{borderRightColor:"transparent !important",borderRadius:"4px 0 0 0"},"&:hover":{backgroundColor:v.ketcher.color.tab.regular,color:v.ketcher.color.text.primary,border:"1px solid ".concat(v.ketcher.color.border.primary)},"&.Mui-selected":{backgroundColor:v.ketcher.color.tab.active,color:v.ketcher.color.text.primary,border:"1px solid ".concat(v.ketcher.color.border.primary),borderBottom:"1px solid transparent"}}},""),u=w("div",{target:"e1fsnjs50"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});return E(ee,{children:[f(l,{value:r,onChange:s,children:n.map(function(d,v){return f(c,Cs({label:d.caption,"data-testid":d.testId},u4(v)),v)})}),o&&f(c4,{value:r,index:r,children:f(u,{children:f(a,Cs({},i))})})]})}var ht=function(){};function Ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ss(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ss(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ms=function(t,r,n){var o=new Map(t.map(function(a){var i=Se(a)?Bl(a.id):zl(We(a));return[i,a]}));return r.filter(function(a){return a.templates.every(function(i){return!!o.get(i.$ref)})}).map(function(a){var i=new Map(a.templates.map(function(d){var v=o.get(d.$ref),h=bf(v),p=j(h,3),m=p[2];return[m,v]})),s=i.get(tt.Sugar),l=i.get(tt.Base),c=i.get(tt.Phosphate),u={base:l?st(st({},l),{},{label:l.label}):void 0,name:a.name,phosphate:c?st(st({},c),{},{label:c.label}):void 0,sugar:s?st(st({},s),{},{label:s.label}):void 0,favorite:a.favorite,default:n||a.default};return a.idtAliases?st(st({},u),{},{idtAliases:a.idtAliases}):u})},vo=function(t){return Object.entries(t).filter(function(r){var n=j(r,2);n[0];var o=n[1];return!!o}).map(function(r){var n=j(r,1),o=n[0];return o})},qu=w("div",{target:"e719szw2"})("background:white;height:48px;text-align:center;cursor:",function(e){var t=e.disabled;return t?"default":"pointer"},";opacity:",function(e){var t=e.disabled;return t?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;padding:0 5px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 4px rgba(0, 0, 0, 0.15);margin:0;user-select:none;border-color:#167782;border-width:",function(e){var t=e.selected;return t?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(e){var t=e.selected;return t?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(e){var t=e.isVariantMonomer;return t?"1px solid #CAD3DD":"none"},";background:",function(e){var t,r,n,o,a,i=e.code,s=e.theme,l=e.item;if(!l)return(t=s.ketcher.monomer.color.default)===null||t===void 0?void 0:t.regular;var c=l,u=((r=c.props)===null||r===void 0?void 0:r.MonomerType)==="PEPTIDE";if(u&&(n=s.ketcher.peptide.color[i])!==null&&n!==void 0&&n.regular){var d;return(d=s.ketcher.peptide.color[i])===null||d===void 0?void 0:d.regular}var v=((o=s.ketcher.monomer.color[i])===null||o===void 0?void 0:o.regular)||((a=s.ketcher.monomer.color.default)===null||a===void 0?void 0:a.regular);return v},";},>span{position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#e1e5ea;position:absolute;top:12px;right:3px;font-size:15px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),f4=w("div",{target:"e719szw1"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(e){var t=e.monomersAmount;return t>=10?"20px":"15px"},";border-radius:",function(e){var t=e.monomersAmount;return t>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"18px":"20px"},";font-size:12px;line-height:12px;"),v4=w("span",{target:"e719szw0"})({name:"rnnx2x",styles:"font-size:12px"}),p4=function(t,r){var n,o,a,i=T(Qe),s=_l(j5),l=S.useState(!1),c=j(l,2),u=c[0],d=c[1];return S.useEffect(function(){if(!i)return d(!1);if(r===mt.BASES){var v;d(!(t!=null&&(v=t.props)!==null&&v!==void 0&&(v=v.MonomerCaps)!==null&&v!==void 0&&v.R1))}else if(r===mt.PHOSPHATES){var h,p;d(!(t!=null&&(h=t.props)!==null&&h!==void 0&&(h=h.MonomerCaps)!==null&&h!==void 0&&h.R1&&t!==null&&t!==void 0&&(p=t.props)!==null&&p!==void 0&&(p=p.MonomerCaps)!==null&&p!==void 0&&p.R2))}else if(r===mt.SUGARS)if(s){var m,g;d(!(t!=null&&(m=t.props)!==null&&m!==void 0&&(m=m.MonomerCaps)!==null&&m!==void 0&&m.R3&&t!==null&&t!==void 0&&(g=t.props)!==null&&g!==void 0&&(g=g.MonomerCaps)!==null&&g!==void 0&&g.R2))}else{var b,y,C;d(!(t!=null&&(b=t.props)!==null&&b!==void 0&&(b=b.MonomerCaps)!==null&&b!==void 0&&b.R3&&t!==null&&t!==void 0&&(y=t.props)!==null&&y!==void 0&&(y=y.MonomerCaps)!==null&&y!==void 0&&y.R2&&t!==null&&t!==void 0&&(C=t.props)!==null&&C!==void 0&&(C=C.MonomerCaps)!==null&&C!==void 0&&C.R1))}},[r,i,s,t==null||(n=t.props)===null||n===void 0||(n=n.MonomerCaps)===null||n===void 0?void 0:n.R1,t==null||(o=t.props)===null||o===void 0||(o=o.MonomerCaps)===null||o===void 0?void 0:o.R2,t==null||(a=t.props)===null||a===void 0||(a=a.MonomerCaps)===null||a===void 0?void 0:a.R3,d]),u};function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?As(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var h4=function(t){var r=t.item,n=t.groupName,o=t.onMouseLeave,a=t.onMouseMove,i=t.isSelected,s=t.disabled,l=t.onClick,c=l===void 0?ht:l,u=S.useState(r.favorite),d=j(u,2),v=d[0],h=d[1],p=ce(),m=p4(r,n)||s,g=Se(r)?"":r.props.MonomerType===Mr.CHEM?r.props.MonomerType:r.props.MonomerNaturalAnalogCode,b=We(r),y=Se(r)?void 0:r;return E(qu,Es(Es({selected:i,disabled:m,"data-testid":b,"data-monomer-item-id":b,item:y,isVariantMonomer:r.isAmbiguous,code:g,onMouseLeave:o,onMouseMove:a},m?{}:{onClick:c}),{},{children:[f(v4,{children:r.label}),!m&&f("div",{onClick:function(x){x.stopPropagation(),h(!v),p(d5(r))},className:"star ".concat(v?"visible":""),children:""}),Se(r)&&f(f4,{selected:i,monomersAmount:r.monomers.length,children:r.monomers.length})]}))},Hu=w("div",{target:"e10tnh3n3"})({name:"183ulj8",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:8px;&::after{content:'';flex:auto;}"}),Uu=w("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.divider},";margin:0;gap:8px;"),m4=w(Uu,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),g4=w("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";margin:0;"),bn=function(t){var r=t.items,n=t.title,o=t.groupName,a=t.selectedMonomerUniqueKey,i=t.libraryName,s=t.disabled,l=t.onItemClick,c=l===void 0?ht:l,u=ce(),d=T(se),v=T(T5),h=function(M){var A=!1;if(Se(M))return!1;if(s)A=s;else{var I,P,k=v["".concat((I=M.props)===null||I===void 0?void 0:I.MonomerClass,"s")];if((k==null?void 0:k.length)>0&&(P=M.props)!==null&&P!==void 0&&P.MonomerCaps)for(var N=0;N<k.length;N++)k[N]in M.props.MonomerCaps||(A=!0)}return A},p=S.useCallback(function(x){return u(Yt(x))},[u]),m=S.useCallback(bt.debounce(function(x){return p(x)},500),[p]),g=function(){m.cancel(),u(Yt(void 0))},b=function(M,A){g();var I=A.currentTarget.getBoundingClientRect(),P,k,N;if(Se(M)){N=M?Xl(M)(I):"";var O="".concat(I.left+I.width/2,"px");k=pe.AmbiguousMonomer,P={left:O,top:N,transform:"translate(-50%, 0)"}}else N=M?zf(I):"",P={right:"-88px",top:N,transform:"translate(-50%, 0)"},k=pe.Monomer;var B={type:k,monomer:M,style:P};m(B)},y=function(M){u(dt("monomer")),["FAVORITES","PEPTIDE","CHEM"].includes(i??"")&&d.events.selectMonomer.dispatch(M),c(M)},C=function(M){return a===We(M)};return E(m4,{children:[n&&f(g4,{children:n}),f(Hu,{children:r.map(function(x){return f(h4,{disabled:h(x),item:x,groupName:o,isSelected:C(x),onMouseLeave:g,onMouseMove:function(A){return b(x,A)},onClick:function(){return y(x)}},We(x))})})]})},y4=w("div",{target:"e1bp6il60"})({name:"jewv9i",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:24px;padding:16px 12px"}),b4=w(qu,{target:"e1txcvj90"})("&::after{content:'';background:",function(e){var t=e.theme,r=e.selected;return r?t.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:visible;position:absolute;right:2px;top:10px;}.hidden{visibility:hidden!important;}>.star{right:0;left:4px;top:10px;width:min-content;}"),x4=w("div",{target:"ernj46o2"})(function(e){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:e.theme.ketcher.border.small}},""),w4=w("span",{target:"ernj46o1"})(function(e){return{flexGrow:1,fontSize:e.theme.ketcher.font.size.regular}},""),qo=w(ye,{target:"ernj46o0"})(function(e){return{width:"16px",height:"16px",color:e.theme.ketcher.color.icon.grey,transition:e.theme.ketcher.transition.regular,transform:e.expanded?"rotate(180deg)":"none"}},""),C4=function(t){var r=t.preset,n=t.isSelected,o=t.onClick,a=o===void 0?ht:o,i=t.onContextMenu,s=i===void 0?ht:i,l=t.onMouseLeave,c=l===void 0?ht:l,u=t.onMouseMove,d=u===void 0?ht:u,v=S.useState(!1),h=j(v,2),p=h[0],m=h[1],g=S.useState(r.favorite),b=j(g,2),y=b[0],C=b[1],x=ce(),M=function(){m(!0)},A=function(){m(!1)},I=function(k){k.stopPropagation(),C(!y),x(U5(r))};return E(b4,{"data-testid":i5(r),onClick:a,onContextMenu:s,onMouseLeave:c,onMouseMove:d,onMouseOver:M,onMouseOut:A,selected:n,code:r.name,"data-rna-preset-item-name":r.name,children:[f("span",{children:r.name}),f(qo,{name:"vertical-dots",className:p?"dots":"dots hidden",onClick:s}),f("div",{"aria-hidden":!0,onClick:I,className:"star ".concat(y?"visible":""),children:""})]})},He;(function(e){e.FOR_RNA="context-menu-for-RNA",e.FOR_SEQUENCE="context-menu-for-sequence",e.FOR_POLYMER_BOND="context-menu-for-polymer-bond",e.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"})(He||(He={}));var S4=w(Lf,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);.contexify_itemContent{font-family:",function(e){var t=e.theme;return t.ketcher.font.family.inter},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}.contexify_separator{color:rgba(225, 229, 234, 1);}.contexify_item-title{opacity:1;font-weight:bold;}"),M4=function(t,r){var n=[];return t.forEach(function(o,a){var i=o.name,s=o.title,l=o.hidden,c=o.disabled,u=o.isMenuTitle,d=o.separator,v=f(Nf,{id:i,onClick:r,"data-testid":i,hidden:l,disabled:c,className:u?"contexify_item-title":"",children:f("span",{children:s})},i);n.push(v),d&&n.push(f(jf,{},a))}),n},Kn=function(t){var r=t.id,n=t.handleMenuChange,o=t.menuItems;return f(S4,{id:r,children:M4(o,n)})},A4=function(){var t=Tr.RNA,r=ce(),n=T(Ou),o=T(wu),a=T(Qe),i=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:n==null?void 0:n.default},{name:"deletepreset",title:"Delete Preset",disabled:n==null?void 0:n.default}],s=function(u){var d=u.id,v=u.props;switch(d){case"duplicateandedit":v.duplicatePreset(n),o!==t&&r(Nr(t));break;case"edit":v.editPreset(n),o!==t&&r(Nr(t));break;case"deletepreset":r(Ht("delete"));break}},l=document.querySelector(Lt);return l&&!a?Nn.createPortal(f(Kn,{id:He.FOR_RNA,menuItems:i,handleMenuChange:s}),l):null},Gu=function(t){var r=t.presets,n=t.duplicatePreset,o=t.editPreset,a=T(Gn),i=T(se),s=Xr({id:He.FOR_RNA}),l=s.show,c=On(),u=function(x){var M,A,I,P=!0,k=!0,N=!0;if(x!=null&&(M=x.base)!==null&&M!==void 0&&(M=M.props)!==null&&M!==void 0&&M.MonomerCaps&&(P="R1"in x.base.props.MonomerCaps),x!=null&&(A=x.sugar)!==null&&A!==void 0&&(A=A.props)!==null&&A!==void 0&&A.MonomerCaps){var O;P&&x!==null&&x!==void 0&&(O=x.base)!==null&&O!==void 0&&(O=O.props)!==null&&O!==void 0&&O.MonomerCaps&&(k="R3"in x.sugar.props.MonomerCaps)}if(x!=null&&(I=x.phosphate)!==null&&I!==void 0&&(I=I.props)!==null&&I!==void 0&&I.MonomerCaps){var B;N="R1"in x.phosphate.props.MonomerCaps,k&&x!==null&&x!==void 0&&(B=x.sugar)!==null&&B!==void 0&&(B=B.props)!==null&&B!==void 0&&B.MonomerCaps&&(k="R2"in x.sugar.props.MonomerCaps)}return P&&k&&N},d=function(x){return function(){var M=u(x);if(!M&&x.name){c(Lu(x.name));return}c(Lr(x)),i.events.selectPreset.dispatch(x),x.name!==a.name&&c(ot(!1))}},v=function(x){var M,A=x instanceof HTMLDivElement;!A&&x.parentElement&&(x=x.parentElement);var I=x.getBoundingClientRect(),P=(M=x.offsetParent)===null||M===void 0?void 0:M.getBoundingClientRect(),k=140,N=I.right-k,O=I.y+I.height/2;return P!=null&&P.x&&(P==null?void 0:P.x)>N&&(N=I.x),{x:N,y:O}},h=T(Hr),p=S.useCallback(function(C){return c(Yt(C))},[c]),m=S.useCallback(bt.debounce(function(C){return p(C)},500),[p]),g=function(){m.cancel(),c(Yt(void 0))},b=function(x,M){if(g(),!(h.type===pe.Preset||!M.currentTarget)){var A=[x.sugar,x.base,x.phosphate],I=M.currentTarget.getBoundingClientRect(),P={left:"".concat(I.left+I.width,"px"),top:Se(x.base)?Xl(x.base)(I):qf(I),transform:"translate(-100%, 0)"},k=Se(x.base)?{type:pe.AmbiguousMonomer,monomer:x.base,presetMonomers:A,style:P}:{type:pe.Preset,monomers:A,name:x.name,idtAliases:x.idtAliases,position:ze.Library,style:P};m(k)}},y=function(x){return function(M){M.stopPropagation(),c(H5(x)),l({event:M,props:{duplicatePreset:n,editPreset:o},position:v(M.currentTarget)})}};return E(Uu,{"data-testid":"rna-preset-group",children:[f(Hu,{children:r.map(function(C,x){return f(C4,{isSelected:(a==null?void 0:a.name)===C.name,preset:C,onClick:d(C),onContextMenu:y(C),onMouseMove:function(A){return b(C,A)},onMouseLeave:g},"".concat(C.name).concat(x))})}),f(A4,{})]})},po=function(t){var r=t.onItemClick,n=t.libraryName,o=t.duplicatePreset,a=t.editPreset,i=T(xu),s=T(Tu),l=T(Un),c=n===gu,u=c?{monomers:l5(i),presets:R5(s)}:bu(i,n),d=Bo(c?u.monomers:u),v=c?c5(i):Ha(i,K.PEPTIDES),h=S.useState(""),p=j(h,2),m=p[0],g=p[1],b=function(C){g(We(C))};return S.useEffect(function(){l!=="monomer"&&g("")},[l]),E(y4,{children:[c&&d.length>0&&f("div",{children:"Monomers"}),d.map(function(y,C,x){var M=y.groupItems,A=y.groupTitle;return f(bn,{title:x.length===1?void 0:A,items:M,libraryName:n,onItemClick:r||b,selectedMonomerUniqueKey:m},A)}),c&&u.presets.length>0&&E(ee,{children:[f("div",{children:"Presets"}),f(Gu,{duplicatePreset:o,editPreset:a,presets:u.presets})]}),f(ee,{children:(n===t5||c)&&v.map(function(y){return f(bn,{title:y.groupTitle,items:y.groupItems,libraryName:n,onItemClick:r||b,selectedMonomerUniqueKey:m},y.groupTitle)})})]})},E4=w("div",{target:"e1hdfnag5"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Is=w(Hf,{target:"e1hdfnag4"})({name:"u6kpdv",styles:"min-height:32px"}),I4=w("div",{target:"e1hdfnag3"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),Ps=w("div",{target:"e1hdfnag2"})({name:"gs2evd",styles:"position:relative;width:100%;display:flex;flex-direction:column;gap:24px;justify-content:start;padding:16px 12px"}),Wu=w(jn,{target:"e1hdfnag1"})(function(e){return{backgroundColor:e.theme.ketcher.color.button.transparent.active,color:e.theme.ketcher.color.text.light,borderColor:e.theme.ketcher.color.text.light}},""),P4=w("div",{target:"e1hdfnag0"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),k4=function(t){var r=t.groupName,n=t.quantity,o=t.expanded,a=t.iconName;return E(x4,{"data-testid":"summary-".concat(r),children:[f(qo,{name:a}),E(w4,{children:[r," (",n,")"]}),f(qo,{name:"chevron",expanded:o})]})};function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ks(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var O4=function(t){var r=t.libraryName,n=t.duplicatePreset,o=t.editPreset,a=T(xu),i=bu(a,r),s=T(Eu),l=T(Gn),c=Bo(i),u=T(Tu),d=s5(a),v=Bo(d),h=T(Ga),p=T(se),m=T(ku),g=T(Qe),b=S.useState(s),y=j(b,2),C=y[0],x=y[1],M=S.useState(l),A=j(M,2),I=A[0],P=A[1],k=S.useState(""),N=j(k,2),O=N[0],B=N[1],G=On(),D=function(U){C===U?x(null):(x(U),G(Ka({rnaPreset:I,isEditMode:h})))},R=[{groupName:Ie.Presets,iconName:"preset",groups:[{groupItems:u}]},{groupName:K.SUGARS,iconName:"sugar",groups:c.filter(function(L){return uo[L.groupTitle]===K.SUGARS})},{groupName:K.BASES,iconName:"base",groups:c.filter(function(L){return uo[L.groupTitle]===K.BASES}).map(function(L){return Kr(Kr({},L),{},{groupItems:L.groupItems.filter(function(U){var ie;return((ie=U.props)===null||ie===void 0?void 0:ie.MonomerClass)!==tt.RNA})})})},{groupName:K.PHOSPHATES,iconName:"phosphate",groups:c.filter(function(L){return uo[L.groupTitle]===K.PHOSPHATES})},{groupName:K.NUCLEOTIDES,iconName:"nucleotide",groups:v}],$=function(U,ie){var he;if(B(We(U)),!g&&!h&&p.events.selectMonomer.dispatch(U),!!h){var te=Se(U)?(he=U.monomers[0].monomerItem.props.MonomerClass)===null||he===void 0?void 0:he.toLowerCase():U.props.MonomerClass.toLowerCase(),V=Kr(Kr({},I),{},W({},te,U));P(V),G(ju({groupName:ie,groupItem:U})),G(Ut(ie))}};S.useEffect(function(){x(s)},[s]),S.useEffect(function(){G(Ut(h&&l?s:Ie.Presets))},[h]);var q=function(){G(Va()),G(Ut(Ie.Presets)),G(ot(!0))};return f(E4,{"data-testid":"rna-accordion",children:R.map(function(L){var U=C===L.groupName,ie=Ha(a,L.groupName),he=[].concat(ge(L.groups),ge(ie)).reduce(function(z,F){return z+F.groupItems.length||0},0),te=f(k4,{iconName:L.iconName,groupName:L.groupName,quantity:he,expanded:U}),V=L.groupName===Ie.Presets?E(Ps,{children:[f(Wu,{onClick:function(){return q()},children:"New Preset"}),f(Gu,{duplicatePreset:n,editPreset:o,presets:u}),h&&!m&&f(P4,{})]}):f(Ps,{children:E(ee,{children:[L.groups.map(function(z){var F=z.groupItems,ue=z.groupTitle;return f(bn,{title:L.groups.length>1?ue:void 0,groupName:L.groupName,items:F,selectedMonomerUniqueKey:O,onItemClick:function(Ne){return $(Ne,L.groupName)}},ue)}),ie.map(function(z){return f(bn,{title:z.groupTitle,items:z.groupItems,libraryName:r,selectedMonomerUniqueKey:O,onItemClick:function(ue){return $(ue,L.groupName)}},z.groupTitle)})]})}),H=L.groupName===Ie.Presets&&U;return H?f(I4,{children:f(Is,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(L.groupName),summary:te,details:V,expanded:U,onSummaryClick:function(){return D(L.groupName)}})},L.groupName):f(Is,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(L.groupName),summary:te,details:V,expanded:U,onSummaryClick:function(){return D(L.groupName)}},L.groupName)})})},T4=w("div",{target:"e1fsx6x2"})({name:"2zz6af",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px"}),N4=w("span",{target:"e1fsx6x1"})(function(e){return{fontSize:e.theme.ketcher.font.size.medium,overflow:"hidden",textOverflow:"ellipsis",color:e.grey?e.theme.ketcher.color.text.lightgrey:e.theme.ketcher.color.text.primary}},""),j4=w("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),L4=function(t){var r=t.name,n=t.fullName;return r||n?f(T4,{children:f(j4,{children:f(N4,{grey:!r&&!n,children:r||n})})}):f(ee,{})},D4=w("div",{target:"e1ie5fzr4"})(function(e){return{height:"40px",position:"relative",marginLeft:e.isEditMode?"30px":"28.5px",display:"flex",alignItems:"center",border:e.isEditMode?"none":"1.5px solid ".concat(e.theme.ketcher.outline.color),backgroundColor:e.selected?e.theme.ketcher.color.button.primary.active:e.isEditMode?e.theme.ketcher.color.background.primary:"transparent",borderRadius:e.theme.ketcher.border.radius.regular,boxShadow:e.isEditMode?e.theme.ketcher.shadow.regular:"none",padding:"5px 10px",color:e.selected?"white":"black",gap:"14px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:e.theme.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),_4=w("div",{target:"e1ie5fzr3"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),R4=w("span",{target:"e1ie5fzr2"})(function(e){return{fontSize:e.theme.ketcher.font.size.small}},""),$4=w("span",{target:"e1ie5fzr1"})(function(e){return{marginTop:"1px",fontSize:e.theme.ketcher.font.size.medium,color:e.selected?"white":e.empty?e.theme.ketcher.color.text.lightgrey:e.theme.ketcher.color.text.primary}},""),F4=w(ye,{target:"e1ie5fzr0"})(function(e){return{color:e.empty?"transparent":e.selected?e.theme.ketcher.color.background.primary:e.theme.ketcher.color.icon.grey,stroke:e.selected?e.theme.ketcher.color.background.primary:e.theme.ketcher.color.icon.grey,paddingRight:e.name==="sugar"?"5px":e.name==="phosphate"?"1px":0}},""),B4=W(W(W({},K.SUGARS,"Select sugar"),K.BASES,"Select base"),K.PHOSPHATES,"Select phosphate"),z4=W(W(W({},K.SUGARS,"Sugar"),K.BASES,"Base"),K.PHOSPHATES,"Phosphate"),q4=function(t){var r=t.groupName,n=t.iconName,o=t.monomerName,a=t.selected,i=t.onClick,s=t.testid,l=T(Ga);return E(D4,{selected:a,onClick:i,empty:!o,isEditMode:l,"data-testid":s,children:[f(F4,{empty:!o,selected:a,name:n}),E(_4,{children:[f(R4,{children:z4[r]}),f($4,{empty:!o,selected:a,children:o||(a?B4[r]:"Not selected")})]})]})},H4=w("div",{target:"e18wzlbg7"})(function(e){return{display:"flex",flexDirection:"column",padding:"10px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(e.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px"}}},""),U4=w("div",{target:"e18wzlbg6"})({name:"1l5e953",styles:"margin-top:16px;width:100%;display:flex;flex-direction:column;gap:8px"}),G4=w("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),pr=w(jn,{target:"e18wzlbg4"})(function(e){return{width:"100%",whiteSpace:"nowrap",fontSize:e.theme.ketcher.font.size.regular,backgroundColor:e.primary?e.theme.ketcher.color.button.primary.active:void 0,color:e.primary&&!e.disabled?e.theme.ketcher.color.button.text.primary:e.theme.ketcher.color.text.light,outline:e.primary&&!e.disabled?e.theme.ketcher.outline.selected.small:e.theme.ketcher.outline.grey.small}},""),W4=w("div",{target:"e18wzlbg3"})(function(e){return{position:"relative",borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:e.theme.ketcher.color.background.primary,boxShadow:e.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:e.selected?e.theme.ketcher.outline.selected.medium:"none",":hover":{outline:e.selected?void 0:e.theme.ketcher.outline.small}}},""),K4=w("span",{target:"e18wzlbg2"})(function(e){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:e.selected?e.theme.ketcher.outline.selected.color:e.theme.ketcher.outline.color}},""),V4=w(ql,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),Y4=w("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"}),ho=function(t){return t.size===0?"":t.size===1?ge(t)[0]:"[multiple]"},Ho=function(t){if(t!=null&&t.length){for(var r={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},n=0;n<t.length;n++)for(var o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i,s,l,c=a[o];((i=t[n])!==null&&i!==void 0&&i[c]||!((s=t[n])!==null&&s!==void 0&&s[c])&&t[n].type===rt.Nucleoside&&!t[n].isNucleosideConnectedAndSelectedWithPhosphate)&&r[c].add((l=t[n])===null||l===void 0?void 0:l[c])}return{Sugars:ho(r.sugarLabel),Bases:ho(r.baseLabel),Phosphates:ho(r.phosphateLabel)}}},Z4=function(t){var r=Ho(t);return"".concat(r==null?void 0:r.Sugars,"(").concat(r==null?void 0:r.Bases,")").concat((r==null?void 0:r.Phosphates)||"")},Ku=function(t){t(ju(null)),t(ot(!1))},Os=function(t){Ku(t)},xn=function(t,r){Ku(t),t(Wa([])),r.events.turnOffSequenceEditInRNABuilderMode.dispatch(),r.mode instanceof Wl&&r.mode.turnOffEditMode()},wn=function(t){return t.filter(function(r){return r.type?r.type===rt.Nucleotide||r.type===rt.Nucleoside:r.node?r.node instanceof Er||r.node instanceof Ir:!1}).length};function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Q4=function(t){var r=t.isEditMode,n=t.onDuplicate,o=[{groupName:K.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:K.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:K.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],a=On(),i=T(Gn),s=T(ku),l=T(Eu),c=T(se),u=T(Wn),d=T(L5),v=S.useState(i),h=j(v,2),p=h[0],m=h[1],g=T(Iu),b=T(N5),y=T(Qe),C=S.useState(!1),x=j(C,2),M=x[0],A=x[1],I=S.useState(Ho(g)),P=j(I,2),k=P[0],N=P[1],O=cr()===Kt.sequence,B=function(){if(d){var H=Ar[d.groupName],z=lt(lt({},p),{},W({},H,d.groupItem));return m(z),z}return p};S.useEffect(function(){m(i)},[i]),S.useEffect(function(){g&&(wn(g)===1&&a(Nu(Z4(g))),N(Ho(g)))},[a,g]),S.useEffect(function(){if(l!==Ie.Presets&&r)if(y&&d){var V=Ar[d.groupName],H="".concat(V,"Label"),z=g.map(function(we){var Ne,ur=H==="baseLabel"&&(Ne=d.groupItem.props)!==null&&Ne!==void 0&&Ne.MonomerNaturalAnalogCode?d.groupItem.props.MonomerNaturalAnalogCode:d.groupItem.label;return we.isNucleosideConnectedAndSelectedWithPhosphate&&H==="phosphateLabel"||we.type===rt.Phosphate&&(H==="sugarLabel"||H==="baseLabel")?we:lt(lt({},we),{},W({},H,ur))});A(!0),a(Wa(z))}else{var F=B(),ue=p==null?void 0:p.name;F.editedName||(ue=Pu(F)),m(lt(lt({},F),{},{name:ue}))}},[d==null?void 0:d.groupItem,y]);var G=function(H){if(H===Ie.Presets){Uo(p==null?void 0:p.name),p&&c.events.selectPreset.dispatch(p);return}var z=p[Ar[H]];z&&rA(We(z))},D=function(H){return function(){var z=fo(p,H);z&&!O&&c.events.selectMonomer.dispatch(z),G(H),a(Ut(H)),a(Ka({rnaPreset:p,isEditMode:r}))}},R=function(H){if(r){var z=H.target.value;m(lt(lt({},p),{},{name:z.trim(),editedName:!0}))}},$=function(){wn(g)>1?a(Ht("updateSequenceInRNABuilder")):(c.events.modifySequenceInRnaBuilder.dispatch(g),xn(a,c))},q=function(){if(p!=null&&p.name){var H=u.find(function(z){return z.name===p.name});if(H&&i.nameInList!==H.name){a(Ya(p.name));return}a(F5(p)),a(Lr(p)),O||c.events.selectPreset.dispatch(p),setTimeout(function(){Uo(p.name)},0),Os(a)}},L=function(){y?xn(a,c):(m(i),Os(a))},U=function(){a(ot(!0))},ie=function(H){var z,F;return d&&d.groupName===H?d.groupItem.label:((z=fo(p,H))===null||z===void 0?void 0:z.label)||((F=fo(p,H))===null||F===void 0?void 0:F.props.MonomerName)},he=function(H){return k?k[H]:""};S.useEffect(function(){var V=function(z){z.key==="Escape"?(L(),z.preventDefault(),z.stopPropagation()):z.key==="Enter"&&(y?$():q(),z.preventDefault(),z.stopPropagation())};return c==null||c.events.keyDown.add(V),function(){c==null||c.events.keyDown.remove(V)}},[c,g]);var te;return s&&!y?te=f(pr,{disabled:!ys(p),primary:!0,"data-testid":"add-to-presets-btn",onClick:q,children:"Add to Presets"}):r?te=f(pr,{primary:!0,disabled:y?!M:!1,"data-testid":"save-btn",onClick:y?$:q,children:y?"Update":"Save"}):te=f(pr,{"data-testid":"edit-btn",onClick:U,disabled:i.default,children:"Edit"}),E(H4,{"data-testid":"rna-editor-expanded",className:y?"rna-editor-expanded--sequence-edit-mode":"",children:[E(W4,{selected:l===Ie.Presets,onClick:function(){return D(Ie.Presets)},children:[r?f(V4,{value:y?b:p==null?void 0:p.name,placeholder:"Name your structure",disabled:y,onChange:R}):f(Y4,{children:p==null?void 0:p.name}),f(K4,{selected:l===Ie.Presets})]}),f(U4,{children:o.map(function(V){var H=V.groupName,z=V.iconName,F=V.testId;return f(q4,{selected:l===H,groupName:H,monomerName:y?he(H):ie(H),iconName:z,testid:F,onClick:D(H)},H)})}),E(G4,{children:[r?f(pr,{"data-testid":"cancel-btn",onClick:L,children:"Cancel"}):f(pr,{"data-testid":"duplicate-btn",disabled:!ys(p),onClick:function(){return n(p)},children:"Duplicate and Edit"}),te]})]})},X4=w("div",{target:"e1ms1w5g3"})(function(e){return{borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:"#F7F9FA",boxShadow:e.theme.ketcher.shadow.regular,overflow:"hidden",margin:"12px",flexShrink:0}},""),J4=w("div",{target:"e1ms1w5g2"})(function(e){return{height:"32px",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"10px",fontSize:e.theme.ketcher.font.size.regular,"&.styled-header--sequence-edit-mode":{backgroundColor:e.theme.ketcher.color.editMode.sequenceInRNABuilder}}},""),eA=w(jn,{target:"e1ms1w5g1"})({name:"nqk7pj",styles:"background:transparent;width:32px;height:100%;outline:none;border-radius:0;padding:0"}),tA=w(ye,{target:"e1ms1w5g0"})("height:16px;width:16px;",function(e){var t=e.expanded;return{transform:t?"rotate(180deg)":"none"}},""),Vu=function(t){var r=document.body.querySelector(t);r==null||r.scrollIntoView({behavior:"smooth"})},Uo=function(t){Vu('[data-rna-preset-item-name="'.concat(t,'"]'))},rA=function(t){Vu('[data-monomer-item-id="'.concat(t,'"]'))},nA=function(t){var r=t.duplicatePreset,n=T(Gn),o=T(Ga),a=T(Qe),i=Pu(n),s=ce(),l=S.useState(!1),c=j(l,2),u=c[0],d=c[1];S.useEffect(function(){if(n){(n.name||o)&&d(!0);return}s(Va()),s(Ut(Ie.Presets))},[n]),S.useEffect(function(){s(Ka({rnaPreset:n,isEditMode:o}))},[o]);var v=function(){d(!u),n!=null&&n.nameInList||s(ot(!0))};return E(X4,{"data-testid":"rna-editor",children:[E(J4,{className:a?"styled-header--sequence-edit-mode":"",children:["RNA Builder",f(eA,{onClick:v,"data-testid":"rna-builder-expand-button",children:f(tA,{expanded:u,name:"chevron"})})]}),n?u?f(Q4,{isEditMode:o,onDuplicate:r}):f(L4,{name:n.name,fullName:i}):f(ee,{})]})},oA=w("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),Yu=function(t){var r=t.ketcher;return Dl("scrollbar-width:thin;scrollbar-color:",r.color.scroll.regular," ",r.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",r.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",r.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",r.color.scroll.regular,";}","")},aA={expandButton:"Modal-module_expandButton__J1QYl"};function Ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ns(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ns(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var sA=w(Ev,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),lA=w(qv,{target:"e45wfhi4"})(function(e){var t=e.theme;return{padding:"2px 4px 2px 12px;",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(t.ketcher.font.family.inter),fontSize:"".concat(t.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:"1px solid rgba(202, 211, 221, 1)"}},""),cA=w("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),js=w(ye,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),Zu=w($v,{target:"e45wfhi1"})("padding:0;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(e){var t=e.theme;return Yu(t)},";"),Qu=w(Tv,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(e){var t=e.theme,r=e.withborder;return r==="true"?t.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}"),Q=function(t){var r=t.children,n=t.title,o=t.isOpen,a=t.showCloseButton,i=a===void 0?!0:a,s=t.showExpandButton,l=s===void 0?!1:s,c=t.onClose,u=t.className,d=t.modalWidth,v=t.expanded,h=v===void 0?!1:v,p=t.setExpanded,m=p===void 0?ht:p,g=kf(),b=S.useMemo(function(){return{style:iA({background:g.ketcher.color.background.primary,borderRadius:"8px",color:g.ketcher.color.text.primary},l&&{margin:"auto",width:h?"100%":d,height:h?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})}},[g.ketcher.color.text.primary,g.ketcher.color.background.canvas,h]),y=S.useMemo(function(){return{style:{background:g.ketcher.color.background.overlay,opacity:.4}}},[g.ketcher.color.background.overlay]),C={Content:null,Footer:null};return xt.Children.forEach(r,function(x){x.type===Zu?C.Content=x:x.type===Qu&&(C.Footer=x)}),E(sA,{BackdropProps:y,PaperProps:b,open:o,onClose:c,container:document.querySelector(Lt),disableEscapeKeyDown:!i,className:u,sx:{padding:"24px"},children:[n||i||l?E(lA,{children:[f(cA,{children:n}),E("span",{children:[l&&f(di,{title:"expand window",className:aA.expandButton,onClick:function(){m(!h)},children:f(js,{name:h?"minimize-expansion":"expand"})}),i&&f(di,{title:"Close window",onClick:c,children:f(js,{name:"close"})})]})]}):"",C.Content,C.Footer]})};Q.Content=Zu;Q.Footer=Qu;var uA=function(t){var r=t.libraryName,n=t.duplicatePreset,o=t.editPreset,a=ce(),i=T(D5),s=T(_5),l=function(){i.length>0&&a(Ya("")),s.length>0&&a(Lu(""))};return E(oA,{children:[f(nA,{duplicatePreset:n}),f(O4,{libraryName:r,duplicatePreset:n,editPreset:o}),E(Q,{isOpen:!!i||!!s,title:"Error Message",onClose:l,children:[f(Q.Content,{children:E("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),s&&'Preset with name "'.concat(s,`" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.`)]})}),f(Q.Footer,{children:f(Wu,{onClick:l,children:"Close"})})]})]})},dA=function(t,r){return[{caption:"Favorites",component:po,testId:"FAVORITES-TAB",props:{libraryName:gu,duplicatePreset:t,editPreset:r}},{caption:"Peptides",component:po,testId:"PEPTIDES-TAB",props:{libraryName:Mr.PEPTIDE}},{caption:"RNA",testId:"RNA-TAB",component:uA,props:{libraryName:Mr.RNA,duplicatePreset:t,editPreset:r}},{caption:"CHEM",component:po,testId:"CHEM-TAB",props:{libraryName:Mr.CHEM}}]};function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ls(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _s="_Copy",fA=function(){var t=S.useRef([]),r=ce();S.useEffect(function(){r(ps(""))},[r]),T(Wn,function(i){return t.current=i,!0});var n=function(s){r(ps(s.target.value))},o=function(s){var l="".concat(s==null?void 0:s.name).concat(_s),c;do c=t.current.find(function(v){return v.name===l}),c&&(l+=_s);while(c);if(c){r(Ya(l));return}var u=c?"".concat(l,"_Copy"):l,d=Ds(Ds({},s),{},{name:u,nameInList:u,default:!1,favorite:!1});r(Lr(d)),r(ot(!0)),Uo(s==null?void 0:s.name)},a=function(s){r(Lr(s)),r(ot(!0))};return E(J5,{"data-testid":"monomer-library",children:[E(t4,{children:[f(e4,{children:"Library"}),f(r4,{children:E("div",{children:[f("span",{children:f(ye,{name:"search"})}),f(X5,{type:"search","data-testid":"monomer-library-input",onChange:n,placeholder:"Search by name..."})]})})]}),f(d4,{tabs:dA(o,a)})]})},vA=w("div",{target:"emj253a0"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.regular,color:t.ketcher.color.text.secondary,position:"absolute",cursor:"pointer",top:"calc(8px + 12px)",right:"calc(4px + 12px)",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",lineHeight:1,padding:"5px 8px",borderRadius:"4px",userSelect:"none","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}},"&.hidden":{backgroundColor:t.ketcher.color.button.primary.active,color:t.ketcher.color.button.text.primary}}},""),pA=function(t){var r=t.isHidden,n=t.onClick;return E(vA,{className:r?"hidden":"",onClick:n,children:[f("span",{className:"icon",children:r?f(ye,{name:"arrows-left"}):f(ye,{name:"arrows-right"})}),f("span",{children:r?"Show Library":"Hide"})]})},hA=w("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(e){var t=e.theme;return t.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),Vn=function(){return E(hA,{className:"loading-spinner",children:[f("span",{}),f("span",{}),f("span",{})]})},mA="file-thumbnail",gA=w("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),yA=w("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),bA=function(t){var r=t.fileName;return E(gA,{children:[r&&E(yA,{children:[f(ye,{name:mA}),f("p",{children:r})]}),f(Vn,{})]})},xA=["textLabel","iconName","disabled","disabledText"];function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var wA={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},CA=w(ye,{target:"erk2iw51"})("filter:",function(e){var t=e.disabled;return t?"grayscale(1)":""},";opacity:",function(e){var t=e.disabled;return t?"0.6":"1"},";"),SA={backgroundColor:"#F8FEFFFF"},MA=w("div",{target:"erk2iw50"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),$s=function(t){var r=t.textLabel,n=t.iconName,o=t.disabled,a=t.disabledText,i=ca(t,xA),s=Yf(Ft({multiple:!1,noClick:!0,disabled:o},i)),l=s.getRootProps,c=s.getInputProps,u=s.isDragActive,d=s.open,v=S.useMemo(function(){return Ft(Ft({},wA),u?SA:{})},[u]);return E("div",Ft(Ft({},l({style:v})),{},{onClick:d,children:[f("input",Ft({},c())),f(CA,{name:n,disabled:o}),o?f(AA,{children:a}):E(ee,{children:[f(MA,{children:r&&f("span",{children:r})}),f(Xu,{children:"Open from file"})]})]}))},mo={PASTE:"open-window-paste-icon",FILE:"open-window-upload-icon",IMAGE:"image-frame"},Xu=w("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),AA=w("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),EA=w("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),go=w("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(e){var t=e.theme;return t.ketcher.color.button.primary.active},";}"),IA=function(t){var r=t.selectClipboard,n=t.fileLoadHandler,o=t.errorHandler;return E(EA,{children:[E(go,{"data-testid":"paste-from-clipboard-button",onClick:r,children:[f(ye,{name:mo.PASTE}),f(Xu,{children:"Paste from clipboard"})]}),f(go,{children:f($s,{onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:mo.FILE})}),f(go,{children:f($s,{accept:"image/*",onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:mo.IMAGE,disabled:!0,disabledText:"Image Recognition service is not available"})})]})},PA=w("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(e){var t=e.theme;return t.ketcher.color.input.text.active},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";background-color:",function(e){var t=e.theme,r=e.readOnly;return r?t.ketcher.color.input.background.disabled:t.ketcher.color.input.background.primary},";",function(e){var t=e.theme;return Yu(t)},";"),Ju=function(t){var r=t.value,n=t.inputHandler,o=t.readonly,a=o===void 0?!1:o,i=t.selectOnInit,s=i===void 0?!1:i,l=t.className,c=t.testId,u=S.useRef(null);return S.useEffect(function(){if(s){var d;(d=u.current)===null||d===void 0||d.select()}},[u,r,s]),f(PA,{value:r,readOnly:a,onChange:n&&function(d){return n(d.target.value)},ref:u,className:l,"data-testid":c})};function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var kA=w(Ju,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),OA=function(t){if(t.isAnalyzingFile)return f(bA,{fileName:t.fileName});switch(t.currentState){case t.states.openOptions:return f(IA,Bs({},t));case t.states.textEditor:return f(kA,Bs({testId:"open-structure-textarea"},t));default:return null}},TA=["label","clickHandler","children","styleType"];function zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ed={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},NA=w(Yl,{target:"ejign8b1"})(function(e){var t=e.theme;return{backgroundColor:t.ketcher.color.button.primary.active,border:"1px solid ".concat(t.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:t.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:t.ketcher.color.button.primary.hover},"&:disabled":{background:t.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},ed,""),jA=w(Yl,{target:"ejign8b0"})(function(e){var t=e.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(t.ketcher.color.button.secondary.active),color:t.ketcher.color.button.secondary.active,fontWeight:t.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(t.ketcher.color.button.secondary.hover),color:t.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(t.ketcher.color.button.secondary.disabled),color:t.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(t.ketcher.color.button.secondary.clicked),color:t.ketcher.color.button.secondary.clicked}}},ed,""),Oe=function(t){var r=t.label,n=t.clickHandler,o=t.children,a=t.styleType,i=ca(t,TA);return a==="secondary"?f(jA,Vr(Vr({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r})):f(NA,Vr(Vr({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r}))};function LA(){return new Promise(function(e,t){Io.FileReader?e(DA):t(new Error("Your browser does not support opening files locally"))})}function DA(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){var o=n.result;e.msClose&&e.msClose(),t(o)},n.onerror=function(o){r(o)},n.readAsText(e,"UTF-8")})}var _A=w("div",{target:"efvrr8x1"})("position:relative;padding:",function(e){var t=e.currentState;return t===ut.openOptions?"10px 12px":"0"},";");w(Oe,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"});w(ye,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var RA=w(ye,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),$A=function(t){var r=t.className;return f(RA,{name:"chevron",className:r})};function qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var FA=w(Kv,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),BA={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},zA=w(Vf,{target:"e944g1i1"})("height:24px;border:1px solid #5b6077;border-radius:4px;font-size:14px;",function(e){var t=e.open;return t&&BA}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;}& span{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),qA={width:"120px",backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},HA=w(Kf,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:14px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}"),UA=function(t){var r=t.options,n=t.currentSelection,o=t.selectionHandler,a=t.className,i=t.label,s=t.testId,l=t.customStylesForExpanded,c=l===void 0?{}:l,u=t.disabled,d=u===void 0?!1:u,v=S.useState(!1),h=j(v,2),p=h[0],m=h[1],g=function(M){var A=r.filter(function(I){return I.id===M})[0];return f("span",{children:A.label})},b=function(M){o(M.target.value)},y=function(M){M.type!=="keydown"&&m(!0)},C=function(){m(!1)};return E(FA,{className:a,children:[i&&f("label",{htmlFor:"fileformat",children:"File format:"}),f(zA,{value:n,onChange:b,open:p,onOpen:y,onClose:C,renderValue:g,IconComponent:$A,disabled:d,fullWidth:!0,"data-testid":s||"dropdown-select",MenuProps:{PaperProps:{style:Hs(Hs({},qA),c)},MenuListProps:{style:{padding:"0"}}},children:r.map(function(x){return f(HA,{value:x.id,children:f(Qv,{primary:x.label})},x.id)})})]})},GA=w("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),WA=w("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),td=w(UA,{target:"el6v3ot3"})(function(e){var t=e.theme;return{width:"calc(50% - 6px)",height:"28px","& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(t.ketcher.color.input.border.regular),backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,fontFamily:t.ketcher.font.family.inter}}},""),Go={border:"none"},rd=w("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),KA=w("div",{target:"el6v3ot1"})(function(e){var t=e.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(t.ketcher.color.input.border.regular)}},""),VA=w("div",{target:"el6v3ot0"})(function(e){var t=e.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),YA=w(Q,{target:"e1oaegu38"})(function(e){var t=e.modalWidth;return`
    .MuiPaper-root {
      width: `.concat(t,`;
      max-width: `).concat(t,`;
    }`)},""),ZA=w("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),QA=w("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),Za=w(td,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),XA=w(Za,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),JA=w(Za,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),e2=w(Za,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),t2=w("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),Us=w(Oe,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),Wo="ket",nn="seq",Ko="rna",nd="peptide",od="fasta",ad="one-letter",Vo="three-letter",Gs=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"helm",label:"HELM"}],r2=[{id:Ko,label:"RNA"},{id:"dna",label:"DNA"},{id:nd,label:"Peptide"}],n2=[{id:ad,label:"1-letter code"},{id:Vo,label:"3-letter code"}],yo=Ff,ut={openOptions:"openOptions",textEditor:"textEditor"},Ws=function(t){var r=t.ketSerializer,n=t.editor,o=t.struct,a=!n.drawingEntitiesManager.hasDrawingEntities,i=r.deserializeToDrawingEntities(o);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var s=i.drawingEntitiesManager.mergeInto(n.drawingEntitiesManager),l=s.command,c=new Vl(n),u=n.mode instanceof Wl,d=n.mode instanceof Zf,v=n.mode instanceof Qf;v&&(n.drawingEntitiesManager.recalculateAntisenseChains(),n.drawingEntitiesManager.hasAntisenseChains&&(l.merge(n.drawingEntitiesManager.applySnakeLayout(n.canvas.width.baseVal.value,!0,!0,!0)),l.setUndoOperationsByPriority())),n.drawingEntitiesManager.detectBondsOverlappedByMonomers(),n.renderersContainer.update(l),c.update(l),u&&(l.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:Kt.sequence,mergeWithLatestHistoryCommand:!0})),d&&(l.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:Kt.snake,mergeWithLatestHistoryCommand:!0})),a&&n.zoomToStructuresIfNeeded()},Ks=function(){var e=Ul(Ge.mark(function t(r){var n,o,a,i,s,l,c,u,d,v,h,p,m,g,b,y,C,x;return Ge.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(n=r.struct,o=r.formatSelection,a=r.additionalSelection,i=r.peptideLettersFormatSelection,s=r.onCloseCallback,l=r.setIsLoading,c=r.dispatch,u=o===Wo,d=o===nn,v=o===od,h=new Eo,p=Ln.provideEditorInstance(),g=n,b=function(P){var k="Convert error! "+P;c(jr({errorMessage:k,errorTitle:d||v?"Unsupported symbols":""}))},!u){A.next=13;break}try{Ws({struct:n,ketSerializer:h,editor:p}),s()}catch{b("Error during file parsing.")}return A.abrupt("return");case 13:v||d&&i!==Vo?(m=yo[o][a],g=g.toUpperCase()):d&&i===Vo?m=yo.seq.peptide3Letter:m=yo[o];case 14:return y=Hl.getIndigo(),A.prev=15,l(!0),A.next=19,y.convert({struct:g,output_format:At.KET,input_format:m});case 19:C=A.sent,Ws({struct:C.struct,ketSerializer:h,editor:p}),s(),A.next=29;break;case 24:A.prev=24,A.t0=A.catch(15),x=typeof A.t0=="string"?A.t0:JSON.stringify(A.t0),b(x),dn.error(A.t0);case 29:return A.prev=29,l(!1),A.finish(29);case 32:case"end":return A.stop()}},t,null,[[15,24,29,32]])}));return function(r){return e.apply(this,arguments)}}(),Vs=!1,Ys=function(t){},o2=function(t){var r=t.isModalOpen,n=t.onClose,o=ce(),a=S.useState(""),i=j(a,2),s=i[0],l=i[1],c=S.useState(""),u=j(c,2),d=u[0],v=u[1],h=S.useState(!1),p=j(h,2),m=p[0],g=p[1],b=S.useState(),y=j(b,2),C=y[0],x=y[1],M=S.useState(ut.openOptions),A=j(M,2),I=A[0],P=A[1],k=S.useState(Wo),N=j(k,2),O=N[0],B=N[1],G=S.useState(Ko),D=j(G,2),R=D[0],$=D[1],q=S.useState(ad),L=j(q,2),U=L[0],ie=L[1];S.useEffect(function(){var F=d==null?void 0:d.split("."),ue=F[F.length-1];if(ue){var we=Gs.find(function(ur){return ur.id===ue}),Ne=we!=null&&we.id?we.id:nn;B(Ne)}},[d]),S.useEffect(function(){LA().then(function(F){x({chosenOpener:F})})},[]);var he=S.useCallback(function(){P(ut.openOptions),l(""),B(Wo),$(Ko),n()},[n]),te=function(ue){var we=function(qd){l(qd),P(ut.textEditor)},Ne=function(){return Ys()};v(ue[0].name),C==null||C.chosenOpener(ue[0]).then(we,Ne)},V=function(){Ks({struct:s,formatSelection:O,additionalSelection:R,peptideLettersFormatSelection:U,onCloseCallback:he,setIsLoading:g,dispatch:o})},H=function(){var ue=Ln.provideEditorInstance(),we=new Vl(ue),Ne=ue.drawingEntitiesManager.deleteAllEntities();we.update(Ne),ue.renderersContainer.update(Ne),ue.zoomToStructuresIfNeeded(),Ks({struct:s,formatSelection:O,additionalSelection:R,peptideLettersFormatSelection:U,onCloseCallback:he,setIsLoading:g,dispatch:o})},z=function(){return E(ZA,{children:[E(QA,{children:[f(XA,{options:Gs,currentSelection:O,selectionHandler:B,customStylesForExpanded:Go},O),O===nn||O===od?f(JA,{options:r2,currentSelection:R,selectionHandler:$,customStylesForExpanded:Go,testId:"dropdown-select-type"},R):null,O===nn&&R===nd?f(e2,{options:n2,currentSelection:U,selectionHandler:ie,testId:"dropdown-select-peptide-letters-format"}):null]}),E(t2,{children:[f(Us,{disabled:!s,clickHandler:H,label:"Open as New",styleType:"secondary"},"openButton"),f(Us,{disabled:!s,clickHandler:V,label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})};return E(YA,{isOpen:r,title:"Open Structure",onClose:he,modalWidth:I===ut.textEditor?"620px":"",children:[f(Q.Content,{children:E(_A,{currentState:I,children:[f(OA,{isAnalyzingFile:Vs,fileName:d,currentState:I,states:ut,selectClipboard:function(){return P(ut.textEditor)},fileLoadHandler:te,errorHandler:Ys,value:s,inputHandler:l}),m&&f(rd,{children:f(Vn,{})})]})}),I===ut.textEditor&&!Vs?f(Q.Footer,{withborder:"true",children:z()}):f(ee,{})]})},a2=["value","id","onChange","label"];function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zs(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var s2=w("label",{target:"e10m4n7r1"})(function(e){var t=e.theme;return{display:"flex",flexDirection:"column",marginRight:"8px",color:t.ketcher.color.text.primary,fontSize:"12px"}},""),l2=w("input",{target:"e10m4n7r0"})(function(e){var t=e.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(t.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:t.ketcher.color.input.background.primary,color:t.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:t.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)}}},""),c2=function(t){var r=t.value,n=t.id,o=t.onChange,a=t.label,i=ca(t,a2),s=function(c){o(c.target.value)};return f(ee,{children:E(s2,{htmlFor:n,children:[a&&f("span",{children:a}),f(l2,i2({type:"text",id:n,value:r,onChange:s},i))]})})},Be;(function(e){e.Ket="chemical/x-ket",e.Mol="chemical/x-mdl-molfile",e.HELM="chemincal/x-helm",e.Fasta="chemical/x-fasta",e.Sequence="chemical/x-sequence",e.Idt="chemical/x-idt",e.Svg="image/svg+xml"})(Be||(Be={}));var ct=Gl(function e(t,r,n,o,a){Zl(this,e),this.name=t,this.mime=r,this.extensions=n,this.supportsCoords=o||!1,this.options=a||{}}),u2={ket:new ct("Ket file",Be.Ket,[".ket"],!0,{}),mol:new ct("MDL Molfile V3000",Be.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new ct("FASTA",Be.Fasta,[".fasta"],!1,{}),sequence:new ct("SEQUENCE",Be.Sequence,[".seq"],!1,{}),"sequence-3-letter":new ct("SEQUENCE (3-letter code)",Be.Sequence,[".seq"],!1,{}),idt:new ct("IDT",Be.Idt,[".idt"],!1,{}),helm:new ct("HELM",Be.HELM,[".helm"]),svg:new ct("SVG Document",Be.Svg,[".svg"])},Qs=function(t){return u2[t]},d2=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],f2={mol:At.Mol,fasta:At.FASTA,sequence:At.SEQUENCE,"sequence-3-letter":At.PeptideSequenceThreeLetter,idt:At.IDT,helm:At.HELM},v2=w(Q,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),p2=function(t){var r=t.onClose,n=t.isModalOpen,o=ce(),a=S.useState("ket"),i=j(a,2),s=i[0],l=i[1],c=S.useState("ketcher"),u=j(c,2),d=u[0],v=u[1],h=S.useState(""),p=j(h,2),m=p[0],g=p[1],b=S.useState(!1),y=j(b,2),C=y[0],x=y[1],M=S.useState(),A=j(M,2),I=A[0],P=A[1],k=Hl.getIndigo(),N=Ln.provideEditorInstance(),O=function(){var R=Ul(Ge.mark(function $(q){var L,U,ie,he,te,V,H;return Ge.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(l(q),L=new Eo,U=L.serialize(N.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),N.drawingEntitiesManager),P(void 0),q!=="ket"){F.next=7;break}return g(U),F.abrupt("return");case 7:if(q!=="svg"){F.next=11;break}return ie=ui(N.canvas,"preview"),P(ie),F.abrupt("return");case 11:if(F.prev=11,x(!0),!(q==="fasta"||q==="sequence")){F.next=17;break}if(he=N.drawingEntitiesManager.validateIfApplicableForFasta(),he){F.next=17;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 17:return F.next=19,k.convert({struct:U,output_format:f2[q]});case 19:te=F.sent,g(te.struct),F.next=30;break;case 23:F.prev=23,F.t0=F.catch(11),F.t0 instanceof Error?V=F.t0.message:V=typeof F.t0=="string"?F.t0:JSON.stringify(F.t0),H="Convert error! "+V,o(jr(H)),dn.error(H),l("ket");case 30:return F.prev=30,x(!1),F.finish(30);case 33:case"end":return F.stop()}},$,null,[[11,23,30,33]])}));return function(q){return R.apply(this,arguments)}}(),B=function($){v($)},G=function(){var $;if(s==="svg"){var q=ui(N.canvas,"file");if(!q){r();return}$=q}else $=m;var L=new Blob([$],{type:Qs(s).mime}),U=Qs(s);Df.saveAs(L,"".concat(d).concat(U.extensions[0])),r()},D=function($){$.preventDefault();try{_f()?navigator.clipboard.writeText(m):Rf($.clipboardData,{"text/plain":m})}catch(q){dn.error("copyAs.js::copyAs",q),o(jr("This feature is not available in your browser"))}};return S.useEffect(function(){if(s==="ket"){var R=new Eo,$=R.serialize(N.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),N.drawingEntitiesManager);g($)}},[s]),E(v2,{title:"save structure",isOpen:n,onClose:r,children:[f(Q.Content,{children:E(GA,{onSubmit:G,id:"save",children:[E(WA,{style:{padding:"12px 12px 10px"},children:[f("div",{children:f(c2,{value:d,id:"filename",onChange:B,label:"File name:"})}),f(td,{label:"File format:",options:d2,currentSelection:s,selectionHandler:O,customStylesForExpanded:Go})]}),I?f(KA,{dangerouslySetInnerHTML:{__html:I}}):E(VA,{children:[f(Ju,{testId:"preview-area-text",value:m,readonly:!0}),f(Tn,{onClick:D,iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),C&&f(rd,{children:f(Vn,{})})]})]})}),E(Q.Footer,{children:[f(Oe,{label:"Cancel",styleType:"secondary",clickHandler:r}),f(Oe,{label:"Save",clickHandler:G,disabled:!d})]})]})},Xs=w(Oe,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),h2=w("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),m2=function(t){var r=t.isModalOpen,n=t.onClose,o=ce(),a=T(Ou),i=T(se),s=S.useCallback(function(){n()},[n]),l=function(){s()},c=function(){s(),o(B5(a)),o(ot(!1)),o(Va()),i.events.selectPreset.dispatch(null)};return E(Q,{isOpen:r,title:"Delete RNA Preset",onClose:s,children:[f(Q.Content,{children:E(h2,{"data-testid":"delete-preset-popup-content",children:[f("div",{children:"You are about to delete"}),E("div",{children:['"',a.name,'" RNA preset.']}),f("div",{children:"This operation cannot be undone."})]})}),E(Q.Footer,{children:[f(Xs,{clickHandler:l,label:"Cancel",styleType:"secondary"},"cancel"),f(Xs,{clickHandler:c,label:"Delete"},"delete")]})]})},g2=w("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),y2=function(t){var r=t.isModalOpen,n=t.onClose,o=ce(),a=T(Iu),i=T(se),s=wn(a),l=S.useCallback(function(){n()},[n]),c=function(){xn(o,i)},u=function(){l()},d=function(){l(),i.events.modifySequenceInRnaBuilder.dispatch(a),c()};return E(Q,{isOpen:r,title:"Update sequence",onClose:l,children:[f(Q.Content,{children:E(g2,{children:["You are going to modify ",s," nucleotides. Are you sure?"]})}),E(Q.Footer,{children:[f(Oe,{clickHandler:u,label:"Cancel",styleType:"secondary"},"cancel"),f(Oe,{clickHandler:d,label:"Yes"},"update")]})]})},b2=w("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),x2=w("span",{target:"e1tvvbc91"})(function(e){return{margin:0,padding:0,textAlign:"center",display:"block",font:e.theme.ketcher.font.family.inter,fontSize:e.theme.ketcher.font.size.small,fontWeight:e.theme.ketcher.font.weight.regular,color:e.disabled?"rgba(180, 185, 214, 1)":e.theme.ketcher.color.text.light}},""),w2=w("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),id=function(t){return t==="O"?"OH":t},C2=w(Ql,{target:"e1huhxto1"})(function(e){var t=e.theme,r=e.isExpanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),S2=w("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),M2=w("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),sd=function(){return E(M2,{children:[f(ye,{name:"questionMark"}),"Unknown structure"]})},A2={value:()=>{}};function ld(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new on(r)}function on(e){this._=e}function E2(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}on.prototype=ld.prototype={constructor:on,on:function(e,t){var r=this._,n=E2(e+"",r),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=I2(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=n[a]).type)r[o]=Js(r[o],e.name,t);else if(t==null)for(o in r)r[o]=Js(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new on(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,a;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)}};function I2(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function Js(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=A2,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Yo="http://www.w3.org/1999/xhtml",el={svg:"http://www.w3.org/2000/svg",xhtml:Yo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),el.hasOwnProperty(t)?{space:el[t],local:e}:e}function P2(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Yo&&t.documentElement.namespaceURI===Yo?t.createElement(e):t.createElementNS(r,e)}}function k2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function cd(e){var t=Yn(e);return(t.local?k2:P2)(t)}function O2(){}function Qa(e){return e==null?O2:function(){return this.querySelector(e)}}function T2(e){typeof e!="function"&&(e=Qa(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=new Array(i),l,c,u=0;u<i;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Te(n,this._parents)}function N2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function j2(){return[]}function ud(e){return e==null?j2:function(){return this.querySelectorAll(e)}}function L2(e){return function(){return N2(e.apply(this,arguments))}}function D2(e){typeof e=="function"?e=L2(e):e=ud(e);for(var t=this._groups,r=t.length,n=[],o=[],a=0;a<r;++a)for(var i=t[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(n.push(e.call(l,l.__data__,c,i)),o.push(l));return new Te(n,o)}function dd(e){return function(){return this.matches(e)}}function fd(e){return function(t){return t.matches(e)}}var _2=Array.prototype.find;function R2(e){return function(){return _2.call(this.children,e)}}function $2(){return this.firstElementChild}function F2(e){return this.select(e==null?$2:R2(typeof e=="function"?e:fd(e)))}var B2=Array.prototype.filter;function z2(){return Array.from(this.children)}function q2(e){return function(){return B2.call(this.children,e)}}function H2(e){return this.selectAll(e==null?z2:q2(typeof e=="function"?e:fd(e)))}function U2(e){typeof e!="function"&&(e=dd(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Te(n,this._parents)}function vd(e){return new Array(e.length)}function G2(){return new Te(this._enter||this._groups.map(vd),this._parents)}function Cn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cn.prototype={constructor:Cn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function W2(e){return function(){return e}}function K2(e,t,r,n,o,a){for(var i=0,s,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],n[i]=s):r[i]=new Cn(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function V2(e,t,r,n,o,a,i){var s,l,c=new Map,u=t.length,d=a.length,v=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(v[s]=h=i.call(l,l.__data__,s,t)+"",c.has(h)?o[s]=l:c.set(h,l));for(s=0;s<d;++s)h=i.call(e,a[s],s,a)+"",(l=c.get(h))?(n[s]=l,l.__data__=a[s],c.delete(h)):r[s]=new Cn(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(v[s])===l&&(o[s]=l)}function Y2(e){return e.__data__}function Z2(e,t){if(!arguments.length)return Array.from(this,Y2);var r=t?V2:K2,n=this._parents,o=this._groups;typeof e!="function"&&(e=W2(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=n[c],d=o[c],v=d.length,h=Q2(e.call(u,u&&u.__data__,c,n)),p=h.length,m=s[c]=new Array(p),g=i[c]=new Array(p),b=l[c]=new Array(v);r(u,d,m,g,b,h,t);for(var y=0,C=0,x,M;y<p;++y)if(x=m[y]){for(y>=C&&(C=y+1);!(M=g[C])&&++C<p;);x._next=M||null}}return i=new Te(i,n),i._enter=s,i._exit=l,i}function Q2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X2(){return new Te(this._exit||this._groups.map(vd),this._parents)}function J2(e,t,r){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?a.remove():r(a),n&&o?n.merge(o).order():o}function e3(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,a=n.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var c=r[l],u=n[l],d=c.length,v=s[l]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(v[p]=h);for(;l<o;++l)s[l]=r[l];return new Te(s,this._parents)}function t3(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function r3(e){e||(e=n3);function t(d,v){return d&&v?e(d.__data__,v.__data__):!d-!v}for(var r=this._groups,n=r.length,o=new Array(n),a=0;a<n;++a){for(var i=r[a],s=i.length,l=o[a]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new Te(o,this._parents).order()}function n3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function a3(){return Array.from(this)}function i3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function s3(){let e=0;for(const t of this)++e;return e}function l3(){return!this.node()}function c3(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function u3(e){return function(){this.removeAttribute(e)}}function d3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f3(e,t){return function(){this.setAttribute(e,t)}}function v3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function p3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function h3(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function m3(e,t){var r=Yn(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?d3:u3:typeof t=="function"?r.local?h3:p3:r.local?v3:f3)(r,t))}function pd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function g3(e){return function(){this.style.removeProperty(e)}}function y3(e,t,r){return function(){this.style.setProperty(e,t,r)}}function b3(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function x3(e,t,r){return arguments.length>1?this.each((t==null?g3:typeof t=="function"?b3:y3)(e,t,r??"")):Xt(this.node(),e)}function Xt(e,t){return e.style.getPropertyValue(t)||pd(e).getComputedStyle(e,null).getPropertyValue(t)}function w3(e){return function(){delete this[e]}}function C3(e,t){return function(){this[e]=t}}function S3(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function M3(e,t){return arguments.length>1?this.each((t==null?w3:typeof t=="function"?S3:C3)(e,t)):this.node()[e]}function hd(e){return e.trim().split(/^|\s+/)}function Xa(e){return e.classList||new md(e)}function md(e){this._node=e,this._names=hd(e.getAttribute("class")||"")}md.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gd(e,t){for(var r=Xa(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function yd(e,t){for(var r=Xa(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function A3(e){return function(){gd(this,e)}}function E3(e){return function(){yd(this,e)}}function I3(e,t){return function(){(t.apply(this,arguments)?gd:yd)(this,e)}}function P3(e,t){var r=hd(e+"");if(arguments.length<2){for(var n=Xa(this.node()),o=-1,a=r.length;++o<a;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?I3:t?A3:E3)(r,t))}function k3(){this.textContent=""}function O3(e){return function(){this.textContent=e}}function T3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function N3(e){return arguments.length?this.each(e==null?k3:(typeof e=="function"?T3:O3)(e)):this.node().textContent}function j3(){this.innerHTML=""}function L3(e){return function(){this.innerHTML=e}}function D3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _3(e){return arguments.length?this.each(e==null?j3:(typeof e=="function"?D3:L3)(e)):this.node().innerHTML}function R3(){this.nextSibling&&this.parentNode.appendChild(this)}function $3(){return this.each(R3)}function F3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B3(){return this.each(F3)}function z3(e){var t=typeof e=="function"?e:cd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function q3(){return null}function H3(e,t){var r=typeof e=="function"?e:cd(e),n=t==null?q3:typeof t=="function"?t:Qa(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function U3(){var e=this.parentNode;e&&e.removeChild(this)}function G3(){return this.each(U3)}function W3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function V3(e){return this.select(e?K3:W3)}function Y3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Z3(e){return function(t){e.call(this,t,this.__data__)}}function Q3(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function X3(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,a;r<o;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function J3(e,t,r){return function(){var n=this.__on,o,a=Z3(t);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=t;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(o):this.__on=[o]}}function eE(e,t,r){var n=Q3(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<a;++o)if((i=n[o]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?J3:X3,o=0;o<a;++o)this.each(s(n[o],t,r));return this}function bd(e,t,r){var n=pd(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function tE(e,t){return function(){return bd(this,e,t)}}function rE(e,t){return function(){return bd(this,e,t.apply(this,arguments))}}function nE(e,t){return this.each((typeof t=="function"?rE:tE)(e,t))}function*oE(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var xd=[null];function Te(e,t){this._groups=e,this._parents=t}function Ur(){return new Te([[document.documentElement]],xd)}function aE(){return this}Te.prototype=Ur.prototype={constructor:Te,select:T2,selectAll:D2,selectChild:F2,selectChildren:H2,filter:U2,data:Z2,enter:G2,exit:X2,join:J2,merge:e3,selection:aE,order:t3,sort:r3,call:o3,nodes:a3,node:i3,size:s3,empty:l3,each:c3,attr:m3,style:x3,property:M3,classed:P3,text:N3,html:_3,raise:$3,lower:B3,append:z3,insert:H3,remove:G3,clone:V3,datum:Y3,on:eE,dispatch:nE,[Symbol.iterator]:oE};function iE(e){return typeof e=="string"?new Te([[document.querySelector(e)]],[document.documentElement]):new Te([[e]],xd)}function Ja(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wd(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gr(){}var Dr=.7,Sn=1/Dr,Gt="\\s*([+-]?\\d+)\\s*",_r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sE=/^#([0-9a-f]{3,8})$/,lE=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),cE=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),uE=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${_r}\\)$`),dE=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${_r}\\)$`),fE=new RegExp(`^hsl\\(${_r},${Ue},${Ue}\\)$`),vE=new RegExp(`^hsla\\(${_r},${Ue},${Ue},${_r}\\)$`),tl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ja(Gr,Rr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rl,formatHex:rl,formatHex8:pE,formatHsl:hE,formatRgb:nl,toString:nl});function rl(){return this.rgb().formatHex()}function pE(){return this.rgb().formatHex8()}function hE(){return Cd(this).formatHsl()}function nl(){return this.rgb().formatRgb()}function Rr(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ol(t):r===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lE.exec(e))?new Ae(t[1],t[2],t[3],1):(t=cE.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uE.exec(e))?Yr(t[1],t[2],t[3],t[4]):(t=dE.exec(e))?Yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fE.exec(e))?sl(t[1],t[2]/100,t[3]/100,1):(t=vE.exec(e))?sl(t[1],t[2]/100,t[3]/100,t[4]):tl.hasOwnProperty(e)?ol(tl[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function ol(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Yr(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ae(e,t,r,n)}function mE(e){return e instanceof Gr||(e=Rr(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Zo(e,t,r,n){return arguments.length===1?mE(e):new Ae(e,t,r,n??1)}function Ae(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ja(Ae,Zo,wd(Gr,{brighter(e){return e=e==null?Sn:Math.pow(Sn,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dr:Math.pow(Dr,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(Tt(this.r),Tt(this.g),Tt(this.b),Mn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:al,formatHex:al,formatHex8:gE,formatRgb:il,toString:il}));function al(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function gE(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function il(){const e=Mn(this.opacity);return`${e===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${e===1?")":`, ${e})`}`}function Mn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kt(e){return e=Tt(e),(e<16?"0":"")+e.toString(16)}function sl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,r,n)}function Cd(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof Gr||(e=Rr(e)),!e)return new De;if(e instanceof De)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new De(i,s,l,e.opacity)}function yE(e,t,r,n){return arguments.length===1?Cd(e):new De(e,t,r,n??1)}function De(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ja(De,yE,wd(Gr,{brighter(e){return e=e==null?Sn:Math.pow(Sn,e),new De(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dr:Math.pow(Dr,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Ae(bo(e>=240?e-240:e+120,o,n),bo(e,o,n),bo(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new De(ll(this.h),Zr(this.s),Zr(this.l),Mn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mn(this.opacity);return`${e===1?"hsl(":"hsla("}${ll(this.h)}, ${Zr(this.s)*100}%, ${Zr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ll(e){return e=(e||0)%360,e<0?e+360:e}function Zr(e){return Math.max(0,Math.min(1,e||0))}function bo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Sd=e=>()=>e;function bE(e,t){return function(r){return e+r*t}}function xE(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wE(e){return(e=+e)==1?Md:function(t,r){return r-t?xE(t,r,e):Sd(isNaN(t)?r:t)}}function Md(e,t){var r=t-e;return r?bE(e,r):Sd(isNaN(e)?t:e)}var cl=function e(t){var r=wE(t);function n(o,a){var i=r((o=Zo(o)).r,(a=Zo(a)).r),s=r(o.g,a.g),l=r(o.b,a.b),c=Md(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return n.gamma=e,n}(1);function ft(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Qo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xo=new RegExp(Qo.source,"g");function CE(e){return function(){return e}}function SE(e){return function(t){return e(t)+""}}function ME(e,t){var r=Qo.lastIndex=xo.lastIndex=0,n,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Qo.exec(e))&&(o=xo.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:ft(n,o)})),r=xo.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?SE(l[0].x):CE(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var ul=180/Math.PI,Xo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ad(e,t,r,n,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*ul,skewX:Math.atan(l)*ul,scaleX:i,scaleY:s}}var Qr;function AE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xo:Ad(t.a,t.b,t.c,t.d,t.e,t.f)}function EE(e){return e==null||(Qr||(Qr=document.createElementNS("http://www.w3.org/2000/svg","g")),Qr.setAttribute("transform",e),!(e=Qr.transform.baseVal.consolidate()))?Xo:(e=e.matrix,Ad(e.a,e.b,e.c,e.d,e.e,e.f))}function Ed(e,t,r,n){function o(c){return c.length?c.pop()+" ":""}function a(c,u,d,v,h,p){if(c!==d||u!==v){var m=h.push("translate(",null,t,null,r);p.push({i:m-4,x:ft(c,d)},{i:m-2,x:ft(u,v)})}else(d||v)&&h.push("translate("+d+t+v+r)}function i(c,u,d,v){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),v.push({i:d.push(o(d)+"rotate(",null,n)-2,x:ft(c,u)})):u&&d.push(o(d)+"rotate("+u+n)}function s(c,u,d,v){c!==u?v.push({i:d.push(o(d)+"skewX(",null,n)-2,x:ft(c,u)}):u&&d.push(o(d)+"skewX("+u+n)}function l(c,u,d,v,h,p){if(c!==d||u!==v){var m=h.push(o(h)+"scale(",null,",",null,")");p.push({i:m-4,x:ft(c,d)},{i:m-2,x:ft(u,v)})}else(d!==1||v!==1)&&h.push(o(h)+"scale("+d+","+v+")")}return function(c,u){var d=[],v=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,v),i(c.rotate,u.rotate,d,v),s(c.skewX,u.skewX,d,v),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,v),c=u=null,function(h){for(var p=-1,m=v.length,g;++p<m;)d[(g=v[p]).i]=g.x(h);return d.join("")}}}var IE=Ed(AE,"px, ","px)","deg)"),PE=Ed(EE,", ",")",")"),Jt=0,yr=0,hr=0,Id=1e3,An,br,En=0,jt=0,Zn=0,$r=typeof performance=="object"&&performance.now?performance:Date,Pd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ei(){return jt||(Pd(kE),jt=$r.now()+Zn)}function kE(){jt=0}function In(){this._call=this._time=this._next=null}In.prototype=kd.prototype={constructor:In,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ei():+r)+(t==null?0:+t),!this._next&&br!==this&&(br?br._next=this:An=this,br=this),this._call=e,this._time=r,Jo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jo())}};function kd(e,t,r){var n=new In;return n.restart(e,t,r),n}function OE(){ei(),++Jt;for(var e=An,t;e;)(t=jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jt}function dl(){jt=(En=$r.now())+Zn,Jt=yr=0;try{OE()}finally{Jt=0,NE(),jt=0}}function TE(){var e=$r.now(),t=e-En;t>Id&&(Zn-=t,En=e)}function NE(){for(var e,t=An,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:An=r);br=e,Jo(n)}function Jo(e){if(!Jt){yr&&(yr=clearTimeout(yr));var t=e-jt;t>24?(e<1/0&&(yr=setTimeout(dl,e-$r.now()-Zn)),hr&&(hr=clearInterval(hr))):(hr||(En=$r.now(),hr=setInterval(TE,Id)),Jt=1,Pd(dl))}}function fl(e,t,r){var n=new In;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var jE=ld("start","end","cancel","interrupt"),LE=[],Od=0,vl=1,ea=2,an=3,pl=4,ta=5,sn=6;function Qn(e,t,r,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;DE(e,r,{name:t,index:n,group:o,on:jE,tween:LE,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Od})}function ti(e,t){var r=$e(e,t);if(r.state>Od)throw new Error("too late; already scheduled");return r}function Xe(e,t){var r=$e(e,t);if(r.state>an)throw new Error("too late; already running");return r}function $e(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function DE(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=kd(a,0,r.time);function a(c){r.state=vl,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var u,d,v,h;if(r.state!==vl)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===an)return fl(i);h.state===pl?(h.state=sn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=sn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if(fl(function(){r.state===an&&(r.state=pl,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=ea,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ea){for(r.state=an,o=new Array(v=r.tween.length),u=0,d=-1;u<v;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(o[++d]=h);o.length=d+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=ta,1),d=-1,v=o.length;++d<v;)o[d].call(e,u);r.state===ta&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=sn,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function _E(e,t){var r=e.__transition,n,o,a=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){a=!1;continue}o=n.state>ea&&n.state<ta,n.state=sn,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}a&&delete e.__transition}}function RE(e){return this.each(function(){_E(this,e)})}function $E(e,t){var r,n;return function(){var o=Xe(this,e),a=o.tween;if(a!==r){n=r=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function FE(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var a=Xe(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:t,value:r},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function BE(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=$e(this.node(),r).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((t==null?$E:FE)(r,e,t))}function ri(e,t,r){var n=e._id;return e.each(function(){var o=Xe(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return $e(o,n).value[t]}}function Td(e,t){var r;return(typeof t=="number"?ft:t instanceof Rr?cl:(r=Rr(t))?(t=r,cl):ME)(e,t)}function zE(e){return function(){this.removeAttribute(e)}}function qE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HE(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=t(n=i,r)}}function UE(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=t(n=i,r)}}function GE(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function WE(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function KE(e,t){var r=Yn(e),n=r==="transform"?PE:Td;return this.attrTween(e,typeof t=="function"?(r.local?WE:GE)(r,n,ri(this,"attr."+e,t)):t==null?(r.local?qE:zE)(r):(r.local?UE:HE)(r,n,t))}function VE(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function YE(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ZE(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&YE(e,a)),r}return o._value=t,o}function QE(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&VE(e,a)),r}return o._value=t,o}function XE(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Yn(e);return this.tween(r,(n.local?ZE:QE)(n,t))}function JE(e,t){return function(){ti(this,e).delay=+t.apply(this,arguments)}}function eI(e,t){return t=+t,function(){ti(this,e).delay=t}}function tI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JE:eI)(t,e)):$e(this.node(),t).delay}function rI(e,t){return function(){Xe(this,e).duration=+t.apply(this,arguments)}}function nI(e,t){return t=+t,function(){Xe(this,e).duration=t}}function oI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rI:nI)(t,e)):$e(this.node(),t).duration}function aI(e,t){if(typeof t!="function")throw new Error;return function(){Xe(this,e).ease=t}}function iI(e){var t=this._id;return arguments.length?this.each(aI(t,e)):$e(this.node(),t).ease}function sI(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Xe(this,e).ease=r}}function lI(e){if(typeof e!="function")throw new Error;return this.each(sI(this._id,e))}function cI(e){typeof e!="function"&&(e=dd(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new at(n,this._parents,this._name,this._id)}function uI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var l=t[s],c=r[s],u=l.length,d=i[s]=new Array(u),v,h=0;h<u;++h)(v=l[h]||c[h])&&(d[h]=v);for(;s<n;++s)i[s]=t[s];return new at(i,this._parents,this._name,this._id)}function dI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function fI(e,t,r){var n,o,a=dI(t)?ti:Xe;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(t,r),i.on=o}}function vI(e,t){var r=this._id;return arguments.length<2?$e(this.node(),r).on.on(e):this.each(fI(r,e,t))}function pI(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function hI(){return this.on("end.remove",pI(this._id))}function mI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Qa(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],l=s.length,c=a[i]=new Array(l),u,d,v=0;v<l;++v)(u=s[v])&&(d=e.call(u,u.__data__,v,s))&&("__data__"in u&&(d.__data__=u.__data__),c[v]=d,Qn(c[v],t,r,v,c,$e(u,r)));return new at(a,this._parents,t,r)}function gI(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ud(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var l=n[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var v=e.call(u,u.__data__,d,l),h,p=$e(u,r),m=0,g=v.length;m<g;++m)(h=v[m])&&Qn(h,t,r,m,v,p);a.push(v),i.push(u)}return new at(a,i,t,r)}var yI=Ur.prototype.constructor;function bI(){return new yI(this._groups,this._parents)}function xI(e,t){var r,n,o;return function(){var a=Xt(this,e),i=(this.style.removeProperty(e),Xt(this,e));return a===i?null:a===r&&i===n?o:o=t(r=a,n=i)}}function Nd(e){return function(){this.style.removeProperty(e)}}function wI(e,t,r){var n,o=r+"",a;return function(){var i=Xt(this,e);return i===o?null:i===n?a:a=t(n=i,r)}}function CI(e,t,r){var n,o,a;return function(){var i=Xt(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Xt(this,e))),i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s))}}function SI(e,t){var r,n,o,a="style."+t,i="end."+a,s;return function(){var l=Xe(this,e),c=l.on,u=l.value[a]==null?s||(s=Nd(t)):void 0;(c!==r||o!==u)&&(n=(r=c).copy()).on(i,o=u),l.on=n}}function MI(e,t,r){var n=(e+="")=="transform"?IE:Td;return t==null?this.styleTween(e,xI(e,n)).on("end.style."+e,Nd(e)):typeof t=="function"?this.styleTween(e,CI(e,n,ri(this,"style."+e,t))).each(SI(this._id,e)):this.styleTween(e,wI(e,n,t),r).on("end.style."+e,null)}function AI(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function EI(e,t,r){var n,o;function a(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&AI(e,i,r)),n}return a._value=t,a}function II(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,EI(e,t,r??""))}function PI(e){return function(){this.textContent=e}}function kI(e){return function(){var t=e(this);this.textContent=t??""}}function OI(e){return this.tween("text",typeof e=="function"?kI(ri(this,"text",e)):PI(e==null?"":e+""))}function TI(e){return function(t){this.textContent=e.call(this,t)}}function NI(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&TI(o)),t}return n._value=e,n}function jI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,NI(e))}function LI(){for(var e=this._name,t=this._id,r=jd(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=$e(l,t);Qn(l,e,r,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new at(n,this._parents,e,r)}function DI(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};r.each(function(){var c=Xe(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),o===0&&a()})}var _I=0;function at(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function jd(){return++_I}var Je=Ur.prototype;at.prototype={constructor:at,select:mI,selectAll:gI,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:cI,merge:uI,selection:bI,transition:LI,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:vI,attr:KE,attrTween:XE,style:MI,styleTween:II,text:OI,textTween:jI,remove:hI,tween:BE,delay:tI,duration:oI,ease:iI,easeVarying:lI,end:DI,[Symbol.iterator]:Je[Symbol.iterator]};function RI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $I={time:null,delay:0,duration:250,ease:RI};function FI(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function BI(e){var t,r;e instanceof at?(t=e._id,e=e._name):(t=jd(),(r=$I).time=ei(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&Qn(l,e,t,c,i,r||FI(l,t));return new at(n,this._parents,e,t)}Ur.prototype.interrupt=RE;Ur.prototype.transition=BI;function xr(e,t,r){this.k=e,this.x=t,this.y=r}xr.prototype={constructor:xr,scale:function(e){return e===1?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};xr.prototype;var zI=w("div",{target:"e1q9gayd0"})(function(e){var t=e.theme,r=e.expanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),qI=function(t){var r=t.monomer,n=t.expanded,o=t.selectedAttachmentPoint,a=t.connectedAttachmentPoints,i=t.usage,s=S.useRef(null);return S.useLayoutEffect(function(){var l=s.current;if(l){var c=iE(l);if(r instanceof wt){var u=(l.width.baseVal.value-l.x.baseVal.value)/2,d=(l.height.baseVal.value-l.y.baseVal.value)/2,v=new Uf(u,d),h=Gf.canvasToModel(v),p=new wt(r.variantMonomerItem,h),m=new Wf(p);m.showExternal({canvas:c,usage:i,selectedAttachmentPoint:o,connectedAttachmentPoints:a})}}},[o,a]),f(zI,{expanded:n,children:f("svg",{ref:s})})},ra=function(t){var r=t.monomer,n=t.attachmentPoints,o=t.connectedAttachmentPoints,a=t.selectedAttachmentPoint,i=t.usage,s=t.needCache,l=t.update,c=t.expanded,u=r instanceof wt,d=r.monomerItem.props.unresolved;return E(ee,{children:[u?f(qI,{monomer:r,expanded:c,selectedAttachmentPoint:a,connectedAttachmentPoints:o,usage:i}):d?f(sd,{}):f(C2,{struct:r.monomerItem.struct,options:{connectedMonomerAttachmentPoints:o,currentlySelectedMonomerAttachmentPoint:a??void 0,usageInMacromolecule:i,labelInMonomerConnectionsModal:!0,needCache:s??!1},update:l,isExpanded:c}),f(S2,{children:n})]})},hl=w("div",{target:"e14t14ao2"})(function(e){var t=e.theme,r=e.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:t.ketcher.font.family.inter,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:r?void 0:"150px"}},""),HI=w("div",{target:"e14t14ao1"})(function(e){var t=e.theme;return{width:10,height:2,display:"block",color:t.ketcher.color.button.secondary.hover,backgroundColor:t.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),UI=w("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),ml=function(t){return t instanceof wt?"Ambiguous ".concat(t.monomerClass):t.monomerItem.props.Name},Ld=function(t){var r=t.firstMonomer,n=t.secondMonomer,o=t.expanded,a=t.firstMonomerOverview,i=t.secondMonomerOverview,s=ml(r),l=ml(n);return E(UI,{children:[f(hl,{isExpanded:o,children:s}),a,f("span",{}),f(HI,{}),f("span",{}),f(hl,{isExpanded:o,children:l}),i]})};function gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function GI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gl(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var WI=w(Q,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),KI=w(Oe,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),VI=w(Oe,{target:"e1byht5d1"})(function(e){return{width:"97px !important",color:e.disabled?"rgba(51, 51, 51, 0.6)":"",background:e.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),YI=w(Oe,{target:"e1byht5d0"})(function(e){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(e.theme.ketcher.color.border.secondary),color:e.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:e.disabled?"rgba(225, 229, 234)":"",borderColor:e.disabled?"rgba(225, 229, 234) !important":""}},""),ZI=function(t){var r=t.onClose,n=t.isModalOpen,o=t.firstMonomer,a=t.secondMonomer,i=t.polymerBond,s=t.isReconnectionDialog,l=T(se),c=S.useRef(i==null?void 0:i.firstMonomerAttachmentPoint),u=S.useRef(i==null?void 0:i.secondMonomerAttachmentPoint),d=S.useRef((o==null?void 0:o.hasFreeAttachmentPoint)||(a==null?void 0:a.hasFreeAttachmentPoint));if(!o||!a)throw new Error("Monomers must exist!");var v=S.useState(c.current||bl(o)),h=j(v,2),p=h[0],m=h[1],g=S.useState(u.current||bl(a)),b=j(g,2),y=b[0],C=b[1],x=S.useState(!1),M=j(x,2),A=M[0],I=M[1],P=function(){if(s){var O;i==null||i.firstMonomer.setBond(c.current,i),i==null||(O=i.secondMonomer)===null||O===void 0||O.setBond(u.current,i),r()}else l.events.cancelBondCreationViaModal.dispatch(a),r()},k=function(){if(!p||!y)throw new Error("Attachment points cannot be falsy");if(p===c.current&&y===u.current){P();return}l.events.createBondViaModal.dispatch({firstMonomer:o,secondMonomer:a,firstSelectedAttachmentPoint:p,secondSelectedAttachmentPoint:y,polymerBond:i,isReconnection:s,initialFirstMonomerAttachmentPoint:c.current,initialSecondMonomerAttachmentPoint:u.current}),r()};return E(WI,{title:s?"Edit Connection Points":"Select connection points",isOpen:n,onClose:P,showExpandButton:!0,modalWidth:"358px",expanded:A,setExpanded:I,children:[f(Q.Content,{children:f(w2,{children:f(Ld,{firstMonomer:o,secondMonomer:a,expanded:A,firstMonomerOverview:f(yl,{monomer:o,selectedAttachmentPoint:p,onSelectAttachmentPoint:m,expanded:A}),secondMonomerOverview:f(yl,{monomer:a,selectedAttachmentPoint:y,onSelectAttachmentPoint:C,expanded:A})})})}),E(Q.Footer,{children:[f(KI,{label:"Cancel",styleType:"secondary",clickHandler:P}),f(VI,{label:s?"Reconnect":"Connect",disabled:!p||!y||!d.current,clickHandler:k})]})]})};function yl(e){var t=e.monomer,r=e.selectedAttachmentPoint,n=e.onSelectAttachmentPoint,o=e.expanded,a=o===void 0?!1:o,i=S.useState(t.attachmentPointsToBonds),s=j(i,2),l=s[0],c=s[1],u=S.useState(function(){return vo(l)}),d=j(u,2),v=d[0],h=d[1];S.useEffect(function(){c(t.attachmentPointsToBonds)},[r]),S.useEffect(function(){var g=vo(l);h(g)},[l]);var p=function(b){var y=t.monomerCaps,C=t instanceof wt;if(!y)return C?null:"H";var x=y[b];return id(x)},m=function(b){var y=GI({},t.attachmentPointsToBonds),C=r?y[r]:null;r&&C&&t.removeBond(C);var x=t.getPotentialBond(b);y[b]=x,c(y),n(b);var M=vo(y);h(M)};return f(ra,{monomer:t,connectedAttachmentPoints:v,selectedAttachmentPoint:r,usage:fn.MonomerConnectionsModal,update:a,expanded:a,attachmentPoints:t.listOfAttachmentPoints.map(function(g){var b=!!(v.includes(g)&&g!==r);return E(b2,{children:[f(YI,{label:g,styleType:g===r?"primary":"secondary",clickHandler:function(){return m(g)},disabled:b}),f(x2,{"data-testid":"leaving-group-value",disabled:b,children:p(g)})]},g)})})}function bl(e){if(e.chosenFirstAttachmentPointForBond)return e.chosenFirstAttachmentPointForBond;if(e.chosenSecondAttachmentPointForBond)return e.chosenSecondAttachmentPointForBond;var t=Object.entries(e.attachmentPointsToBonds).filter(function(o){var a=j(o,2);a[0];var i=a[1];return i==null});if(t.length===1){var r=j(t[0],1),n=r[0];return n}return null}var QI=w("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),XI=function(t){var r=t.title,n=t.confirmationText,o=t.onConfirm,a=t.isModalOpen,i=t.onClose,s=function(){o(),i()};return E(Q,{isOpen:a,title:r||"Confirm your action",onClose:i,children:[f(Q.Content,{children:f(QI,{children:n})}),E(Q.Footer,{children:[f(Oe,{label:"Cancel",clickHandler:i}),f(Oe,{label:"Yes",clickHandler:s,styleType:"secondary"})]})]})},Dd={open:o2,save:p2,delete:m2,updateSequenceInRNABuilder:y2,monomerConnection:ZI,confirmationDialog:XI};function xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xl(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var eP=function(){var t=T(b5),r=T(y5),n=T(x5),o=ce(),a=S.useCallback(function(){o(h5())},[o]);if(!r)return null;var i=Dd[r];if(!i)throw new Error("There is no modal window named ".concat(r));return n?f(i,JI({onClose:a,isModalOpen:t},n)):f(i,{onClose:a,isModalOpen:t})},tP=w("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),rP=w("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),nP=w(Tn,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),oP=function(){return E(ee,{children:[f("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75",fill:"#F5F6F7"})}),f("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})})]})},aP=function(){return E(ee,{children:[f("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),E("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[f("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),f("symbol",{id:"peptide-selection",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:"M17.3572 1.25349C17.6247 0.787424 18.1209 0.500001 18.6583 0.500001L51.3417 0.5C51.8791 0.5 52.3753 0.787425 52.6428 1.2535L53.0665 1.01035L52.6428 1.2535L68.9952 29.7535C69.2605 30.2158 69.2605 30.7842 68.9952 31.2465L52.6428 59.7465C52.3753 60.2126 51.8791 60.5 51.3417 60.5H18.6583C18.1209 60.5 17.6247 60.2126 17.3572 59.7465L1.00478 31.2465C0.739513 30.7842 0.739513 30.2158 1.00478 29.7535L17.3572 1.25349Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8"})}),f("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:`M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 
           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515
           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382
           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z`,fillOpacity:"0.6"})})]})},iP=function(){return E(ee,{children:[f("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),f("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:f("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),f("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),f("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:f("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})})]})},sP=function(){return E(ee,{children:[f("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),f("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:f("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),f("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),f("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:f("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})})]})},lP=function(){return E(ee,{children:[f("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:f("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:f("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),f("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:f("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})})]})},cP=function(){return E(ee,{children:[E("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),f("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),f("symbol",{id:"unresolved-monomer-selection",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"unresolved-monomer-hover",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})})]})},uP=function(){return E(ee,{children:[f("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),f("symbol",{id:"nucleotide-selection",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})})]})},dP=function(){return E(ee,{children:[f("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),f("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),f("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},fP=function(){return f(ee,{children:f("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:f("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})})},vP=w("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),pP=function(){var t=ce(),r=T(C5),n=T(S5)||"Error message",o=r!=="",a=function(){t(g5())};return E(Q,{isOpen:o,title:n,onClose:a,children:[f(Q.Content,{children:f(vP,{children:r})}),f(Q.Footer,{children:f(Oe,{label:"Close",clickHandler:a})})]})},hP=w("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),mP=w("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),gP=w("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),yP=w("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),
      auto
    `},"&.handCursorGrabbing":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),
      auto
    `}}},"");function bP(){var e=Rl.getKetcher(),t=S.useState(!1),r=j(t,2),n=r[0],o=r[1],a=S.useCallback(function(){return o(!0)},[o]),i=S.useCallback(function(){return o(!1)},[o]);return S.useEffect(function(){return e.eventBus.addListener($t.LOADING,a),e.eventBus.addListener($t.SUCCESS,i),e.eventBus.addListener($t.FAILURE,i),function(){e.eventBus.removeListener($t.LOADING,a),e.eventBus.removeListener($t.SUCCESS,i),e.eventBus.removeListener($t.FAILURE,i)}},[e.eventBus,i,a]),n}function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wl(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xP(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=wP(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){i=!0,s=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function wP(e,t){if(e){if(typeof e=="string")return Sl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sl(e,t)}}function Sl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CP(){var e=ce(),t=T(se);S.useEffect(function(){if(t){var r=t.monomersLibrary,n=t.defaultRnaPresetsLibraryItems,o=ge(Ms(r,n,!0)),a=Qt(),i=[],s=o.map(function(h){return h.name});if(a){var l=xP(a),c;try{for(l.s();!(c=l.n()).done;){for(var u=c.value,d=0,v=u.name;s.includes(v);)d++,v="".concat(u.name).concat("_Copy".repeat(d));v!==u.name&&Mu(Cl(Cl({},u),{},{name:v}))}}catch(h){l.e(h)}finally{l.f()}a=Qt(),i=Ms(r,a)}return e(zo(r)),e(u5(null)),e(z5(o)),a&&e(q5(i)),e(G5()),function(){e(zo([])),e(W5())}}},[t])}var SP=w("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),MP=function(){return f(SP,{children:f(Vn,{})})},AP=function(t){t.requestFullscreen&&t.requestFullscreen()||t.msRequestFullscreen&&t.msRequestFullscreen()||t.mozRequestFullScreen&&t.mozRequestFullScreen()||t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},EP=function(){document.exitFullscreen&&document.exitFullscreen()||document.msExitFullscreen&&document.msExitFullscreen()||document.mozCancelFullScreen&&document.mozCancelFullScreen()||document.webkitExitFullscreen&&document.webkitExitFullscreen()},IP=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},PP=w("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),kP=function(t){var r=S.useState(IP()),n=j(r,2),o=n[0],a=n[1],i=function(){var l=document.querySelector(Lt)||document.documentElement;o?EP():AP(l),a(!o)};return f(PP,{className:t.className,children:f(Tn,{onClick:i,iconName:o?"fullscreen-exit":"fullscreen-enter"})})},ni=xt.createContext({}),_d=function(){return xt.useContext(ni)},OP=w(Tn,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function Rd(){var e;(e=document.activeElement)===null||e===void 0||e.blur()}var Pn=function(t){var r=t.itemId,n=t.title,o=n===void 0?"":n,a=t.disabled,i=t.testId,s=t.onClick,l=_d(),c=l.isActive,u=l.activate,d=S.useCallback(function(){u(r),Rd(),s&&s()},[u,r]),v=c(r),h=v?" active":"";return f(OP,{title:o,className:r+h,isActive:v,onClick:d,iconName:r,testId:i,disabled:a})},TP=w(ye,{shouldForwardProp:function(t){return t!=="isActive"},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:2px;bottom:2px;cursor:pointer;path{fill:",function(e){var t=e.isActive;return t?"white":void 0},";}"),NP=w("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),jP=w("div",{target:"e13kdqxv2"})("display:flex;position:absolute;left:",function(e){var t=e.isVertical;return t?"-34px":"5px"},";top:",function(e){var t=e.isVertical,r=e.islayoutModeButton;return t&&r?"24px":t?"38px":"0px"},";border-radius:4px;flex-direction:",function(e){var t=e.isVertical;return t?"column":"row"},";z-index:1;background-color:white;padding:2px;"),LP=w(Bf,{target:"e13kdqxv1"})({name:"bjn8wh",styles:"position:relative"}),DP=w("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"}),$d=function(t){var r=t.children,n=t.vertical,o=n===void 0?!1:n,a=t.disabled,i=a===void 0?!1:a,s=t.needOpenByMenuItemClick,l=s===void 0?!1:s,c=t.testId,u=t.layoutModeButton,d=u===void 0?!1:u,v=S.useState(!1),h=j(v,2),p=h[0],m=h[1],g=_d(),b=g.isActive,y=function(){i||m(function(B){return!B})},C=function(){p&&m(!1)},x=xt.Children.map(r,function(O){return O.type===Pn?O:null}),M=x.map(function(O){return O.props.itemId}).filter(function(O){return O}),A=M.filter(function(O){return b(O)}),I=A.length?A[0]:M[0],P=x.find(function(O){return O.props.itemId===I}),k=P==null?void 0:P.props.testId,N=P==null?void 0:P.props.title;return E(NP,{"data-testid":c,children:[E(DP,{children:[f(Pn,{disabled:i,itemId:I,title:N,testId:k,onClick:l?y:ht}),p||f(TP,{className:"dropdown",name:"dropdown",onClick:y,isActive:b(I)})]}),f(LP,{in:p,timeout:"auto",unmountOnExit:!0,onClick:C,children:f(Ll,{onClickAway:C,children:f(jP,{isVertical:o,islayoutModeButton:d,children:x.map(function(O){return O})})})})]})},_P=w("div",{target:"e1fh0ozy3"})(function(e){var t=e.theme,r=e.isHorizontal;return{backgroundColor:t.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:r?"row":"column"}},""),RP=w("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),Fd=w("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),$P=w("div",{target:"e1fh0ozy0"})(function(e){var t=e.theme,r=e.isHorizontal;return{display:"flex",flexDirection:r?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:t.ketcher.color.background.primary,borderRadius:"2px",width:r?void 0:"32px",marginBottom:r?void 0:"8px","> :last-child":r?void 0:{marginBottom:0}}},""),Bd=function(t){var r=t.children,n=t.divider,o=n===void 0?!1:n,a=t.isHorizontal,i=xt.Children.map(r,function(s){return s.type===Pn||s.type===$d?s:null});return E(ee,{children:[f($P,{isHorizontal:a,children:i.map(function(s){return s})}),o&&(a?f(Fd,{}):f(RP,{}))]})},oe=function(t){var r=t.children,n=t.onItemClick,o=t.activeMenuItems,a=t.testId,i=t.isHorizontal,s=xt.useMemo(function(){return{isActive:function(u){return o?o.includes(u):!1},activate:function(u){n(u)}}},[o,n]),l=xt.Children.map(r,function(c){return c.type===Bd?c:null});return f(ni.Provider,{value:s,children:f(_P,{"data-testid":a,isHorizontal:i,children:l.map(function(c){return c})})})};oe.Group=Bd;oe.Item=Pn;oe.Submenu=$d;var FP=function(){var t=T(se),r=cr(),n=S.useState(r),o=j(n,2),a=o[0],i=o[1],s=T(Qe),l={isActive:function(u){return a===u},activate:function(u){u!==a&&(i(u),t.events.selectMode.dispatch(u),t.events.layoutModeChange.dispatch(u))}};return S.useEffect(function(){i(r)},[r]),f(ni.Provider,{value:l,children:E(oe.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[f(oe.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),f(oe.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),f(oe.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function BP(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=zP(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){i=!0,s=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function zP(e,t){if(e){if(typeof e=="string")return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ml(e,t)}}function Ml(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qP=function(t){var r=[],n=BP(t),o;try{for(n.s();!(o=n.n()).done;){var a=o.value,i=a.node,s=a.nodeIndexOverall,l=a.isNucleosideConnectedAndSelectedWithPhosphate,c=a.hasR1Connection,u=a.twoStrandedNode,d=!!(u!=null&&u.antisenseNode);if(i instanceof Er){var v,h,p;r.push({type:rt.Nucleotide,baseLabel:i==null||(v=i.rnaBase)===null||v===void 0?void 0:v.label,sugarLabel:i==null||(h=i.sugar)===null||h===void 0?void 0:h.label,phosphateLabel:i==null||(p=i.phosphate)===null||p===void 0?void 0:p.label,hasR1Connection:c,nodeIndexOverall:s,hasAntisense:d})}else if(i instanceof Ir){var m,g;r.push({type:rt.Nucleoside,baseLabel:i==null||(m=i.rnaBase)===null||m===void 0?void 0:m.label,sugarLabel:i==null||(g=i.sugar)===null||g===void 0?void 0:g.label,isNucleosideConnectedAndSelectedWithPhosphate:l,hasR1Connection:c,nodeIndexOverall:s,hasAntisense:d})}else if((i==null?void 0:i.monomer)instanceof Kl){var b;r.push({type:rt.Phosphate,phosphateLabel:i==null||(b=i.monomer)===null||b===void 0?void 0:b.label,nodeIndexOverall:s,hasAntisense:d})}}}catch(y){n.e(y)}finally{n.f()}return r};function HP(e){var t=e.node;return t instanceof Er||t instanceof Ir||(t==null?void 0:t.monomer)instanceof Kl}var UP=function(t){for(var r="",n=t.length===1?t[0]:bt.merge.apply(void 0,[{}].concat(ge(t))),o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i=a[o],s=bt.get(n,i,"");i==="baseLabel"?r+="(".concat(s,")"):r+=s}return r},GP=function(t){if(t!=null&&t.length){for(var r=bt.flatten(t),n=r.length,o=wn(r),a,i=!1,s=!0,l=!1,c=!0,u=qP(r),d=0;d<u.length;d++){var v=u[d],h=u[d-1],p=v.type===rt.Nucleotide||v.type===rt.Nucleoside,m=h==null?void 0:h.isNucleosideConnectedAndSelectedWithPhosphate;p&&(i=!0),p||m?v.hasR1Connection&&(c=!1):(c=!1,s=!1),v.hasAntisense&&(l=!0)}return n>o&&(r.every(HP)||(s=!1)),n===1||o===1&&s?a=UP(u):a=s?"".concat(o," nucleotides"):"".concat(n," elements"),{title:a,selectedSequenceLabeledNodes:u,isSelectedOnlyNucleoelements:s,isSelectedAtLeastOneNucleoelement:i,isSequenceFirstsOnlyNucleoelementsSelected:c,hasAntisense:l}}};function WP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.every(function(t){return t.every(function(r){return Fl(r.twoStrandedNode)})})}function Al(e){return e==null?void 0:e.monomers.some(function(t){return t.hydrogenBonds.length!==0})}var KP=function(t){return t.map(function(r){return r.monomerItem.props.MonomerNaturalAnalogCode}).sort().join("")},El=function(t){var r=t.monomerItem,n=r.props.MonomerNaturalAnalogCode==="A"||r.props.MonomerNaturalAnalogCode==="C"||r.props.MonomerNaturalAnalogCode==="G"||r.props.MonomerNaturalAnalogCode==="T"||r.props.MonomerNaturalAnalogCode==="U";if(n)return!0;if(!t.monomerItem.isAmbiguous||t.subtype===Tf.MIXTURE)return!1;var o="ACGT",a="ACGU",i="CGT",s="CGU",l="AGT",c="AGU",u="ACT",d="ACU",v="GT",h="GU",p="AT",m="AU",g="CT",b="CU",y="AC",C="AG",x="CG",M="ACG",A=[o,a,i,s,l,c,u,d,v,h,p,m,g,b,y,C,x,M],I=KP(t.monomers);return A.some(function(P){return P===I})},kn=function(t){return t==null?void 0:t.some(function(r){var n=r instanceof Pr&&ln(r);return r instanceof cn&&(r.hydrogenBonds.length>0||r.covalentBonds.length>1)||Ef(r)&&!El(r)||n&&(n.hydrogenBonds.length>0||!El(n))})},fe;(function(e){e.title="sequence_menu_title",e.createRnaAntisenseStrand="create_rna_antisense_strand",e.createDnaAntisenseStrand="create_dna_antisense_strand",e.modifyInRnaBuilder="modify_in_rna_builder",e.establishHydrogenBond="establish_hydrogen_bond",e.deleteHydrogenBond="delete_hydrogen_bond",e.editSequence="edit_sequence",e.startNewSequence="start_new_sequence"})(fe||(fe={}));var VP=function(t){var r,n=t.selections,o=T(se),a=ce(),i=GP(n),s=(n==null||(r=n[0])===null||r===void 0?void 0:r.flatMap(function(p){var m=p.node;return m?[m.sugar,m.rnaBase,m.phosphate,m.monomer]:[]}).filter(function(p){return p!==void 0}))||[],l=T(Qe),c=cr()===Kt.sequence,u=function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(s!=null&&s.some(function(b){return b instanceof cn&&Ao(b)||b instanceof Pr&&ln(b)}))},d=[{name:fe.title,title:i==null?void 0:i.title,isMenuTitle:!0,disabled:!0,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:fe.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:kn(s),hidden:u},{name:fe.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:kn(s),hidden:u},{name:fe.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(i!=null&&i.isSelectedOnlyNucleoelements)||i.hasAntisense,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:fe.editSequence,title:"Edit sequence",disabled:!1,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}},{name:fe.startNewSequence,title:"Start new sequence",disabled:!1},{name:fe.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(m){var g,b=m.props;return(n==null?void 0:n.length)===0?Fl(b==null||(g=b.sequenceItemRenderer)===null||g===void 0?void 0:g.twoStrandedNode):WP(n)},hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}},{name:fe.deleteHydrogenBond,title:"Delete Hydrogen Bonds",disabled:function(m){var g,b=m.props;return(n==null?void 0:n.length)===0?!Al(b==null||(g=b.sequenceItemRenderer)===null||g===void 0?void 0:g.node):!(n!=null&&n.some(function(y){return y.some(function(C){return Al(C.node)})}))},hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}}],v=function(m){var g,b=m.id,y=m.props;switch(b){case fe.modifyInRnaBuilder:o.events.turnOnSequenceEditInRNABuilderMode.dispatch(),a(Nr(Tr.RNA)),a(ot(!0)),a(Lr({})),a(Ut(null)),i!=null&&(g=i.selectedSequenceLabeledNodes)!==null&&g!==void 0&&g.length&&i!==null&&i!==void 0&&i.title&&(a(Nu(i==null?void 0:i.title)),a(Wa(i==null?void 0:i.selectedSequenceLabeledNodes)),a($5(i==null?void 0:i.isSequenceFirstsOnlyNucleoelementsSelected)));break;case fe.startNewSequence:o.events.startNewSequence.dispatch(y.sequenceItemRenderer);break;case fe.editSequence:o.events.editSequence.dispatch(y.sequenceItemRenderer);break;case fe.createRnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!1);break;case fe.createDnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!0);break;case fe.establishHydrogenBond:o.events.establishHydrogenBond.dispatch(y.sequenceItemRenderer);break;case fe.deleteHydrogenBond:{var C,x=If.sequenceViewModel,M=x.chainsCollection.monomerToChain,A=new Map,I=n!=null&&n.length?n.reduce(function(k,N){return[].concat(ge(k),ge(N))},[]).map(function(k){return k.twoStrandedNode}):[(C=y.sequenceItemRenderer)===null||C===void 0?void 0:C.twoStrandedNode];I.forEach(function(k){if(k.antisenseChain&&k.antisenseNode&&!(k.antisenseNode instanceof Pf||k.antisenseNode instanceof $l)){A.has(k.antisenseChain)||A.set(k.antisenseChain,new Set);var N=A.get(k.antisenseChain);if(!N)return;N.add(k)}});var P=!1;A.forEach(function(k,N){var O=ge(k.values())[0],B=O.chain,G=new Set(ge(k.values()).map(function(R){return R.antisenseNode})),D=N.nodes.some(function(R){return!G.has(R)&&R.monomers.some(function($){return $.hydrogenBonds.some(function(q){var L=q.getAnotherMonomer($),U=L&&M.get(L);return U===B})})});D||(P=!0)}),P?o.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){o.events.deleteHydrogenBond.dispatch(y.sequenceItemRenderer)}}):o.events.deleteHydrogenBond.dispatch(y.sequenceItemRenderer);break}}},h=document.querySelector(Lt);return h&&c&&!l?Nn.createPortal(f(Kn,{id:He.FOR_SEQUENCE,handleMenuChange:v,menuItems:d}),h):null},YP=w("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),ZP=w("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(e){return e.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;"),QP=w(Ql,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),XP=w("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),na=function(t){var r=t.monomerCaps,n=t.attachmentPointsToBonds;return S.useMemo(function(){var o=[],a=[];return r?(Object.entries(r).forEach(function(i){var s=j(i,2),l=s[0],c=s[1],u=!!(n!=null&&n[l]);u&&a.push(l);var d={id:l,label:id(c),connected:u};o.push(d)}),{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}):{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}},[r,n])},JP=function(t){var r=t.idtAliases,n=t.attachmentPointsToBonds,o=t.monomerClass;return S.useMemo(function(){if(!r)return null;var a=r.base,i=r.modifications;if(n){if(!i)return a;var s=i.endpoint5,l=i.internal,c=i.endpoint3,u=n.R1,d=n.R2;if(o===tt.Phosphate&&u&&!(u instanceof $f)&&u.firstMonomer instanceof Pr)return null;if(u!==null&&d===null)return c??l;if(u===null&&d!==null)return s??l;if(u!==null&&d!==null){var v;return(v=l??s)!==null&&v!==void 0?v:c}else{var h;return(h=s??l)!==null&&h!==void 0?h:c}}if(!i)return a;var p=Object.values(i).every(function(g){return g.includes(a)});if(p)return a;var m={};return Object.values(i).forEach(function(g){var b=[g.charAt(0),g.slice(1)],y=b[0],C=b[1];m[C]=m[C]?[].concat(ge(m[C]),[y]):[y]}),Object.entries(m).map(function(g){var b=j(g,2),y=b[0],C=b[1];return"(".concat(C.join(", "),")").concat(y)}).join(", ")},[r,n,o])},e9=w("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),t9=w("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(e){var t=e.connected;return t?"#E1E5EA":"transparent"},";padding:",function(e){var t=e.connected;return t?"4px":"0"},";color:",function(e){var t=e.connected;return t?"#8A8B8E":"inherit"},";"),r9=w("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),n9=w("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),o9=S.memo(function(e){var t=e.preparedAttachmentPointsData;return t.length?f(e9,{children:t.map(function(r){var n=r.id,o=r.connected,a=r.label;return E(t9,{connected:o,children:[E(r9,{children:[n,!o&&":"]}),!o&&f(n9,{children:a})]},n)})}):null}),a9=w("span",{target:"e1v1msbx3"})("max-width:",function(e){var t=e.preset;return t?"100%":"50%"},";display:flex;align-items:center;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(e){return e.theme.ketcher.color.text.lightgrey},";padding-left:",function(e){var t=e.preset;return t?"0":"8px"},";border-left:",function(e){var t=e.preset;return t?"none":"1px solid #D9DCEA"},";"),i9=w("p",{target:"e1v1msbx2"})({name:"ti75j2",styles:"margin:0"}),s9=w("span",{target:"e1v1msbx1"})({name:"1b7n4tc",styles:"color:#7c7c7c"}),l9=w("span",{target:"e1v1msbx0"})({name:"dtvj5",styles:"color:#585858;text-wrap:wrap"}),zd=S.memo(function(e){var t=e.idtAliasesText,r=e.preset;return f(a9,{preset:r,children:E(i9,{children:[f(s9,{children:"IDT: "}),f(l9,{children:t})]})})}),c9=function(t){var r,n=t.className,o=T(Hr),a=o.monomer,i=o.attachmentPointsToBonds,s=a==null?void 0:a.props.idtAliases,l=na({monomerCaps:a==null?void 0:a.props.MonomerCaps,attachmentPointsToBonds:i}),c=l.preparedAttachmentPointsData,u=l.connectedAttachmentPoints,d=JP({idtAliases:s,attachmentPointsToBonds:i,monomerClass:a==null?void 0:a.props.MonomerClass});if(!a)return null;var v=a.props.unresolved,h=v?a.label:(r=a.struct)===null||r===void 0?void 0:r.name;return(a.struct||v)&&E(YP,{className:n,"data-testid":"polymer-library-preview",children:[h&&f(ZP,{children:h}),v?f(sd,{}):f(QP,{struct:a.struct,options:{connectedMonomerAttachmentPoints:u,usageInMacromolecule:fn.MonomerPreview,labelInPreview:!0,needCache:!1}}),E(XP,{children:[f(o9,{preparedAttachmentPointsData:c}),d&&f(zd,{idtAliasesText:d})]})]})},u9=w(c9,{target:"e86yc5p0"})("width:",un.width+"px",";height:",un.height+"px",";"),d9=w("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),f9=w("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),v9=w("div",{target:"ec5fs973"})("font-size:",function(e){return e.theme.ketcher.font.size.regular},";line-height:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),p9=w("div",{target:"ec5fs972"})("color:",function(e){return e.theme.ketcher.color.text.lightgrey},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),h9=w("p",{target:"ec5fs971"})("color:",function(e){return e.theme.ketcher.color.text.primary},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),m9=w(ye,{target:"ec5fs970"})("color:",function(e){return e.theme.ketcher.color.icon.grey},";padding-right:",function(e){return e.name==="sugar"?"4px":e.name==="phosphate"?"1px":0},";padding-left:",function(e){return e.name==="base"?"2px":e.name==="phosphate"?"1px":0},";stroke:",function(e){return e.theme.ketcher.color.icon.grey},";height:",function(e){return e.name==="sugar"?"12px":"14px"},";width:",function(e){return e.name==="sugar"?"12px":"14px"},";"),g9=function(t){var r=t.presetName,n=t.position,o=t.idtAliases;return S.useMemo(function(){if(!r||!o)return null;if(r.includes("MOE")){var a,i,s,l=o.base,c=o.modifications,u=(a=c==null?void 0:c.endpoint5)!==null&&a!==void 0?a:"5".concat(l),d=(i=c==null?void 0:c.internal)!==null&&i!==void 0?i:"i".concat(l),v=(s=c==null?void 0:c.endpoint3)!==null&&s!==void 0?s:"3".concat(l);switch(n){case ze.Library:return"".concat(u,", ").concat(d);case ze.ChainStart:return u;case ze.ChainMiddle:return d;case ze.ChainEnd:return v}}return o.base},[r,n,o])},y9=["sugar","base","phosphate"],b9=function(t){var r=t.className,n=T(Hr),o=n.monomers,a=n.name,i=n.position,s=n.idtAliases,l=j(o,2),c=l[1],u=a??(c==null?void 0:c.props.Name),d=g9({presetName:u,position:i,idtAliases:s});return E(d9,{className:r,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[f(h9,{children:u}),o.map(function(v,h){return v&&E(f9,{children:[f(m9,{name:y9[h]}),f(v9,{children:v.label}),E(p9,{children:["(",v.props.Name,")"]})]},h)}),d&&f(zd,{idtAliasesText:d,preset:!0})]})},x9=w(b9,{target:"e1wupxfd0"})(""),Il=w("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),w9=w("div",{target:"e1m0yzrp2"})(function(e){var t=e.connected,r=e.inBond,n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:r||!t?n.ketcher.color.text.primary:"#B4B9D6"}},""),C9=w("p",{target:"e1m0yzrp1"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.small,lineHeight:"12px"}},""),S9=w("p",{target:"e1m0yzrp0"})(function(e){var t=e.inBond,r=e.theme;return{margin:0,padding:"4px",fontWeight:r.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:t?"#CDF1FC":"transparent"}},""),Pl=function(t){var r=t.attachmentPoints,n=t.attachmentPointInBond;return f(ee,{children:r.map(function(o){return E(w9,{connected:o.connected,inBond:o.id===n,children:[f(C9,{children:o.id}),f(S9,{inBond:o.id===n,children:o.label})]},o.id)})})},M9=function(t){var r=t.className,n=T(Hr),o=n.polymerBond,a=n.style,i=S.useMemo(function(){return a?w(Il,{target:"e18hk05c1"})("top:",(a==null?void 0:a.top)||"",";left:",(a==null?void 0:a.left)||"",";right:",(a==null?void 0:a.right)||"",";"):w(Il,{target:"e18hk05c2"})("")},[a]),s=o.firstMonomer,l=o.secondMonomer,c=o.firstMonomerAttachmentPoint,u=o.secondMonomerAttachmentPoint,d=na({monomerCaps:s.monomerCaps,attachmentPointsToBonds:s.attachmentPointsToBonds}),v=d.preparedAttachmentPointsData,h=d.connectedAttachmentPoints,p=na({monomerCaps:l==null?void 0:l.monomerCaps,attachmentPointsToBonds:l==null?void 0:l.attachmentPointsToBonds}),m=p.preparedAttachmentPointsData,g=p.connectedAttachmentPoints;return!s||!l?null:f(i,{className:r,"data-testid":"polymer-library-preview",children:f(Ld,{firstMonomer:s,secondMonomer:l,firstMonomerOverview:f(ra,{monomer:s,usage:fn.BondPreview,connectedAttachmentPoints:h,selectedAttachmentPoint:c,attachmentPoints:f(Pl,{attachmentPoints:v,attachmentPointInBond:c})}),secondMonomerOverview:f(ra,{monomer:l,usage:fn.BondPreview,connectedAttachmentPoints:g,selectedAttachmentPoint:u,attachmentPoints:f(Pl,{attachmentPoints:m,attachmentPointInBond:u})})})})},A9=w(M9,{target:"e18hk05c0"})("width:",un.widthForBond,"px;height:",un.heightForBond,"px;");function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function E9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kl(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var I9=w("div",{target:"e88xzqx0"})(function(){return{display:"inline-block",position:"absolute",background:"white"}},""),P9=function(){var t=T(Hr),r=S.useRef(null),n=S.useState(!1),o=j(n,2),a=o[0],i=o[1];return S.useEffect(function(){if(!(!r.current||t.style))if(t&&t.type){var s,l,c;r.current.setAttribute("style",""),i(!0);var u=5,d=(s=r.current)===null||s===void 0?void 0:s.getBoundingClientRect(),v=(d==null?void 0:d.height)||0,h=(d==null?void 0:d.width)||0,p=(l=me.instance)===null||l===void 0||(l=l.canvasWrapper.node())===null||l===void 0?void 0:l.getBoundingClientRect(),m=(p==null?void 0:p.bottom)||0,g=(p==null?void 0:p.left)||0,b=(p==null?void 0:p.right)||0,y=(c=t.target)===null||c===void 0?void 0:c.getBoundingClientRect(),C=(y==null?void 0:y.top)||0,x=(y==null?void 0:y.bottom)||0,M=(y==null?void 0:y.left)||0,A=(y==null?void 0:y.width)||0,I=M-A/2,P=C-v-u,k=x+u,N=M+A/2-h/2;if(C>v+u||x+v>m&&x>m/2?r.current.style.top="".concat(P,"px"):r.current.style.top="".concat(k,"px"),I>h/2&&I+h/2<b)r.current.style.left="".concat(N,"px");else if(I<h/2)r.current.style.left="".concat(g,"px");else{var O=10;r.current.style.left="".concat(b-h-O,"px")}}else a&&(i(!1),r.current.setAttribute("style",""))},[t]),t?E(I9,{ref:r,style:E9({},t==null?void 0:t.style),children:[t.type===pe.Monomer&&f(u9,{}),t.type===pe.Preset&&f(x9,{}),t.type===pe.Bond&&f(A9,{}),t.type===pe.AmbiguousMonomer&&f(yf,{preview:t})]}):null},wo=w(la,{target:"e1brfei30"})(function(e){var t=e.theme,r=e.variant;return{color:r==="outlined"?t.ketcher.color.text.primary:t.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:r==="outlined"?t.ketcher.outline.small:"none",background:r==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.active,borderRadius:t.ketcher.border.radius.regular,textTransform:"none",fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,":hover":{color:r==="outlined"?t.ketcher.color.text.dark:t.ketcher.color.button.text.primary,background:r==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),k9=function(){var t=T(se),r=S.useState(t==null?void 0:t.events.changeSequenceTypeEnterMode),n=j(r,2),o=n[0],a=n[1],i=S.useState(!1),s=j(i,2),l=s[0],c=s[1],u=T(Qe),d=cr(),v=!!u,h=ce(),p=function(b){var y=Cf(b)==="object"?b.mode:b;c(y==="sequence-layout-mode")};S.useEffect(function(){return t==null||t.events.selectMode.add(p),t==null||t.events.changeSequenceTypeEnterMode.add(function(g){h(Nr(g===Mr.PEPTIDE?Tr.PEPTIDES:Tr.RNA)),a(g)}),t==null||t.events.changeSequenceTypeEnterMode.dispatch(Fe.RNA),function(){t==null||t.events.selectMode.remove(p)}},[t]),S.useEffect(function(){p(d)},[d]);var m=function(b){t.events.changeSequenceTypeEnterMode.dispatch(b)};return l?f(ee,{children:f(ec,{sx:{mr:1,ml:1},children:E(yv,{disabled:v,children:[f(wo,{"data-testid":"".concat(Fe.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:o===Fe.RNA?"contained":"outlined",onClick:function(){return m(Fe.RNA)},children:"RNA"}),f(wo,{"data-testid":"".concat(Fe.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:o===Fe.DNA?"contained":"outlined",onClick:function(){return m(Fe.DNA)},children:"DNA"}),f(wo,{"data-testid":"".concat(Fe.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:o===Fe.PEPTIDE?"contained":"outlined",onClick:function(){return m(Fe.PEPTIDE)},children:"PEP"})]})})}):null},Co=ia(sa);function O9(){var e=ce(),t=T(Un),r=T(se),n=T(Qe),o=[t],a=n,i=function(l){Dd[l]?e(Ht(l)):l==="undo"||l==="redo"?r.events.selectHistory.dispatch(l):l==="clear"&&(r.events.selectTool.dispatch([l]),e(dt("select-rectangle")),r.events.selectTool.dispatch(["select-rectangle"]),n&&xn(e,r))};return E(oe,{onItemClick:i,activeMenuItems:o,isHorizontal:!0,children:[E(oe.Group,{isHorizontal:!0,divider:!0,children:[f(oe.Item,{itemId:"clear",title:"Clear Canvas (".concat(Co.clear,")"),testId:"clear-canvas"}),f(oe.Item,{itemId:"open",title:"Open...",disabled:a,testId:"open-button"}),f(oe.Item,{itemId:"save",title:"Save as...",testId:"save-button"})]}),E(oe.Group,{isHorizontal:!0,children:[f(oe.Item,{itemId:"undo",title:"Undo (".concat(Co.undo,")"),disabled:a,testId:"undo"}),f(oe.Item,{itemId:"redo",title:"Redo (".concat(Co.redo,")"),disabled:a,testId:"redo"})]})]})}var T9=ia(sa);function N9(){var e=T(Un),t=T(se),r=cr()===Kt.sequence,n=[e],o=function(i){t.events.selectTool.dispatch([i,{toolName:i}])};return E(oe,{testId:"left-toolbar",onItemClick:o,activeMenuItems:n,children:[E(oe.Group,{divider:!0,children:[f(oe.Item,{itemId:"hand",title:"Hand Tool",testId:"hand-tool"}),f(oe.Item,{itemId:"select-rectangle",title:"Select Rectangle",testId:"select-rectangle"}),f(oe.Item,{itemId:"erase",title:"Erase (".concat(T9.erase,")"),testId:"erase",disabled:r})]}),f(oe.Group,{children:E(oe.Submenu,{disabled:r,testId:"bond-tool-submenu",needOpenByMenuItemClick:!1,children:[f(oe.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:r}),f(oe.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:r})]})})]})}var j9=w("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),L9=w(la,{target:"e1aw4j3q6"})("display:flex;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),D9=w("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),_9=w(Sf,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(e){var t=e.theme;return t.ketcher.shadow.regular},";box-sizing:border-box;}"),R9=w("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),So=w(la,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";"),Mo=w("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),$9=w("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(e){var t=e.theme;return t.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(e){var t=e.theme;return t.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),Wt=ia(sa),F9=function(t){var r=parseInt(t||"");return isNaN(r)?0:r},B9=function(t,r){if(t===0)return r;var n=me.instance.MINZOOMSCALE*100,o=me.instance.MAXZOOMSCALE*100;return t<n?n:t>o?o:t},oa=function(t,r){r&&(r.value="".concat(Math.round(t),"%"))},z9=function(t){var r=t.onZoomSubmit,n=t.currentZoom,o=t.inputRef,a=S.useCallback(function(s){var l=o.current;if(l){var c=[Wt["zoom-out"],Wt["zoom-in"]];c.includes(s.key)||s.nativeEvent.stopImmediatePropagation(),s.key==="Enter"&&(r(),l.select())}},[r,o,Wt]),i=function(l){var c=l.target;c.select()};return S.useEffect(function(){var s=o.current;oa(n,s),document.activeElement===s&&(s==null||s.select())},[n,o]),S.useEffect(function(){var s=o.current;s==null||s.focus(),s==null||s.select()},[o]),f($9,{ref:o,"data-testid":"zoom-value",onFocus:i,onKeyDown:a})},q9=function(){var t=S.useState(!1),r=j(t,2),n=r[0],o=r[1],a=S.useState(100),i=j(a,2),s=i[0],l=i[1],c=S.useRef(null),u=S.useRef(null);S.useEffect(function(){var b;me===null||me===void 0||(b=me.instance)===null||b===void 0||b.subscribeOnZoomEvent(function(){var y;l(Math.round((me===null||me===void 0||(y=me.instance)===null||y===void 0?void 0:y.getZoomLevel())*100))})},[me===null||me===void 0?void 0:me.instance]);var d=S.useCallback(function(){var b=u.current;if(b){var y=F9(b.value);if(y&&y!==s){var C=B9(y,s);oa(C,b),me.instance.zoomTo(C/100)}else oa(s,b)}},[s]),v=function(){o(!1)},h=function(){o(!0)},p=function(){me.instance.zoomIn()},m=function(){me.instance.zoomOut()},g=function(){me.instance.resetZoom()};return E(j9,{ref:c,children:[E(L9,{onClick:h,"data-testid":"zoom-selector",children:[E(D9,{"data-testid":"zoom-input",children:[s,"%"]}),f(ye,{name:"chevron"})]}),f(_9,{open:n,onClose:v,anchorEl:c.current,container:document.querySelector(Lt),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:E(R9,{children:[f(z9,{onZoomSubmit:d,inputRef:u,currentZoom:s}),E(So,{"data-testid":"zoom-out-button",title:"Zoom Out",onClick:m,children:[f("span",{children:"Zoom out"}),f(Mo,{children:Wt["zoom-minus"]})]}),E(So,{"data-testid":"zoom-in-button",title:"Zoom In",onClick:p,children:[f("span",{children:"Zoom in"}),f(Mo,{children:Wt["zoom-plus"]})]}),E(So,{"data-testid":"reset-zoom-button",title:"Zoom 100%",onClick:g,children:[f("span",{children:"Zoom 100%"}),f(Mo,{children:Wt["zoom-reset"]})]})]})})]})},H9=function(){var t=T(se),r=[{name:"edit_connection_points",title:"Edit Connection Points...",disabled:!1,hidden:function(i){var s=i.props;return!(s!=null&&s.polymerBondRenderer)}}],n=function(i){var s=i.id,l=i.props;switch(s){case"edit_connection_points":{var c=l.polymerBondRenderer.polymerBond;t.events.openMonomerConnectionModal.dispatch({firstMonomer:c.firstMonomer,secondMonomer:c.secondMonomer,polymerBond:c,isReconnectionDialog:!0}),t.events.startNewSequence.dispatch(l.sequenceItemRenderer);break}}},o=document.querySelector(Lt);return o?Nn.createPortal(f(Kn,{id:He.FOR_POLYMER_BOND,handleMenuChange:n,menuItems:r}),o):null};function Ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function U9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ol(Object(r),!0).forEach(function(n){W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var G9=[ci.bondSingle,ci.selectRectangle],W9=function(){var t=T(se),r=T(Un),n=ce(),o=T(Wn),a=T(pu),i=S.useCallback(function(){n(zo(t==null?void 0:t.monomersLibrary))},[t]);S.useEffect(function(){return t==null||t.events.updateMonomersLibrary.add(i),function(){t==null||t.events.updateMonomersLibrary.remove(i)}},[t]),S.useEffect(function(){var v=function(p){var m=j(p,1),g=m[0];g!==r&&n(dt(g))};return t&&(t.events.error.add(function(h){n(hs(h))}),t.events.openErrorModal.add(function(h){n(jr(h))}),n(dt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(h){return n(Ht({name:"monomerConnection",additionalProps:h}))}),t.events.openConfirmationDialog.add(function(h){return n(Ht({name:"confirmationDialog",additionalProps:h}))}),t.events.selectTool.add(v)),function(){n(dt(null)),t==null||t.events.selectTool.remove(v)}},[t]);var s=S.useCallback(function(v){return n(Yt(v))},[n]),l=S.useCallback(bt.debounce(function(v){return s(v)},500),[s]);S.useEffect(function(){var v=function(p){var m=j(p,1),g=m[0];g!==r&&n(dt(g))};return t&&(t.events.error.add(function(h){n(hs(h))}),t.events.openErrorModal.add(function(h){n(jr(h))}),n(dt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(h){return n(Ht({name:"monomerConnection",additionalProps:h}))}),t.events.selectTool.add(v)),function(){n(dt(null)),t==null||t.events.selectTool.remove(v)}},[t]);var c=S.useCallback(function(v,h){var p={type:pe.Bond,polymerBond:v,style:h};l(p)},[l]),u=S.useCallback(function(v){var h,p,m,g=(h=v.target.__data__)===null||h===void 0?void 0:h.polymerBond;if(!(g&&!g.finished||g instanceof mf)){if(g){var b=gf(g,v.target.getBoundingClientRect());c(g,b);return}var y=(p=v.target.__data__)===null||p===void 0?void 0:p.node,C=((m=v.target.__data__)===null||m===void 0?void 0:m.monomer)||(y==null?void 0:y.monomer);if(!(y&&y instanceof $l)){if(C instanceof wt){var x={type:pe.AmbiguousMonomer,monomer:C.variantMonomerItem,target:v.target};l(x);return}var M=C.monomerItem,A=U9({},C.attachmentPointsToBonds),I=y instanceof Er||y instanceof Ir;if(I){var P,k=y instanceof Er?[y.sugar.monomerItem,y.rnaBase.monomerItem,(P=y.phosphate)===null||P===void 0?void 0:P.monomerItem]:[y.sugar.monomerItem,y.rnaBase.monomerItem];if(y.rnaBase instanceof wt){var N={type:pe.AmbiguousMonomer,monomer:y.rnaBase.variantMonomerItem,presetMonomers:k,target:v.target};l(N);return}var O=o.find(function(R){var $=[R.sugar,R.base,R.phosphate];return k.every(function(q,L){var U;return(q==null?void 0:q.props.Name)===((U=$[L])===null||U===void 0?void 0:U.props.Name)})}),B;y instanceof Ir?B=ze.ChainEnd:y.firstMonomerInNode.R1AttachmentPoint!==void 0?B=ze.ChainStart:B=ze.ChainMiddle;var G={type:pe.Preset,monomers:k,name:O==null?void 0:O.name,idtAliases:O==null?void 0:O.idtAliases,position:B,target:v.target};l(G);return}var D={type:pe.Monomer,monomer:M,attachmentPointsToBonds:A,target:v.target};l(D)}}},[c,l,o]),d=S.useCallback(function(){l.cancel(),n(Yt(void 0))},[l,n]);return S.useEffect(function(){t==null||t.events.mouseOverMonomer.add(u),t==null||t.events.mouseLeaveMonomer.add(d),t==null||t.events.mouseOverSequenceItem.add(u),t==null||t.events.mouseLeaveSequenceItem.add(d),t==null||t.events.mouseOverPolymerBond.add(u),t==null||t.events.mouseLeavePolymerBond.add(d);var v=function(p){d();var m=p.buttons===1;(!m||!G9.includes(r))&&u(p)};return t==null||t.events.mouseOnMoveMonomer.add(v),t==null||t.events.mouseOnMoveSequenceItem.add(v),t==null||t.events.mouseOnMovePolymerBond.add(v),function(){t==null||t.events.mouseOverMonomer.remove(u),t==null||t.events.mouseLeaveMonomer.remove(d),t==null||t.events.mouseOnMoveMonomer.remove(v),t==null||t.events.mouseOnMoveSequenceItem.remove(v),t==null||t.events.mouseOnMovePolymerBond.remove(v),t==null||t.events.mouseOverSequenceItem.remove(u),t==null||t.events.mouseLeaveSequenceItem.remove(d),t==null||t.events.mouseOverPolymerBond.remove(u),t==null||t.events.mouseLeavePolymerBond.remove(d)}},[t,r,u,d]),S.useEffect(function(){a||t==null||t.events.resetSequenceEditMode.dispatch()},[a]),f(ee,{})},K9=function(t){var r=t.selectedMonomers,n=T(se),o=[{name:"copy",title:"Copy"},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:kn(r),hidden:function(l){var c,u=l.props;return!(u!=null&&(c=u.selectedMonomers)!==null&&c!==void 0&&c.some(function(d){return d instanceof cn&&Ao(d)||d instanceof Pr&&ln(d)}))}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",separator:!0,disabled:kn(r),hidden:function(l){var c,u=l.props;return!(u!=null&&(c=u.selectedMonomers)!==null&&c!==void 0&&c.some(function(d){return d instanceof cn&&Ao(d)||d instanceof Pr&&ln(d)}))}},{name:"delete",title:"Delete"}],a=function(l){var c=l.id;switch(c){case"copy":n.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain":n.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain":n.events.createAntisenseChain.dispatch(!0);break;case"delete":n.events.deleteSelectedStructure.dispatch();break}},i=document.querySelector(Lt);return i&&Nn.createPortal(f(Kn,{id:He.FOR_SELECTED_MONOMERS,handleMenuChange:a,menuItems:o}),i)},V9=w(jn,{target:"e1846tr80"})(function(e){var t=e.theme,r=e.isActive;return{width:"40px",height:"31px",backgroundColor:r?t.ketcher.color.button.group.active:"white",marginRight:"8px",border:r?t.ketcher.outline.selected.color:t.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":t.ketcher.color.button.group.active}}},""),Y9=function(){var t=T(se),r=S.useState(!0),n=j(r,2),o=n[0],a=n[1],i=cr(),s=i===Kt.sequence,l=T(pu),c=function(){var d=!o;a(d),t.events.toggleIsSequenceSyncEditMode.dispatch(d),Rd()};return S.useEffect(function(){s&&l&&t.events.toggleIsSequenceSyncEditMode.dispatch(o)},[s,l]),s&&l?f(ee,{children:f(V9,{isActive:o,onClick:c,children:E("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:o?"white":"#333333",children:[f("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),f("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),f("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),f("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),f("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),f("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),f("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),f("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),f("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),f("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),f("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})})}):null},Z9=Nl(Z5);function e7(e){var t=e.onInit,r=e.theme,n=e.togglerComponent,o=e.monomersLibraryUpdate,a=S.useRef(null),i=r?bt.merge(bs,r):bs,s=bt.merge(Z9,{ketcher:i});return S.useEffect(function(){t==null||t()},[t]),f(hf,{store:Y5,children:E(pf,{theme:s,children:[f(ff,{styles:Q5}),f(hP,{ref:a,className:vf,children:f(Q9,{theme:i,togglerComponent:n,monomersLibraryUpdate:o})})]})})}function Q9(e){var t=e.theme,r=e.togglerComponent,n=e.monomersLibraryUpdate,o=ce(),a=S.useRef(null),i=T(w5),s=T(se),l=T(YM),c=bP(),u=S.useState(!1),d=j(u,2),v=d[0],h=d[1],p=i4(),m=S.useState(),g=j(m,2),b=g[0],y=g[1],C=S.useState([]),x=j(C,2),M=x[0],A=x[1],I=Xr({id:He.FOR_SEQUENCE}),P=I.show,k=Xr({id:He.FOR_POLYMER_BOND}),N=k.show,O=Xr({id:He.FOR_SELECTED_MONOMERS}),B=O.show;S.useEffect(function(){return o(GM({theme:t,canvas:a.current,monomersLibraryUpdate:n})),function(){o(WM(null))}},[o]),CP(),S.useEffect(function(){s==null||s.events.rightClickSequence.add(function(D){var R=j(D,2),$=R[0],q=R[1];y(q),P({event:$,props:{sequenceItemRenderer:$.target.__data__}})}),s==null||s.events.rightClickPolymerBond.add(function(D){var R=j(D,2),$=R[0],q=R[1];N({event:$,props:{polymerBondRenderer:q}})}),s==null||s.events.rightClickSelectedMonomers.add(function(D){var R=j(D,2),$=R[0],q=R[1];A(q),B({event:$,props:{selectedMonomers:q}})}),s==null||s.events.rightClickCanvas.add(function(D){P({event:D,props:{}})})},[s]),S.useEffect(function(){return s==null||s.zoomTool.observeCanvasResize(),function(){s==null||s.zoomTool.destroy()}},[s]);var G=function(){o(m5())};return E(ee,{children:[E(je,{children:[E(je.Top,{shortened:v,"data-testid":"top-toolbar",children:[f(O9,{}),E(mP,{children:[f(Y9,{}),f(FP,{}),f(k9,{}),f(gP,{className:p?"toggler-component-wrapper--disabled":"",children:r}),f(kP,{}),f(Fd,{}),f(q9,{})]})]}),f(je.Left,{children:f(N9,{})}),E(je.Main,{children:[f(W9,{}),E(yP,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas",preserveAspectRatio:"xMidYMid meet",ref:a,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[E("defs",{children:[f(aP,{}),f(oP,{}),f(iP,{}),f(sP,{}),f(lP,{}),f(cP,{}),f(uP,{}),f(fP,{}),f(dP,{})]}),f("g",{className:"drawn-structures"}),l&&f("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),c&&f(MP,{})]}),f(je.Right,{hide:v,children:f(fA,{})}),f(je.InsideRoot,{children:f(pA,{isHidden:v,onClick:function(){return h(function(R){return!R})}})})]}),f(P9,{}),f(VP,{selections:b}),f(H9,{}),f(K9,{selectedMonomers:M}),f(eP,{}),f(pP,{}),f(up,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!i,onClose:G,autoHideDuration:6e3,children:E(tP,{id:"error-tooltip",children:[f(rP,{"data-testid":"error-tooltip",children:i}),f(nP,{iconName:"close",onClick:G})]})})]})}export{e7 as default};
