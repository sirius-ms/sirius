import{s as Qv,k as Xv,r as S,m as Jv,n as dc,a as Oe,j as ee,_ as B,o as ft,p as et,u as tt,q as we,v as Fe,w as Q,x as rt,C as ep,y as tp,f as fc,z as rp,B as np,A as op,D as ap,E as vc,F as Ya,H as ip,I as sp,M as lp,J as up,K as cp,L as ds,N as dp,O as fp,Q as vp,R as fs,S as pp,U as vs,V as ps,W as hp,X as mp,Y as gp,Z as pc,$ as fn,a0 as Za,l as me,a1 as yp,a2 as w,a3 as bp,T as xp,P as wp,a4 as hc,a5 as L,a6 as mc,a7 as bn,a8 as hr,a9 as gc,aa as Yt,ab as ce,ac as Pt,ad as Cp,ae as ir,af as Ve,ag as eo,ah as he,ai as de,aj as Gt,ak as Mp,al as Sp,am as yc,an as Je,ao as Ur,ap as Wr,h as q,aq as Ap,ar as bc,as as to,at as Se,au as xc,av as wc,aw as Pp,ax as st,ay as hs,az as Ep,aA as nn,aB as Cc,aC as Ip,aD as Mc,aE as kp,aF as ro,i as Ee,aG as Op,aH as Tp,aI as no,aJ as Np,aK as oo,aL as _p,aM as ms,aN as Sc,aO as Gr,aP as $p,aQ as Qa,aR as kn,aS as Dp,aT as Lp,aU as On,aV as lt,aW as jp,aX as Rp,aY as ao,aZ as Ot,a_ as gs,a$ as Bp,b0 as ys,b1 as Xa,b2 as Ac,b3 as Pc,b4 as Ec,b5 as Fp,b6 as zp,b7 as qp,b8 as Hp,b9 as Tn,ba as Ic,bb as Up,bc as Wp,bd as Gp,be as Vp,bf as Kp,bg as Yp,g as ca,bh as kc,bi as Oc,bj as Tc,bk as Ir,bl as Mt,bm as Nn,bn as Zp,bo as Ja,bp as Qp,bq as Xp,br as Jp,bs as Nc,bt as eh,bu as _c,bv as th,bw as rh,bx as nh,by as oh,bz as ah,bA as ih,bB as sh,bC as lh,bD as uh,bE as ch,c as dh,b as fh,d as da,e as vh,t as bs}from"./index-DFl9UeOz.js";import{j as v,a as P,F as K}from"./emotion-react-jsx-runtime.browser.esm-BU2F_ykY.js";function $c(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=$c(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ph(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=$c(e))&&(n&&(n+=" "),n+=t);return n}const hh=["className","component"];function mh(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,a=Qv("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Xv);return S.forwardRef(function(l,u){const c=Jv(r),d=dc(l),{className:f,component:p="div"}=d,h=Oe(d,hh);return ee.jsx(a,B({as:p,ref:u,className:ph(f,o?o(n):n),theme:t&&c[t]||c},h))})}function To(e,t){var r,n;return S.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function gh(e){return ft("MuiTypography",e)}et("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yh=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],bh=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:a,classes:i}=e,s={root:["root",a,e.align!=="inherit"&&`align${Q(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return rt(s,gh,i)},xh=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Q(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>B({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),xs={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},wh={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ch=e=>wh[e]||e,_r=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiTypography"}),o=Ch(n.color),a=dc(B({},n,{color:o})),{align:i="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=xs}=a,h=Oe(a,yh),m=B({},a,{align:i,color:o,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:f,variantMapping:p}),y=l||(d?"p":p[f]||xs[f])||"span",g=bh(m);return ee.jsx(xh,B({as:y,ref:r,ownerState:m,className:Fe(g.root,s)},h))}),Mh=et("MuiBox",["root"]),Sh=fc(),Dc=mh({themeId:tp,defaultTheme:Sh,defaultClassName:Mh.root,generateClassName:ep.generate});function Ah(e){return ft("MuiButtonGroup",e)}const ve=et("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Ph=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Eh=(e,t)=>{const{ownerState:r}=e;return[{[`& .${ve.grouped}`]:t.grouped},{[`& .${ve.grouped}`]:t[`grouped${Q(r.orientation)}`]},{[`& .${ve.grouped}`]:t[`grouped${Q(r.variant)}`]},{[`& .${ve.grouped}`]:t[`grouped${Q(r.variant)}${Q(r.orientation)}`]},{[`& .${ve.grouped}`]:t[`grouped${Q(r.variant)}${Q(r.color)}`]},{[`& .${ve.firstButton}`]:t.firstButton},{[`& .${ve.lastButton}`]:t.lastButton},{[`& .${ve.middleButton}`]:t.middleButton},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},Ih=e=>{const{classes:t,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:i,variant:s}=e,l={root:["root",s,i==="vertical"&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${Q(i)}`,`grouped${Q(s)}`,`grouped${Q(s)}${Q(i)}`,`grouped${Q(s)}${Q(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return rt(l,Ah,t)},kh=we("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Eh})(({theme:e,ownerState:t})=>B({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${ve.grouped}`]:B({minWidth:40,"&:hover":B({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${ve.firstButton},& .${ve.middleButton}`]:B({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:ap(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":B({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${ve.lastButton},& .${ve.middleButton}`]:B({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Oh=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiButtonGroup"}),{children:o,className:a,color:i="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:h="medium",variant:m="outlined"}=n,y=Oe(n,Ph),g=B({},n,{color:i,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:f,orientation:p,size:h,variant:m}),b=Ih(g),C=S.useMemo(()=>({className:b.grouped,color:i,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:f,size:h,variant:m}),[i,l,u,c,d,f,h,m,b.grouped]),x=rp(o),M=x.length,A=E=>{const k=E===0,N=E===M-1;return k&&N?"":k?b.firstButton:N?b.lastButton:b.middleButton};return ee.jsx(kh,B({as:s,role:"group",className:Fe(b.root,a),ref:r,ownerState:g},y,{children:ee.jsx(np.Provider,{value:C,children:x.map((E,k)=>ee.jsx(op.Provider,{value:A(k),children:E},k))})}))});function Th(e){return ft("MuiDialog",e)}const No=et("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Lc=S.createContext({}),Nh=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],_h=we(up,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),$h=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:a}=e,i={root:["root"],container:["container",`scroll${Q(r)}`],paper:["paper",`paperScroll${Q(r)}`,`paperWidth${Q(String(n))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return rt(i,Th,t)},Dh=we(lp,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Lh=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${Q(r.scroll)}`]]}})(({ownerState:e})=>B({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),jh=we(Ya,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${Q(r.scroll)}`],t[`paperWidth${Q(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>B({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${No.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${No.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${No.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Rh=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiDialog"}),o=vc(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:m="sm",onBackdropClick:y,onClick:g,onClose:b,open:C,PaperComponent:x=Ya,PaperProps:M={},scroll:A="paper",TransitionComponent:E=ip,transitionDuration:k=a,TransitionProps:N}=n,T=Oe(n,Nh),I=B({},n,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:h,maxWidth:m,scroll:A}),D=$h(I),_=S.useRef(),$=H=>{_.current=H.target===H.currentTarget},F=H=>{g&&g(H),_.current&&(_.current=null,y&&y(H),b&&b(H,"backdropClick"))},R=sp(s),z=S.useMemo(()=>({titleId:R}),[R]);return ee.jsx(Dh,B({className:Fe(D.root,d),closeAfterTransition:!0,components:{Backdrop:_h},componentsProps:{backdrop:B({transitionDuration:k,as:l},u)},disableEscapeKeyDown:f,onClose:b,open:C,ref:r,onClick:F,ownerState:I},T,{children:ee.jsx(E,B({appear:!0,in:C,timeout:k,role:"presentation"},N,{children:ee.jsx(Lh,{className:Fe(D.container),onMouseDown:$,ownerState:I,children:ee.jsx(jh,B({as:x,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":R},M,{className:Fe(D.paper,M.className),ownerState:I,children:ee.jsx(Lc.Provider,{value:z,children:c})}))})}))}))});function Bh(e){return ft("MuiDialogActions",e)}et("MuiDialogActions",["root","spacing"]);const Fh=["className","disableSpacing"],zh=e=>{const{classes:t,disableSpacing:r}=e;return rt({root:["root",!r&&"spacing"]},Bh,t)},qh=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>B({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Hh=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:a=!1}=n,i=Oe(n,Fh),s=B({},n,{disableSpacing:a}),l=zh(s);return ee.jsx(qh,B({className:Fe(l.root,o),ownerState:s,ref:r},i))});function Uh(e){return ft("MuiDialogContent",e)}et("MuiDialogContent",["root","dividers"]);function Wh(e){return ft("MuiDialogTitle",e)}const Gh=et("MuiDialogTitle",["root"]),Vh=["className","dividers"],Kh=e=>{const{classes:t,dividers:r}=e;return rt({root:["root",r&&"dividers"]},Uh,t)},Yh=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>B({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Gh.root} + &`]:{paddingTop:0}})),Zh=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiDialogContent"}),{className:o,dividers:a=!1}=n,i=Oe(n,Vh),s=B({},n,{dividers:a}),l=Kh(s);return ee.jsx(Yh,B({className:Fe(l.root,o),ownerState:s,ref:r},i))}),Qh=["className","id"],Xh=e=>{const{classes:t}=e;return rt({root:["root"]},Wh,t)},Jh=we(_r,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),em=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiDialogTitle"}),{className:o,id:a}=n,i=Oe(n,Qh),s=n,l=Xh(s),{titleId:u=a}=S.useContext(Lc);return ee.jsx(Jh,B({component:"h2",className:Fe(l.root,o),ownerState:s,ref:r,variant:"h6",id:a??u},i))});function tm(e){return ft("MuiFormControl",e)}et("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const rm=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],nm=e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root",r!=="none"&&`margin${Q(r)}`,n&&"fullWidth"]};return rt(o,tm,t)},om=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>B({},t.root,t[`margin${Q(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>B({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),am=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiFormControl"}),{children:o,className:a,color:i="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:h=!1,size:m="medium",variant:y="outlined"}=n,g=Oe(n,rm),b=B({},n,{color:i,component:s,disabled:l,error:u,fullWidth:d,hiddenLabel:f,margin:p,required:h,size:m,variant:y}),C=nm(b),[x,M]=S.useState(()=>{let _=!1;return o&&S.Children.forEach(o,$=>{if(!To($,["Input","Select"]))return;const F=To($,["Select"])?$.props.input:$;F&&cp(F.props)&&(_=!0)}),_}),[A,E]=S.useState(()=>{let _=!1;return o&&S.Children.forEach(o,$=>{To($,["Input","Select"])&&(ds($.props,!0)||ds($.props.inputProps,!0))&&(_=!0)}),_}),[k,N]=S.useState(!1);l&&k&&N(!1);const T=c!==void 0&&!l?c:k;let I;const D=S.useMemo(()=>({adornedStart:x,setAdornedStart:M,color:i,disabled:l,error:u,filled:A,focused:T,fullWidth:d,hiddenLabel:f,size:m,onBlur:()=>{N(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{N(!0)},registerEffect:I,required:h,variant:y}),[x,i,l,u,A,T,d,f,I,h,m,y]);return ee.jsx(dp.Provider,{value:D,children:ee.jsx(om,B({as:s,ownerState:b,className:Fe(C.root,a),ref:r},g,{children:o}))})}),im=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],sm=e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:a}=e;return rt({root:["root",r&&"inset",a&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},vp,t)},lm=we("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${fs.primary}`]:t.primary},{[`& .${fs.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>B({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),um=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiListItemText"}),{children:o,className:a,disableTypography:i=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=n,f=Oe(n,im),{dense:p}=S.useContext(fp);let h=l??o,m=c;const y=B({},n,{disableTypography:i,inset:s,primary:!!h,secondary:!!m,dense:p}),g=sm(y);return h!=null&&h.type!==_r&&!i&&(h=ee.jsx(_r,B({variant:p?"body2":"body1",className:g.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:h}))),m!=null&&m.type!==_r&&!i&&(m=ee.jsx(_r,B({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},d,{children:m}))),ee.jsxs(lm,B({className:Fe(g.root,a),ownerState:y,ref:r},f,{children:[h,m]}))});function cm(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:o,resumeHideDuration:a}=e,i=pp();S.useEffect(()=>{if(!o)return;function g(b){b.defaultPrevented||(b.key==="Escape"||b.key==="Esc")&&(n==null||n(b,"escapeKeyDown"))}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[o,n]);const s=vs((g,b)=>{n==null||n(g,b)}),l=vs(g=>{!n||g==null||i.start(g,()=>{s(null,"timeout")})});S.useEffect(()=>(o&&l(t),i.clear),[o,t,l,i]);const u=g=>{n==null||n(g,"clickaway")},c=i.clear,d=S.useCallback(()=>{t!=null&&l(a??t*.5)},[t,a,l]),f=g=>b=>{const C=g.onBlur;C==null||C(b),d()},p=g=>b=>{const C=g.onFocus;C==null||C(b),c()},h=g=>b=>{const C=g.onMouseEnter;C==null||C(b),c()},m=g=>b=>{const C=g.onMouseLeave;C==null||C(b),d()};return S.useEffect(()=>{if(!r&&o)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[r,o,d,c]),{getRootProps:(g={})=>{const b=B({},ps(e),ps(g));return B({role:"presentation"},g,b,{onBlur:f(b),onFocus:p(b),onMouseEnter:h(b),onMouseLeave:m(b)})},onClickAway:u}}function dm(e){return ft("MuiSnackbarContent",e)}et("MuiSnackbarContent",["root","message","action"]);const fm=["action","className","message","role"],vm=e=>{const{classes:t}=e;return rt({root:["root"],action:["action"],message:["message"]},dm,t)},pm=we(Ya,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,r=hp(e.palette.background.default,t);return B({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(r),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),hm=we("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),mm=we("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),gm=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiSnackbarContent"}),{action:o,className:a,message:i,role:s="alert"}=n,l=Oe(n,fm),u=n,c=vm(u);return ee.jsxs(pm,B({role:s,square:!0,elevation:6,className:Fe(c.root,a),ownerState:u,ref:r},l,{children:[ee.jsx(hm,{className:c.message,ownerState:u,children:i}),o?ee.jsx(mm,{className:c.action,ownerState:u,children:o}):null]}))});function ym(e){return ft("MuiSnackbar",e)}et("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const bm=["onEnter","onExited"],xm=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],wm=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${Q(r.vertical)}${Q(r.horizontal)}`]};return rt(n,ym,t)},ws=we("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${Q(r.anchorOrigin.vertical)}${Q(r.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return B({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:B({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&r,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Cm=S.forwardRef(function(t,r){const n=tt({props:t,name:"MuiSnackbar"}),o=vc(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:h=!1,message:m,open:y,TransitionComponent:g=mp,transitionDuration:b=a,TransitionProps:{onEnter:C,onExited:x}={}}=n,M=Oe(n.TransitionProps,bm),A=Oe(n,xm),E=B({},n,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:u,disableWindowBlurListener:h,TransitionComponent:g,transitionDuration:b}),k=wm(E),{getRootProps:N,onClickAway:T}=cm(B({},E)),[I,D]=S.useState(!0),_=gp({elementType:ws,getSlotProps:N,externalForwardedProps:A,ownerState:E,additionalProps:{ref:r},className:[k.root,d]}),$=R=>{D(!0),x&&x(R)},F=(R,z)=>{D(!1),C&&C(R,z)};return!y&&I?null:ee.jsx(pc,B({onClickAway:T},f,{children:ee.jsx(ws,B({},_,{children:ee.jsx(g,B({appear:!0,in:y,timeout:b,direction:s==="top"?"down":"up",onEnter:F,onExited:$},M,{children:c||ee.jsx(gm,B({message:m,action:i},p))}))}))}))});function Mm(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var ei=Mm;function Sm(){this.__data__=[],this.size=0}var Am=Sm;function Pm(e,t){return e===t||e!==e&&t!==t}var ti=Pm,Em=ti;function Im(e,t){for(var r=e.length;r--;)if(Em(e[r][0],t))return r;return-1}var io=Im,km=io,Om=Array.prototype,Tm=Om.splice;function Nm(e){var t=this.__data__,r=km(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Tm.call(t,r,1),--this.size,!0}var _m=Nm,$m=io;function Dm(e){var t=this.__data__,r=$m(t,e);return r<0?void 0:t[r][1]}var Lm=Dm,jm=io;function Rm(e){return jm(this.__data__,e)>-1}var Bm=Rm,Fm=io;function zm(e,t){var r=this.__data__,n=Fm(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var qm=zm,Hm=Am,Um=_m,Wm=Lm,Gm=Bm,Vm=qm;function mr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mr.prototype.clear=Hm;mr.prototype.delete=Um;mr.prototype.get=Wm;mr.prototype.has=Gm;mr.prototype.set=Vm;var so=mr,Km=so;function Ym(){this.__data__=new Km,this.size=0}var Zm=Ym;function Qm(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Xm=Qm;function Jm(e){return this.__data__.get(e)}var eg=Jm;function tg(e){return this.__data__.has(e)}var rg=tg,ng=typeof fn=="object"&&fn&&fn.Object===Object&&fn,jc=ng,og=jc,ag=typeof self=="object"&&self&&self.Object===Object&&self,ig=og||ag||Function("return this")(),qe=ig,sg=qe,lg=sg.Symbol,gr=lg,Cs=gr,Rc=Object.prototype,ug=Rc.hasOwnProperty,cg=Rc.toString,kr=Cs?Cs.toStringTag:void 0;function dg(e){var t=ug.call(e,kr),r=e[kr];try{e[kr]=void 0;var n=!0}catch{}var o=cg.call(e);return n&&(t?e[kr]=r:delete e[kr]),o}var fg=dg,vg=Object.prototype,pg=vg.toString;function hg(e){return pg.call(e)}var mg=hg,Ms=gr,gg=fg,yg=mg,bg="[object Null]",xg="[object Undefined]",Ss=Ms?Ms.toStringTag:void 0;function wg(e){return e==null?e===void 0?xg:bg:Ss&&Ss in Object(e)?gg(e):yg(e)}var yr=wg;function Cg(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vt=Cg,Mg=yr,Sg=Vt,Ag="[object AsyncFunction]",Pg="[object Function]",Eg="[object GeneratorFunction]",Ig="[object Proxy]";function kg(e){if(!Sg(e))return!1;var t=Mg(e);return t==Pg||t==Eg||t==Ag||t==Ig}var Bc=kg,Og=qe,Tg=Og["__core-js_shared__"],Ng=Tg,_o=Ng,As=function(){var e=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _g(e){return!!As&&As in e}var $g=_g,Dg=Function.prototype,Lg=Dg.toString;function jg(e){if(e!=null){try{return Lg.call(e)}catch{}try{return e+""}catch{}}return""}var Fc=jg,Rg=Bc,Bg=$g,Fg=Vt,zg=Fc,qg=/[\\^$.*+?()[\]{}|]/g,Hg=/^\[object .+?Constructor\]$/,Ug=Function.prototype,Wg=Object.prototype,Gg=Ug.toString,Vg=Wg.hasOwnProperty,Kg=RegExp("^"+Gg.call(Vg).replace(qg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yg(e){if(!Fg(e)||Bg(e))return!1;var t=Rg(e)?Kg:Hg;return t.test(zg(e))}var Zg=Yg;function Qg(e,t){return e==null?void 0:e[t]}var Xg=Qg,Jg=Zg,e0=Xg;function t0(e,t){var r=e0(e,t);return Jg(r)?r:void 0}var Kt=t0,r0=Kt,n0=qe,o0=r0(n0,"Map"),ri=o0,a0=Kt,i0=a0(Object,"create"),lo=i0,Ps=lo;function s0(){this.__data__=Ps?Ps(null):{},this.size=0}var l0=s0;function u0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var c0=u0,d0=lo,f0="__lodash_hash_undefined__",v0=Object.prototype,p0=v0.hasOwnProperty;function h0(e){var t=this.__data__;if(d0){var r=t[e];return r===f0?void 0:r}return p0.call(t,e)?t[e]:void 0}var m0=h0,g0=lo,y0=Object.prototype,b0=y0.hasOwnProperty;function x0(e){var t=this.__data__;return g0?t[e]!==void 0:b0.call(t,e)}var w0=x0,C0=lo,M0="__lodash_hash_undefined__";function S0(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=C0&&t===void 0?M0:t,this}var A0=S0,P0=l0,E0=c0,I0=m0,k0=w0,O0=A0;function br(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}br.prototype.clear=P0;br.prototype.delete=E0;br.prototype.get=I0;br.prototype.has=k0;br.prototype.set=O0;var T0=br,Es=T0,N0=so,_0=ri;function $0(){this.size=0,this.__data__={hash:new Es,map:new(_0||N0),string:new Es}}var D0=$0;function L0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var j0=L0,R0=j0;function B0(e,t){var r=e.__data__;return R0(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uo=B0,F0=uo;function z0(e){var t=F0(this,e).delete(e);return this.size-=t?1:0,t}var q0=z0,H0=uo;function U0(e){return H0(this,e).get(e)}var W0=U0,G0=uo;function V0(e){return G0(this,e).has(e)}var K0=V0,Y0=uo;function Z0(e,t){var r=Y0(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Q0=Z0,X0=D0,J0=q0,e1=W0,t1=K0,r1=Q0;function xr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xr.prototype.clear=X0;xr.prototype.delete=J0;xr.prototype.get=e1;xr.prototype.has=t1;xr.prototype.set=r1;var ni=xr,n1=so,o1=ri,a1=ni,i1=200;function s1(e,t){var r=this.__data__;if(r instanceof n1){var n=r.__data__;if(!o1||n.length<i1-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new a1(n)}return r.set(e,t),this.size=r.size,this}var l1=s1,u1=so,c1=Zm,d1=Xm,f1=eg,v1=rg,p1=l1;function wr(e){var t=this.__data__=new u1(e);this.size=t.size}wr.prototype.clear=c1;wr.prototype.delete=d1;wr.prototype.get=f1;wr.prototype.has=v1;wr.prototype.set=p1;var oi=wr;function h1(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var m1=h1,g1=Kt,y1=function(){try{var e=g1(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zc=y1,Is=zc;function b1(e,t,r){t=="__proto__"&&Is?Is(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var qc=b1,x1=qc,w1=ti,C1=Object.prototype,M1=C1.hasOwnProperty;function S1(e,t,r){var n=e[t];(!(M1.call(e,t)&&w1(n,r))||r===void 0&&!(t in e))&&x1(e,t,r)}var Hc=S1,A1=Hc,P1=qc;function E1(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),o?P1(r,s,l):A1(r,s,l)}return r}var on=E1;function I1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k1=I1;function O1(e){return e!=null&&typeof e=="object"}var It=O1,T1=yr,N1=It,_1="[object Arguments]";function $1(e){return N1(e)&&T1(e)==_1}var D1=$1,ks=D1,L1=It,Uc=Object.prototype,j1=Uc.hasOwnProperty,R1=Uc.propertyIsEnumerable,B1=ks(function(){return arguments}())?ks:function(e){return L1(e)&&j1.call(e,"callee")&&!R1.call(e,"callee")},ai=B1,F1=Array.isArray,He=F1,_n={exports:{}};function z1(){return!1}var q1=z1;_n.exports;(function(e,t){var r=qe,n=q1,o=t&&!t.nodeType&&t,a=o&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===o,s=i?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(_n,_n.exports);var ii=_n.exports,H1=9007199254740991,U1=/^(?:0|[1-9]\d*)$/;function W1(e,t){var r=typeof e;return t=t??H1,!!t&&(r=="number"||r!="symbol"&&U1.test(e))&&e>-1&&e%1==0&&e<t}var Wc=W1,G1=9007199254740991;function V1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G1}var si=V1,K1=yr,Y1=si,Z1=It,Q1="[object Arguments]",X1="[object Array]",J1="[object Boolean]",ey="[object Date]",ty="[object Error]",ry="[object Function]",ny="[object Map]",oy="[object Number]",ay="[object Object]",iy="[object RegExp]",sy="[object Set]",ly="[object String]",uy="[object WeakMap]",cy="[object ArrayBuffer]",dy="[object DataView]",fy="[object Float32Array]",vy="[object Float64Array]",py="[object Int8Array]",hy="[object Int16Array]",my="[object Int32Array]",gy="[object Uint8Array]",yy="[object Uint8ClampedArray]",by="[object Uint16Array]",xy="[object Uint32Array]",J={};J[fy]=J[vy]=J[py]=J[hy]=J[my]=J[gy]=J[yy]=J[by]=J[xy]=!0;J[Q1]=J[X1]=J[cy]=J[J1]=J[dy]=J[ey]=J[ty]=J[ry]=J[ny]=J[oy]=J[ay]=J[iy]=J[sy]=J[ly]=J[uy]=!1;function wy(e){return Z1(e)&&Y1(e.length)&&!!J[K1(e)]}var Cy=wy;function My(e){return function(t){return e(t)}}var li=My,$n={exports:{}};$n.exports;(function(e,t){var r=jc,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a&&r.process,s=function(){try{var l=o&&o.require&&o.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})($n,$n.exports);var ui=$n.exports,Sy=Cy,Ay=li,Os=ui,Ts=Os&&Os.isTypedArray,Py=Ts?Ay(Ts):Sy,Gc=Py,Ey=k1,Iy=ai,ky=He,Oy=ii,Ty=Wc,Ny=Gc,_y=Object.prototype,$y=_y.hasOwnProperty;function Dy(e,t){var r=ky(e),n=!r&&Iy(e),o=!r&&!n&&Oy(e),a=!r&&!n&&!o&&Ny(e),i=r||n||o||a,s=i?Ey(e.length,String):[],l=s.length;for(var u in e)(t||$y.call(e,u))&&!(i&&(u=="length"||o&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ty(u,l)))&&s.push(u);return s}var Vc=Dy,Ly=Object.prototype;function jy(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ly;return e===r}var ci=jy;function Ry(e,t){return function(r){return e(t(r))}}var Kc=Ry,By=Kc,Fy=By(Object.keys,Object),zy=Fy,qy=ci,Hy=zy,Uy=Object.prototype,Wy=Uy.hasOwnProperty;function Gy(e){if(!qy(e))return Hy(e);var t=[];for(var r in Object(e))Wy.call(e,r)&&r!="constructor"&&t.push(r);return t}var Vy=Gy,Ky=Bc,Yy=si;function Zy(e){return e!=null&&Yy(e.length)&&!Ky(e)}var co=Zy,Qy=Vc,Xy=Vy,Jy=co;function eb(e){return Jy(e)?Qy(e):Xy(e)}var an=eb,tb=on,rb=an;function nb(e,t){return e&&tb(t,rb(t),e)}var ob=nb;function ab(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var ib=ab,sb=Vt,lb=ci,ub=ib,cb=Object.prototype,db=cb.hasOwnProperty;function fb(e){if(!sb(e))return ub(e);var t=lb(e),r=[];for(var n in e)n=="constructor"&&(t||!db.call(e,n))||r.push(n);return r}var vb=fb,pb=Vc,hb=vb,mb=co;function gb(e){return mb(e)?pb(e,!0):hb(e)}var di=gb,yb=on,bb=di;function xb(e,t){return e&&yb(t,bb(t),e)}var wb=xb,Dn={exports:{}};Dn.exports;(function(e,t){var r=qe,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===n,i=a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=s?s(d):new u.constructor(d);return u.copy(f),f}e.exports=l})(Dn,Dn.exports);var Cb=Dn.exports;function Mb(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Sb=Mb;function Ab(e,t){for(var r=-1,n=e==null?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}var Pb=Ab;function Eb(){return[]}var Yc=Eb,Ib=Pb,kb=Yc,Ob=Object.prototype,Tb=Ob.propertyIsEnumerable,Ns=Object.getOwnPropertySymbols,Nb=Ns?function(e){return e==null?[]:(e=Object(e),Ib(Ns(e),function(t){return Tb.call(e,t)}))}:kb,fi=Nb,_b=on,$b=fi;function Db(e,t){return _b(e,$b(e),t)}var Lb=Db;function jb(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var vi=jb,Rb=Kc,Bb=Rb(Object.getPrototypeOf,Object),pi=Bb,Fb=vi,zb=pi,qb=fi,Hb=Yc,Ub=Object.getOwnPropertySymbols,Wb=Ub?function(e){for(var t=[];e;)Fb(t,qb(e)),e=zb(e);return t}:Hb,Zc=Wb,Gb=on,Vb=Zc;function Kb(e,t){return Gb(e,Vb(e),t)}var Yb=Kb,Zb=vi,Qb=He;function Xb(e,t,r){var n=t(e);return Qb(e)?n:Zb(n,r(e))}var Qc=Xb,Jb=Qc,ex=fi,tx=an;function rx(e){return Jb(e,tx,ex)}var Xc=rx,nx=Qc,ox=Zc,ax=di;function ix(e){return nx(e,ax,ox)}var Jc=ix,sx=Kt,lx=qe,ux=sx(lx,"DataView"),cx=ux,dx=Kt,fx=qe,vx=dx(fx,"Promise"),px=vx,hx=Kt,mx=qe,gx=hx(mx,"Set"),yx=gx,bx=Kt,xx=qe,wx=bx(xx,"WeakMap"),Cx=wx,fa=cx,va=ri,pa=px,ha=yx,ma=Cx,ed=yr,Cr=Fc,_s="[object Map]",Mx="[object Object]",$s="[object Promise]",Ds="[object Set]",Ls="[object WeakMap]",js="[object DataView]",Sx=Cr(fa),Ax=Cr(va),Px=Cr(pa),Ex=Cr(ha),Ix=Cr(ma),Tt=ed;(fa&&Tt(new fa(new ArrayBuffer(1)))!=js||va&&Tt(new va)!=_s||pa&&Tt(pa.resolve())!=$s||ha&&Tt(new ha)!=Ds||ma&&Tt(new ma)!=Ls)&&(Tt=function(e){var t=ed(e),r=t==Mx?e.constructor:void 0,n=r?Cr(r):"";if(n)switch(n){case Sx:return js;case Ax:return _s;case Px:return $s;case Ex:return Ds;case Ix:return Ls}return t});var fo=Tt,kx=Object.prototype,Ox=kx.hasOwnProperty;function Tx(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ox.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Nx=Tx,_x=qe,$x=_x.Uint8Array,td=$x,Rs=td;function Dx(e){var t=new e.constructor(e.byteLength);return new Rs(t).set(new Rs(e)),t}var hi=Dx,Lx=hi;function jx(e,t){var r=t?Lx(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Rx=jx,Bx=/\w*$/;function Fx(e){var t=new e.constructor(e.source,Bx.exec(e));return t.lastIndex=e.lastIndex,t}var zx=Fx,Bs=gr,Fs=Bs?Bs.prototype:void 0,zs=Fs?Fs.valueOf:void 0;function qx(e){return zs?Object(zs.call(e)):{}}var Hx=qx,Ux=hi;function Wx(e,t){var r=t?Ux(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Gx=Wx,Vx=hi,Kx=Rx,Yx=zx,Zx=Hx,Qx=Gx,Xx="[object Boolean]",Jx="[object Date]",ew="[object Map]",tw="[object Number]",rw="[object RegExp]",nw="[object Set]",ow="[object String]",aw="[object Symbol]",iw="[object ArrayBuffer]",sw="[object DataView]",lw="[object Float32Array]",uw="[object Float64Array]",cw="[object Int8Array]",dw="[object Int16Array]",fw="[object Int32Array]",vw="[object Uint8Array]",pw="[object Uint8ClampedArray]",hw="[object Uint16Array]",mw="[object Uint32Array]";function gw(e,t,r){var n=e.constructor;switch(t){case iw:return Vx(e);case Xx:case Jx:return new n(+e);case sw:return Kx(e,r);case lw:case uw:case cw:case dw:case fw:case vw:case pw:case hw:case mw:return Qx(e,r);case ew:return new n;case tw:case ow:return new n(e);case rw:return Yx(e);case nw:return new n;case aw:return Zx(e)}}var yw=gw,bw=Vt,qs=Object.create,xw=function(){function e(){}return function(t){if(!bw(t))return{};if(qs)return qs(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),ww=xw,Cw=ww,Mw=pi,Sw=ci;function Aw(e){return typeof e.constructor=="function"&&!Sw(e)?Cw(Mw(e)):{}}var Pw=Aw,Ew=fo,Iw=It,kw="[object Map]";function Ow(e){return Iw(e)&&Ew(e)==kw}var Tw=Ow,Nw=Tw,_w=li,Hs=ui,Us=Hs&&Hs.isMap,$w=Us?_w(Us):Nw,Dw=$w,Lw=fo,jw=It,Rw="[object Set]";function Bw(e){return jw(e)&&Lw(e)==Rw}var Fw=Bw,zw=Fw,qw=li,Ws=ui,Gs=Ws&&Ws.isSet,Hw=Gs?qw(Gs):zw,Uw=Hw,Ww=oi,Gw=m1,Vw=Hc,Kw=ob,Yw=wb,Zw=Cb,Qw=Sb,Xw=Lb,Jw=Yb,eC=Xc,tC=Jc,rC=fo,nC=Nx,oC=yw,aC=Pw,iC=He,sC=ii,lC=Dw,uC=Vt,cC=Uw,dC=an,fC=di,vC=1,pC=2,hC=4,rd="[object Arguments]",mC="[object Array]",gC="[object Boolean]",yC="[object Date]",bC="[object Error]",nd="[object Function]",xC="[object GeneratorFunction]",wC="[object Map]",CC="[object Number]",od="[object Object]",MC="[object RegExp]",SC="[object Set]",AC="[object String]",PC="[object Symbol]",EC="[object WeakMap]",IC="[object ArrayBuffer]",kC="[object DataView]",OC="[object Float32Array]",TC="[object Float64Array]",NC="[object Int8Array]",_C="[object Int16Array]",$C="[object Int32Array]",DC="[object Uint8Array]",LC="[object Uint8ClampedArray]",jC="[object Uint16Array]",RC="[object Uint32Array]",Z={};Z[rd]=Z[mC]=Z[IC]=Z[kC]=Z[gC]=Z[yC]=Z[OC]=Z[TC]=Z[NC]=Z[_C]=Z[$C]=Z[wC]=Z[CC]=Z[od]=Z[MC]=Z[SC]=Z[AC]=Z[PC]=Z[DC]=Z[LC]=Z[jC]=Z[RC]=!0;Z[bC]=Z[nd]=Z[EC]=!1;function xn(e,t,r,n,o,a){var i,s=t&vC,l=t&pC,u=t&hC;if(r&&(i=o?r(e,n,o,a):r(e)),i!==void 0)return i;if(!uC(e))return e;var c=iC(e);if(c){if(i=nC(e),!s)return Qw(e,i)}else{var d=rC(e),f=d==nd||d==xC;if(sC(e))return Zw(e,s);if(d==od||d==rd||f&&!o){if(i=l||f?{}:aC(e),!s)return l?Jw(e,Yw(i,e)):Xw(e,Kw(i,e))}else{if(!Z[d])return o?e:{};i=oC(e,d,s)}}a||(a=new Ww);var p=a.get(e);if(p)return p;a.set(e,i),cC(e)?e.forEach(function(y){i.add(xn(y,t,r,y,e,a))}):lC(e)&&e.forEach(function(y,g){i.set(g,xn(y,t,r,g,e,a))});var h=u?l?tC:eC:l?fC:dC,m=c?void 0:h(e);return Gw(m||e,function(y,g){m&&(g=y,y=e[g]),Vw(i,g,xn(y,t,r,g,e,a))}),i}var BC=xn,FC=yr,zC=It,qC="[object Symbol]";function HC(e){return typeof e=="symbol"||zC(e)&&FC(e)==qC}var vo=HC,UC=He,WC=vo,GC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VC=/^\w*$/;function KC(e,t){if(UC(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||WC(e)?!0:VC.test(e)||!GC.test(e)||t!=null&&e in Object(t)}var mi=KC,ad=ni,YC="Expected a function";function gi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(YC);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(gi.Cache||ad),r}gi.Cache=ad;var ZC=gi,QC=ZC,XC=500;function JC(e){var t=QC(e,function(n){return r.size===XC&&r.clear(),n}),r=t.cache;return t}var eM=JC,tM=eM,rM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nM=/\\(\\)?/g,oM=tM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rM,function(r,n,o,a){t.push(o?a.replace(nM,"$1"):n||r)}),t}),aM=oM,Vs=gr,iM=ei,sM=He,lM=vo,Ks=Vs?Vs.prototype:void 0,Ys=Ks?Ks.toString:void 0;function id(e){if(typeof e=="string")return e;if(sM(e))return iM(e,id)+"";if(lM(e))return Ys?Ys.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uM=id,cM=uM;function dM(e){return e==null?"":cM(e)}var sd=dM,fM=He,vM=mi,pM=aM,hM=sd;function mM(e,t){return fM(e)?e:vM(e,t)?[e]:pM(hM(e))}var po=mM;function gM(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yM=gM,bM=vo;function xM(e){if(typeof e=="string"||bM(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sn=xM,wM=po,CM=sn;function MM(e,t){t=wM(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[CM(t[r++])];return r&&r==n?e:void 0}var yi=MM;function SM(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}var AM=SM,PM=yi,EM=AM;function IM(e,t){return t.length<2?e:PM(e,EM(t,0,-1))}var kM=IM,OM=po,TM=yM,NM=kM,_M=sn;function $M(e,t){return t=OM(t,e),e=NM(e,t),e==null||delete e[_M(TM(t))]}var DM=$M,LM=yr,jM=pi,RM=It,BM="[object Object]",FM=Function.prototype,zM=Object.prototype,ld=FM.toString,qM=zM.hasOwnProperty,HM=ld.call(Object);function UM(e){if(!RM(e)||LM(e)!=BM)return!1;var t=jM(e);if(t===null)return!0;var r=qM.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ld.call(r)==HM}var WM=UM,GM=WM;function VM(e){return GM(e)?void 0:e}var KM=VM,Zs=gr,YM=ai,ZM=He,Qs=Zs?Zs.isConcatSpreadable:void 0;function QM(e){return ZM(e)||YM(e)||!!(Qs&&e&&e[Qs])}var XM=QM,JM=vi,eS=XM;function ud(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=eS),o||(o=[]);++a<i;){var s=e[a];t>0&&r(s)?t>1?ud(s,t-1,r,n,o):JM(o,s):n||(o[o.length]=s)}return o}var tS=ud,rS=tS;function nS(e){var t=e==null?0:e.length;return t?rS(e,1):[]}var oS=nS;function aS(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var iS=aS,sS=iS,Xs=Math.max;function lS(e,t,r){return t=Xs(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Xs(n.length-t,0),i=Array(a);++o<a;)i[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(i),sS(e,this,s)}}var uS=lS;function cS(e){return function(){return e}}var dS=cS;function fS(e){return e}var cd=fS,vS=dS,Js=zc,pS=cd,hS=Js?function(e,t){return Js(e,"toString",{configurable:!0,enumerable:!1,value:vS(t),writable:!0})}:pS,mS=hS,gS=800,yS=16,bS=Date.now;function xS(e){var t=0,r=0;return function(){var n=bS(),o=yS-(n-r);if(r=n,o>0){if(++t>=gS)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wS=xS,CS=mS,MS=wS,SS=MS(CS),AS=SS,PS=oS,ES=uS,IS=AS;function kS(e){return IS(ES(e,void 0,PS),e+"")}var OS=kS,TS=ei,NS=BC,_S=DM,$S=po,DS=on,LS=KM,jS=OS,RS=Jc,BS=1,FS=2,zS=4,qS=jS(function(e,t){var r={};if(e==null)return r;var n=!1;t=TS(t,function(a){return a=$S(a,e),n||(n=a.length>1),a}),DS(e,RS(e),r),n&&(r=NS(r,BS|FS|zS,LS));for(var o=t.length;o--;)_S(r,t[o]);return r}),HS=qS;const US=Za(HS);var WS=/\s/;function GS(e){for(var t=e.length;t--&&WS.test(e.charAt(t)););return t}var VS=GS,KS=VS,YS=/^\s+/;function ZS(e){return e&&e.slice(0,KS(e)+1).replace(YS,"")}var QS=ZS,XS=QS,el=Vt,JS=vo,tl=NaN,eA=/^[-+]0x[0-9a-f]+$/i,tA=/^0b[01]+$/i,rA=/^0o[0-7]+$/i,nA=parseInt;function oA(e){if(typeof e=="number")return e;if(JS(e))return tl;if(el(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=el(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XS(e);var r=tA.test(e);return r||rA.test(e)?nA(e.slice(2),r?2:8):eA.test(e)?tl:+e}var dd=oA,aA=dd,rl=1/0,iA=17976931348623157e292;function sA(e){if(!e)return e===0?e:0;if(e=aA(e),e===rl||e===-rl){var t=e<0?-1:1;return t*iA}return e===e?e:0}var lA=sA,uA=lA;function cA(e){var t=uA(e),r=t%1;return t===t?r?t-r:t:0}var dA=cA,fA=qe,vA=dA,pA=dd,nl=sd,hA=fA.isFinite,mA=Math.min;function gA(e){var t=Math[e];return function(r,n){if(r=pA(r),n=n==null?0:mA(vA(n),292),n&&hA(r)){var o=(nl(r)+"e").split("e"),a=t(o[0]+"e"+(+o[1]+n));return o=(nl(a)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return t(r)}}var yA=gA,bA=yA,xA=bA("round"),wA=xA;const Ln=Za(wA);var CA="__lodash_hash_undefined__";function MA(e){return this.__data__.set(e,CA),this}var SA=MA;function AA(e){return this.__data__.has(e)}var PA=AA,EA=ni,IA=SA,kA=PA;function jn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new EA;++t<r;)this.add(e[t])}jn.prototype.add=jn.prototype.push=IA;jn.prototype.has=kA;var OA=jn;function TA(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var NA=TA;function _A(e,t){return e.has(t)}var $A=_A,DA=OA,LA=NA,jA=$A,RA=1,BA=2;function FA(e,t,r,n,o,a){var i=r&RA,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=r&BA?new DA:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],m=t[d];if(n)var y=i?n(m,h,d,t,e,a):n(h,m,d,e,t,a);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!LA(t,function(g,b){if(!jA(p,b)&&(h===g||o(h,g,r,n,a)))return p.push(b)})){f=!1;break}}else if(!(h===m||o(h,m,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var fd=FA;function zA(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}var qA=zA;function HA(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var UA=HA,ol=gr,al=td,WA=ti,GA=fd,VA=qA,KA=UA,YA=1,ZA=2,QA="[object Boolean]",XA="[object Date]",JA="[object Error]",e4="[object Map]",t4="[object Number]",r4="[object RegExp]",n4="[object Set]",o4="[object String]",a4="[object Symbol]",i4="[object ArrayBuffer]",s4="[object DataView]",il=ol?ol.prototype:void 0,$o=il?il.valueOf:void 0;function l4(e,t,r,n,o,a,i){switch(r){case s4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i4:return!(e.byteLength!=t.byteLength||!a(new al(e),new al(t)));case QA:case XA:case t4:return WA(+e,+t);case JA:return e.name==t.name&&e.message==t.message;case r4:case o4:return e==t+"";case e4:var s=VA;case n4:var l=n&YA;if(s||(s=KA),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=ZA,i.set(e,t);var c=GA(s(e),s(t),n,o,a,i);return i.delete(e),c;case a4:if($o)return $o.call(e)==$o.call(t)}return!1}var u4=l4,sl=Xc,c4=1,d4=Object.prototype,f4=d4.hasOwnProperty;function v4(e,t,r,n,o,a){var i=r&c4,s=sl(e),l=s.length,u=sl(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var f=s[d];if(!(i?f in t:f4.call(t,f)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=i;++d<l;){f=s[d];var g=e[f],b=t[f];if(n)var C=i?n(b,g,f,t,e,a):n(g,b,f,e,t,a);if(!(C===void 0?g===b||o(g,b,r,n,a):C)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var x=e.constructor,M=t.constructor;x!=M&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof M=="function"&&M instanceof M)&&(m=!1)}return a.delete(e),a.delete(t),m}var p4=v4,Do=oi,h4=fd,m4=u4,g4=p4,ll=fo,ul=He,cl=ii,y4=Gc,b4=1,dl="[object Arguments]",fl="[object Array]",vn="[object Object]",x4=Object.prototype,vl=x4.hasOwnProperty;function w4(e,t,r,n,o,a){var i=ul(e),s=ul(t),l=i?fl:ll(e),u=s?fl:ll(t);l=l==dl?vn:l,u=u==dl?vn:u;var c=l==vn,d=u==vn,f=l==u;if(f&&cl(e)){if(!cl(t))return!1;i=!0,c=!1}if(f&&!c)return a||(a=new Do),i||y4(e)?h4(e,t,r,n,o,a):m4(e,t,l,r,n,o,a);if(!(r&b4)){var p=c&&vl.call(e,"__wrapped__"),h=d&&vl.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,y=h?t.value():t;return a||(a=new Do),o(m,y,r,n,a)}}return f?(a||(a=new Do),g4(e,t,r,n,o,a)):!1}var C4=w4,M4=C4,pl=It;function vd(e,t,r,n,o){return e===t?!0:e==null||t==null||!pl(e)&&!pl(t)?e!==e&&t!==t:M4(e,t,r,n,vd,o)}var pd=vd,S4=oi,A4=pd,P4=1,E4=2;function I4(e,t,r,n){var o=r.length,a=o,i=!n;if(e==null)return!a;for(e=Object(e);o--;){var s=r[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){s=r[o];var l=s[0],u=e[l],c=s[1];if(i&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new S4;if(n)var f=n(u,c,l,e,t,d);if(!(f===void 0?A4(c,u,P4|E4,n,d):f))return!1}}return!0}var k4=I4,O4=Vt;function T4(e){return e===e&&!O4(e)}var hd=T4,N4=hd,_4=an;function $4(e){for(var t=_4(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,N4(o)]}return t}var D4=$4;function L4(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var md=L4,j4=k4,R4=D4,B4=md;function F4(e){var t=R4(e);return t.length==1&&t[0][2]?B4(t[0][0],t[0][1]):function(r){return r===e||j4(r,e,t)}}var z4=F4,q4=yi;function H4(e,t,r){var n=e==null?void 0:q4(e,t);return n===void 0?r:n}var U4=H4;function W4(e,t){return e!=null&&t in Object(e)}var G4=W4,V4=po,K4=ai,Y4=He,Z4=Wc,Q4=si,X4=sn;function J4(e,t,r){t=V4(t,e);for(var n=-1,o=t.length,a=!1;++n<o;){var i=X4(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Q4(o)&&Z4(i,o)&&(Y4(e)||K4(e)))}var e5=J4,t5=G4,r5=e5;function n5(e,t){return e!=null&&r5(e,t,t5)}var o5=n5,a5=pd,i5=U4,s5=o5,l5=mi,u5=hd,c5=md,d5=sn,f5=1,v5=2;function p5(e,t){return l5(e)&&u5(t)?c5(d5(e),t):function(r){var n=i5(r,e);return n===void 0&&n===t?s5(r,e):a5(t,n,f5|v5)}}var h5=p5;function m5(e){return function(t){return t==null?void 0:t[e]}}var g5=m5,y5=yi;function b5(e){return function(t){return y5(t,e)}}var x5=b5,w5=g5,C5=x5,M5=mi,S5=sn;function A5(e){return M5(e)?w5(S5(e)):C5(e)}var P5=A5,E5=z4,I5=h5,k5=cd,O5=He,T5=P5;function N5(e){return typeof e=="function"?e:e==null?k5:typeof e=="object"?O5(e)?I5(e[0],e[1]):E5(e):T5(e)}var _5=N5;function $5(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++o];if(r(a[l],l,a)===!1)break}return t}}var D5=$5,L5=D5,j5=L5(),R5=j5,B5=R5,F5=an;function z5(e,t){return e&&B5(e,t,F5)}var q5=z5,H5=co;function U5(e,t){return function(r,n){if(r==null)return r;if(!H5(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&n(i[a],a,i)!==!1;);return r}}var W5=U5,G5=q5,V5=W5,K5=V5(G5),Y5=K5,Z5=Y5,Q5=co;function X5(e,t){var r=-1,n=Q5(e)?Array(e.length):[];return Z5(e,function(o,a,i){n[++r]=t(o,a,i)}),n}var J5=X5,eP=ei,tP=_5,rP=J5,nP=He;function oP(e,t){var r=nP(e)?eP:rP;return r(e,tP(t))}var aP=oP;const iP=Za(aP);function Re(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Et(e){return!!e&&!!e[re]}function ut(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===hP}(e)||Array.isArray(e)||!!e[wl]||!!(!((t=e.constructor)===null||t===void 0)&&t[wl])||bi(e)||xi(e))}function Ht(e,t,r){r===void 0&&(r=!1),Mr(e)===0?(r?Object.keys:tr)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,o){return t(o,n,e)})}function Mr(e){var t=e[re];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:bi(e)?2:xi(e)?3:0}function er(e,t){return Mr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sP(e,t){return Mr(e)===2?e.get(t):e[t]}function gd(e,t,r){var n=Mr(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function yd(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function bi(e){return vP&&e instanceof Map}function xi(e){return pP&&e instanceof Set}function Nt(e){return e.o||e.t}function wi(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=xd(e);delete t[re];for(var r=tr(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Ci(e,t){return t===void 0&&(t=!1),Mi(e)||Et(e)||!ut(e)||(Mr(e)>1&&(e.set=e.add=e.clear=e.delete=lP),Object.freeze(e),t&&Ht(e,function(r,n){return Ci(n,!0)},!0)),e}function lP(){Re(2)}function Mi(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ze(e){var t=xa[e];return t||Re(18,e),t}function uP(e,t){xa[e]||(xa[e]=t)}function ga(){return Vr}function Lo(e,t){t&&(Ze("Patches"),e.u=[],e.s=[],e.v=t)}function Rn(e){ya(e),e.p.forEach(cP),e.p=null}function ya(e){e===Vr&&(Vr=e.l)}function hl(e){return Vr={p:[],l:Vr,h:e,m:!0,_:0}}function cP(e){var t=e[re];t.i===0||t.i===1?t.j():t.g=!0}function jo(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Ze("ES5").S(t,e,n),n?(r[re].P&&(Rn(t),Re(4)),ut(e)&&(e=Bn(t,e),t.l||Fn(t,e)),t.u&&Ze("Patches").M(r[re].t,e,t.u,t.s)):e=Bn(t,r,[]),Rn(t),t.u&&t.v(t.u,t.s),e!==bd?e:void 0}function Bn(e,t,r){if(Mi(t))return t;var n=t[re];if(!n)return Ht(t,function(s,l){return ml(e,n,t,s,l,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Fn(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=wi(n.k):n.o,a=o,i=!1;n.i===3&&(a=new Set(o),o.clear(),i=!0),Ht(a,function(s,l){return ml(e,n,o,s,l,r,i)}),Fn(e,o,!1),r&&e.u&&Ze("Patches").N(n,r,e.u,e.s)}return n.o}function ml(e,t,r,n,o,a,i){if(Et(o)){var s=Bn(e,o,a&&t&&t.i!==3&&!er(t.R,n)?a.concat(n):void 0);if(gd(r,n,s),!Et(s))return;e.m=!1}else i&&r.add(o);if(ut(o)&&!Mi(o)){if(!e.h.D&&e._<1)return;Bn(e,o),t&&t.A.l||Fn(e,o)}}function Fn(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&Ci(t,r)}function Ro(e,t){var r=e[re];return(r?Nt(r):e)[t]}function gl(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function bt(e){e.P||(e.P=!0,e.l&&bt(e.l))}function Bo(e){e.o||(e.o=wi(e.t))}function ba(e,t,r){var n=bi(t)?Ze("MapSet").F(t,r):xi(t)?Ze("MapSet").T(t,r):e.O?function(o,a){var i=Array.isArray(o),s={i:i?1:0,A:a?a.A:ga(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},l=s,u=Kr;i&&(l=[s],u=$r);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return s.k=f,s.j=d,f}(t,r):Ze("ES5").J(t,r);return(r?r.A:ga()).p.push(n),n}function dP(e){return Et(e)||Re(22,e),function t(r){if(!ut(r))return r;var n,o=r[re],a=Mr(r);if(o){if(!o.P&&(o.i<4||!Ze("ES5").K(o)))return o.t;o.I=!0,n=yl(r,a),o.I=!1}else n=yl(r,a);return Ht(n,function(i,s){o&&sP(o.t,i)===s||gd(n,i,t(s))}),a===3?new Set(n):n}(e)}function yl(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return wi(e)}function fP(){function e(a,i){var s=o[a];return s?s.enumerable=i:o[a]=s={configurable:!0,enumerable:i,get:function(){var l=this[re];return Kr.get(l,a)},set:function(l){var u=this[re];Kr.set(u,a,l)}},s}function t(a){for(var i=a.length-1;i>=0;i--){var s=a[i][re];if(!s.P)switch(s.i){case 5:n(s)&&bt(s);break;case 4:r(s)&&bt(s)}}}function r(a){for(var i=a.t,s=a.k,l=tr(s),u=l.length-1;u>=0;u--){var c=l[u];if(c!==re){var d=i[c];if(d===void 0&&!er(i,c))return!0;var f=s[c],p=f&&f[re];if(p?p.t!==d:!yd(f,d))return!0}}var h=!!i[re];return l.length!==tr(i).length+(h?0:1)}function n(a){var i=a.k;if(i.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(i,i.length-1);if(s&&!s.get)return!0;for(var l=0;l<i.length;l++)if(!i.hasOwnProperty(l))return!0;return!1}var o={};uP("ES5",{J:function(a,i){var s=Array.isArray(a),l=function(c,d){if(c){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,e(p,!0));return f}var h=xd(d);delete h[re];for(var m=tr(h),y=0;y<m.length;y++){var g=m[y];h[g]=e(g,c||!!h[g].enumerable)}return Object.create(Object.getPrototypeOf(d),h)}(s,a),u={i:s?5:4,A:i?i.A:ga(),P:!1,I:!1,R:{},l:i,t:a,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,re,{value:u,writable:!0}),l},S:function(a,i,s){s?Et(i)&&i[re].A===a&&t(a.p):(a.u&&function l(u){if(u&&typeof u=="object"){var c=u[re];if(c){var d=c.t,f=c.k,p=c.R,h=c.i;if(h===4)Ht(f,function(C){C!==re&&(d[C]!==void 0||er(d,C)?p[C]||l(f[C]):(p[C]=!0,bt(c)))}),Ht(d,function(C){f[C]!==void 0||er(f,C)||(p[C]=!1,bt(c))});else if(h===5){if(n(c)&&(bt(c),p.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)p[m]=!1;else for(var y=d.length;y<f.length;y++)p[y]=!0;for(var g=Math.min(f.length,d.length),b=0;b<g;b++)f.hasOwnProperty(b)||(p[b]=!0),p[b]===void 0&&l(f[b])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var bl,Vr,Si=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",vP=typeof Map<"u",pP=typeof Set<"u",xl=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",bd=Si?Symbol.for("immer-nothing"):((bl={})["immer-nothing"]=!0,bl),wl=Si?Symbol.for("immer-draftable"):"__$immer_draftable",re=Si?Symbol.for("immer-state"):"__$immer_state",hP=""+Object.prototype.constructor,tr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,xd=Object.getOwnPropertyDescriptors||function(e){var t={};return tr(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},xa={},Kr={get:function(e,t){if(t===re)return e;var r=Nt(e);if(!er(r,t))return function(o,a,i){var s,l=gl(a,i);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,r,t);var n=r[t];return e.I||!ut(n)?n:n===Ro(e.t,t)?(Bo(e),e.o[t]=ba(e.A.h,n,e)):n},has:function(e,t){return t in Nt(e)},ownKeys:function(e){return Reflect.ownKeys(Nt(e))},set:function(e,t,r){var n=gl(Nt(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=Ro(Nt(e),t),a=o==null?void 0:o[re];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(yd(r,o)&&(r!==void 0||er(e.t,t)))return!0;Bo(e),bt(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return Ro(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Bo(e),bt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Nt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Re(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Re(12)}},$r={};Ht(Kr,function(e,t){$r[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$r.deleteProperty=function(e,t){return $r.set.call(this,e,t,void 0)},$r.set=function(e,t,r){return Kr.set.call(this,e[0],t,r,e[0])};var mP=function(){function e(r){var n=this;this.O=xl,this.D=!0,this.produce=function(o,a,i){if(typeof o=="function"&&typeof a!="function"){var s=a;a=o;var l=n;return function(m){var y=this;m===void 0&&(m=s);for(var g=arguments.length,b=Array(g>1?g-1:0),C=1;C<g;C++)b[C-1]=arguments[C];return l.produce(m,function(x){var M;return(M=a).call.apply(M,[y,x].concat(b))})}}var u;if(typeof a!="function"&&Re(6),i!==void 0&&typeof i!="function"&&Re(7),ut(o)){var c=hl(n),d=ba(n,o,void 0),f=!0;try{u=a(d),f=!1}finally{f?Rn(c):ya(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return Lo(c,i),jo(m,c)},function(m){throw Rn(c),m}):(Lo(c,i),jo(u,c))}if(!o||typeof o!="object"){if((u=a(o))===void 0&&(u=o),u===bd&&(u=void 0),n.D&&Ci(u,!0),i){var p=[],h=[];Ze("Patches").M(o,u,p,h),i(p,h)}return u}Re(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return n.produceWithPatches(u,function(p){return o.apply(void 0,[p].concat(d))})};var i,s,l=n.produce(o,a,function(u,c){i=u,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,i,s]}):[l,i,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){ut(r)||Re(8),Et(r)&&(r=dP(r));var n=hl(this),o=ba(this,r,void 0);return o[re].C=!0,ya(n),o},t.finishDraft=function(r,n){var o=r&&r[re],a=o.A;return Lo(a,n),jo(void 0,a)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!xl&&Re(20),this.O=r},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var i=Ze("Patches").$;return Et(r)?i(r,n):this.produce(r,function(s){return i(s,n)})},e}(),Te=new mP,wd=Te.produce;Te.produceWithPatches.bind(Te);Te.setAutoFreeze.bind(Te);Te.setUseProxies.bind(Te);Te.applyPatches.bind(Te);Te.createDraft.bind(Te);Te.finishDraft.bind(Te);var Cd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gP=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],o=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sr=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},yP=Object.defineProperty,bP=Object.defineProperties,xP=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,wP=Object.prototype.hasOwnProperty,CP=Object.prototype.propertyIsEnumerable,Ml=function(e,t,r){return t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},St=function(e,t){for(var r in t||(t={}))wP.call(t,r)&&Ml(e,r,t[r]);if(Cl)for(var n=0,o=Cl(t);n<o.length;n++){var r=o[n];CP.call(t,r)&&Ml(e,r,t[r])}return e},Fo=function(e,t){return bP(e,xP(t))},MP=function(e,t,r){return new Promise(function(n,o){var a=function(l){try{s(r.next(l))}catch(u){o(u)}},i=function(l){try{s(r.throw(l))}catch(u){o(u)}},s=function(l){return l.done?n(l.value):Promise.resolve(l.value).then(a,i)};s((r=r.apply(e,t)).next())})},SP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?da:da.apply(null,arguments)};function AP(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function At(e,t){function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return St(St({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var PP=function(e){Cd(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,sr([void 0],r[0].concat(this)))):new(t.bind.apply(t,sr([void 0],r.concat(this))))},t}(Array),EP=function(e){Cd(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,sr([void 0],r[0].concat(this)))):new(t.bind.apply(t,sr([void 0],r.concat(this))))},t}(Array);function wa(e){return ut(e)?wd(e,function(){}):e}function IP(e){return typeof e=="boolean"}function kP(){return function(t){return OP(t)}}function OP(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new PP;return r&&(IP(r)?n.push(bs):n.push(bs.withExtraArgument(r.extraArgument))),n}function TP(e){var t=kP(),r=e||{},n=r.reducer,o=n===void 0?void 0:n,a=r.middleware,i=a===void 0?t():a,s=r.devTools,l=s===void 0?!0:s,u=r.preloadedState,c=u===void 0?void 0:u,d=r.enhancers,f=d===void 0?void 0:d,p;if(typeof o=="function")p=o;else if(AP(o))p=dh(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=i;typeof h=="function"&&(h=h(t));var m=fh.apply(void 0,h),y=da;l&&(y=SP(St({trace:!1},typeof l=="object"&&l)));var g=new EP(m),b=g;Array.isArray(f)?b=sr([m],f):typeof f=="function"&&(b=f(g));var C=y.apply(void 0,b);return vh(p,c,C)}function Md(e){var t={},r=[],n,o={addCase:function(a,i){var s=typeof a=="string"?a:a.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=i,o},addMatcher:function(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase:function(a){return n=a,o}};return e(o),[t,r,n]}function NP(e){return typeof e=="function"}function _P(e,t,r,n){r===void 0&&(r=[]);var o=typeof t=="function"?Md(t):[t,r,n],a=o[0],i=o[1],s=o[2],l;if(NP(e))l=function(){return wa(e())};else{var u=wa(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var p=sr([a[f.type]],i.filter(function(h){var m=h.matcher;return m(f)}).map(function(h){var m=h.reducer;return m}));return p.filter(function(h){return!!h}).length===0&&(p=[s]),p.reduce(function(h,m){if(m)if(Et(h)){var y=h,g=m(y,f);return g===void 0?h:g}else{if(ut(h))return wd(h,function(b){return m(b,f)});var g=m(h,f);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return h},d)}return c.getInitialState=l,c}function $P(e,t){return e+"/"+t}function ho(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:wa(e.initialState),n=e.reducers||{},o=Object.keys(n),a={},i={},s={};o.forEach(function(c){var d=n[c],f=$P(t,c),p,h;"reducer"in d?(p=d.reducer,h=d.prepare):p=d,a[c]=p,i[f]=p,s[c]=h?At(f,h):At(f)});function l(){var c=typeof e.extraReducers=="function"?Md(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,p=c[1],h=p===void 0?[]:p,m=c[2],y=m===void 0?void 0:m,g=St(St({},f),i);return _P(r,function(b){for(var C in g)b.addCase(C,g[C]);for(var x=0,M=h;x<M.length;x++){var A=M[x];b.addMatcher(A.matcher,A.reducer)}y&&b.addDefaultCase(y)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:s,caseReducers:a,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var DP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LP=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=DP[Math.random()*64|0];return t},jP=["name","message","stack","code"],zo=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Sl=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),RP=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=jP;r<n.length;r++){var o=n[r];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}};(function(){function e(t,r,n){var o=At(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Fo(St({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),a=At(t+"/pending",function(u,c,d){return{payload:void 0,meta:Fo(St({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),i=At(t+"/rejected",function(u,c,d,f,p){return{payload:f,error:(n&&n.serializeError||RP)(u||"Rejected"),meta:Fo(St({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var p=n!=null&&n.idGenerator?n.idGenerator(u):LP(),h=new s,m;function y(b){m=b,h.abort()}var g=function(){return MP(this,null,function(){var b,C,x,M,A,E,k;return gP(this,function(N){switch(N.label){case 0:return N.trys.push([0,4,,5]),M=(b=n==null?void 0:n.condition)==null?void 0:b.call(n,u,{getState:d,extra:f}),FP(M)?[4,M]:[3,2];case 1:M=N.sent(),N.label=2;case 2:if(M===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(T,I){return h.signal.addEventListener("abort",function(){return I({name:"AbortError",message:m||"Aborted"})})}),c(a(p,u,(C=n==null?void 0:n.getPendingMeta)==null?void 0:C.call(n,{requestId:p,arg:u},{getState:d,extra:f}))),[4,Promise.race([A,Promise.resolve(r(u,{dispatch:c,getState:d,extra:f,requestId:p,signal:h.signal,abort:y,rejectWithValue:function(T,I){return new zo(T,I)},fulfillWithValue:function(T,I){return new Sl(T,I)}})).then(function(T){if(T instanceof zo)throw T;return T instanceof Sl?o(T.payload,p,u,T.meta):o(T,p,u)})])];case 3:return x=N.sent(),[3,5];case 4:return E=N.sent(),x=E instanceof zo?i(null,p,u,E.payload,E.meta):i(E,p,u),[3,5];case 5:return k=n&&!n.dispatchConditionRejection&&i.match(x)&&x.meta.condition,k||c(x),[2,x]}})})}();return Object.assign(g,{abort:y,requestId:p,arg:u,unwrap:function(){return g.then(BP)}})}}return Object.assign(l,{pending:a,rejected:i,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e})();function BP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function FP(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Ai="listenerMiddleware";At(Ai+"/add");At(Ai+"/removeAll");At(Ai+"/remove");var Al;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof ca<"u"?ca:globalThis);fP();var Ue=function(t){return"@@redux-saga/"+t},zP=Ue("CANCEL_PROMISE"),Sd=Ue("CHANNEL_END"),Ad=Ue("IO"),Pl=Ue("MATCH"),Pd=Ue("MULTICAST"),Ed=Ue("SAGA_ACTION"),qP=Ue("SELF_CANCELLATION"),HP=Ue("TASK"),rr=Ue("TASK_CANCEL"),Id=Ue("TERMINATE"),UP=Ue("LOCATION"),kd=function(t){return t==null},wn=function(t){return t!=null},Ie=function(t){return typeof t=="function"},Pi=function(t){return typeof t=="string"},kt=Array.isArray,mo=function(t){return t&&Ie(t.then)},Ei=function(t){return t&&Ie(t.next)&&Ie(t.throw)},El=function e(t){return t&&(Pi(t)||Td(t)||Ie(t)||kt(t)&&t.every(e))},Ii=function(t){return t&&Ie(t.take)&&Ie(t.close)},Od=function(t){return Ie(t)&&t.hasOwnProperty("toString")},Td=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},WP=function(t){return Ii(t)&&t[Pd]},GP=function(t){return function(){return t}},VP=GP(!0),ye=function(){},KP=function(t){return t},ki=function(t,r){B(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){t[n]=r[n]})},YP=function(t,r){var n;return(n=[]).concat.apply(n,r.map(t))};function go(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function ZP(e){var t=!1;return function(){t||(t=!0,e())}}var QP=function(t){throw t},XP=function(t){return{value:t,done:!0}};function Ca(e,t,r){t===void 0&&(t=QP),r===void 0&&(r="iterator");var n={meta:{name:r},next:e,throw:t,return:XP,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function JP(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var Nd=function(t){return Array.apply(null,new Array(t))},e3=function(t){return function(r){return t(Object.defineProperty(r,Ed,{value:!0}))}},_d=function(t){return t===Id},$d=function(t){return t===rr},Dd=function(t){return _d(t)||$d(t)};function Ld(e,t){var r=Object.keys(e),n=r.length,o=0,a,i=kt(e)?Nd(n):{},s={};function l(){o===n&&(a=!0,t(i))}return r.forEach(function(u){var c=function(f,p){a||(p||Dd(f)?(t.cancel(),t(f,p)):(i[u]=f,o++,l()))};c.cancel=ye,s[u]=c}),t.cancel=function(){a||(a=!0,r.forEach(function(u){return s[u].cancel()}))},s}function Oi(e){return{name:e.name||"anonymous",location:jd(e)}}function jd(e){return e[UP]}function t3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}var r3="Channel's Buffer overflow!",n3=1,o3=3,Rd=4;function a3(e,t){e===void 0&&(e=10);var r=new Array(e),n=0,o=0,a=0,i=function(c){r[o]=c,o=(o+1)%e,n++},s=function(){if(n!=0){var c=r[a];return r[a]=null,n--,a=(a+1)%e,c}},l=function(){for(var c=[];n;)c.push(s());return c};return{isEmpty:function(){return n==0},put:function(c){if(n<e)i(c);else{var d;switch(t){case n3:throw new Error(r3);case o3:r[o]=c,o=(o+1)%e,a=o;break;case Rd:d=2*e,r=l(),n=r.length,o=r.length,a=0,r.length=d,e=d,i(c);break}}},take:s,flush:l}}var i3=function(t){return a3(t,Rd)},Cn="TAKE",Bd="PUT",s3="ALL",l3="RACE",Fd="CALL",u3="CPS",Ti="FORK",c3="JOIN",d3="CANCEL",f3="SELECT",v3="ACTION_CHANNEL",p3="CANCELLED",h3="FLUSH",m3="GET_CONTEXT",g3="SET_CONTEXT",Rt=function(t,r){var n;return n={},n[Ad]=!0,n.combinator=!1,n.type=t,n.payload=r,n},y3=function(t){return Rt(Ti,B({},t.payload,{detached:!0}))};function b3(e,t){if(e===void 0&&(e="*"),El(e))return wn(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Rt(Cn,{pattern:e});if(WP(e)&&wn(t)&&El(t))return Rt(Cn,{channel:e,pattern:t});if(Ii(e))return wn(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Rt(Cn,{channel:e})}function qo(e,t){return kd(t)&&(t=e,e=void 0),Rt(Bd,{channel:e,action:t})}function zd(e,t){var r=null,n;return Ie(e)?n=e:(kt(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Pi(n)&&Ie(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function x3(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Rt(Fd,zd(e,r))}function Ni(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Rt(Ti,zd(e,r))}function w3(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return y3(Ni.apply(void 0,[e].concat(r)))}var Il=function(t){return{done:!0,value:t}},Ho={};function C3(e){return Ii(e)?"channel":Od(e)?String(e):Ie(e)?e.name:String(e)}function M3(e,t,r){var n,o,a,i=t;function s(l,u){if(i===Ho)return Il(l);if(u&&!o)throw i=Ho,u;n&&n(l);var c=u?e[o](u):e[i]();return i=c.nextState,a=c.effect,n=c.stateUpdater,o=c.errorState,i===Ho?Il(l):a}return Ca(s,function(l){return s(null,l)},r)}function S3(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a={done:!1,value:b3(e)},i=function(c){return{done:!1,value:Ni.apply(void 0,[t].concat(n,[c]))}},s,l=function(c){return s=c};return M3({q1:function(){return{nextState:"q2",effect:a,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:i(s)}}},"q1","takeEvery("+C3(e)+", "+t.name+")")}function A3(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return Ni.apply(void 0,[S3,e,t].concat(n))}function P3(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var qd=[],yo=0;function E3(e){try{_i(),e()}finally{Wd()}}function Hd(e){qd.push(e),yo||(_i(),Gd())}function Ud(e){try{return _i(),e()}finally{Gd()}}function _i(){yo++}function Wd(){yo--}function Gd(){Wd();for(var e;!yo&&(e=qd.shift())!==void 0;)E3(e)}var I3=function(t){return function(r){return t.some(function(n){return $i(n)(r)})}},k3=function(t){return function(r){return t(r)}},kl=function(t){return function(r){return r.type===String(t)}},O3=function(t){return function(r){return r.type===t}},Vd=function(){return VP};function $i(e){var t=e==="*"?Vd:Pi(e)?kl:kt(e)?I3:Od(e)?kl:Ie(e)?k3:Td(e)?O3:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var Fr={type:Sd},Di=function(t){return t&&t.type===Sd};function T3(e){e===void 0&&(e=i3());var t=!1,r=[];function n(s){if(!t){if(r.length===0)return e.put(s);var l=r.shift();l(s)}}function o(s){t&&e.isEmpty()?s(Fr):e.isEmpty()?(r.push(s),s.cancel=function(){go(r,s)}):s(e.take())}function a(s){if(t&&e.isEmpty()){s(Fr);return}s(e.flush())}function i(){if(!t){t=!0;var s=r;r=[];for(var l=0,u=s.length;l<u;l++){var c=s[l];c(Fr)}}}return{take:o,put:n,flush:a,close:i}}function N3(){var e,t=!1,r=[],n=r,o=function(){n===r&&(n=r.slice())},a=function(){t=!0;var s=r=n;n=[],s.forEach(function(l){l(Fr)})};return e={},e[Pd]=!0,e.put=function(s){if(!t){if(Di(s)){a();return}for(var l=r=n,u=0,c=l.length;u<c;u++){var d=l[u];d[Pl](s)&&(d.cancel(),d(s))}}},e.take=function(s,l){if(l===void 0&&(l=Vd),t){s(Fr);return}s[Pl]=l,o(),n.push(s),s.cancel=ZP(function(){o(),go(n,s)})},e.close=a,e}function Kd(){var e=N3(),t=e.put;return e.put=function(r){if(r[Ed]){t(r);return}Hd(function(){t(r)})},e}var $t=0,it=1,Mn=2,Yd=3;function Li(e,t){var r=e[zP];Ie(r)&&(t.cancel=r),e.then(t,function(n){t(n,!0)})}var ln=0,Zd=function(){return++ln},fe;function _3(e,t){return e.isSagaIterator?{name:e.meta.name}:Oi(t)}function $3(e){var t=e.context,r=e.fn,n=e.args;try{var o=r.apply(t,n);if(Ei(o))return o;var a=!1,i=function(l){return a?{value:l,done:!0}:(a=!0,{value:o,done:!mo(o)})};return Ca(i)}catch(s){return Ca(function(){throw s})}}function D3(e,t,r){var n=t.channel,o=t.action,a=t.resolve;Hd(function(){var i;try{i=(n?n.put:e.dispatch)(o)}catch(s){r(s,!0);return}a&&mo(i)?Li(i,r):r(i)})}function L3(e,t,r){var n=t.channel,o=n===void 0?e.channel:n,a=t.pattern,i=t.maybe,s=function(u){if(u instanceof Error){r(u,!0);return}if(Di(u)&&!i){r(Id);return}r(u)};try{o.take(s,wn(a)?$i(a):null)}catch(l){r(l,!0);return}r.cancel=s.cancel}function j3(e,t,r,n){var o=t.context,a=t.fn,i=t.args,s=n.task;try{var l=a.apply(o,i);if(mo(l)){Li(l,r);return}if(Ei(l)){bo(e,l,s.context,ln,Oi(a),!1,r);return}r(l)}catch(u){r(u,!0)}}function R3(e,t,r){var n=t.context,o=t.fn,a=t.args;try{var i=function(l,u){kd(l)?r(u):r(l,!0)};o.apply(n,a.concat(i)),i.cancel&&(r.cancel=i.cancel)}catch(s){r(s,!0)}}function B3(e,t,r,n){var o=t.context,a=t.fn,i=t.args,s=t.detached,l=n.task,u=$3({context:o,fn:a,args:i}),c=_3(u,a);Ud(function(){var d=bo(e,u,l.context,ln,c,s,void 0);s?r(d):d.isRunning()?(l.queue.addTask(d),r(d)):d.isAborted()?l.queue.abort(d.error()):r(d)})}function F3(e,t,r,n){var o=n.task,a=function(l,u){if(l.isRunning()){var c={task:o,cb:u};u.cancel=function(){l.isRunning()&&go(l.joiners,c)},l.joiners.push(c)}else l.isAborted()?u(l.error(),!0):u(l.result())};if(kt(t)){if(t.length===0){r([]);return}var i=Ld(t,r);t.forEach(function(s,l){a(s,i[l])})}else a(t,r)}function Uo(e){e.isRunning()&&e.cancel()}function z3(e,t,r,n){var o=n.task;t===qP?Uo(o):kt(t)?t.forEach(Uo):Uo(t),r()}function q3(e,t,r,n){var o=n.digestEffect,a=ln,i=Object.keys(t);if(i.length===0){r(kt(t)?[]:{});return}var s=Ld(t,r);i.forEach(function(l){o(t[l],a,s[l],l)})}function H3(e,t,r,n){var o=n.digestEffect,a=ln,i=Object.keys(t),s=kt(t)?Nd(i.length):{},l={},u=!1;i.forEach(function(c){var d=function(p,h){u||(h||Dd(p)?(r.cancel(),r(p,h)):(r.cancel(),u=!0,s[c]=p,r(s)))};d.cancel=ye,l[c]=d}),r.cancel=function(){u||(u=!0,i.forEach(function(c){return l[c].cancel()}))},i.forEach(function(c){u||o(t[c],a,l[c],c)})}function U3(e,t,r){var n=t.selector,o=t.args;try{var a=n.apply(void 0,[e.getState()].concat(o));r(a)}catch(i){r(i,!0)}}function W3(e,t,r){var n=t.pattern,o=t.buffer,a=T3(o),i=$i(n),s=function u(c){Di(c)||e.channel.take(u,i),a.put(c)},l=a.close;a.close=function(){s.cancel(),l()},e.channel.take(s,i),r(a)}function G3(e,t,r,n){var o=n.task;r(o.isCancelled())}function V3(e,t,r){t.flush(r)}function K3(e,t,r,n){var o=n.task;r(o.context[t])}function Y3(e,t,r,n){var o=n.task;ki(o.context,t),r()}var Z3=(fe={},fe[Cn]=L3,fe[Bd]=D3,fe[s3]=q3,fe[l3]=H3,fe[Fd]=j3,fe[u3]=R3,fe[Ti]=B3,fe[c3]=F3,fe[d3]=z3,fe[f3]=U3,fe[v3]=W3,fe[p3]=G3,fe[h3]=V3,fe[m3]=K3,fe[g3]=Y3,fe);function Q3(e,t,r){var n=[],o,a=!1;l(e);var i=function(){return n};function s(c){t(),u(),r(c,!0)}function l(c){n.push(c),c.cont=function(d,f){a||(go(n,c),c.cont=ye,f?s(d):(c===e&&(o=d),n.length||(a=!0,r(o))))}}function u(){a||(a=!0,n.forEach(function(c){c.cont=ye,c.cancel()}),n=[])}return{addTask:l,cancelAll:u,abort:s,getTasks:i}}function Qd(e,t){return e+"?"+t}function X3(e){var t=jd(e);if(t){var r=t.code,n=t.fileName,o=t.lineNumber,a=r+"  "+Qd(n,o);return a}return""}function Ol(e){var t=e.name,r=e.location;return r?t+"  "+Qd(r.fileName,r.lineNumber):t}function J3(e){var t=YP(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var ji=null,zr=[],eE=function(t){t.crashedEffect=ji,zr.push(t)},Xd=function(){ji=null,zr.length=0},tE=function(t){ji=t},rE=function(){var t=zr[0],r=zr.slice(1),n=t.crashedEffect?X3(t.crashedEffect):null,o="The above error occurred in task "+Ol(t.meta)+(n?` 
 when executing effect `+n:"");return[o].concat(r.map(function(a){return"    created by "+Ol(a.meta)}),[J3(zr)]).join(`
`)};function nE(e,t,r,n,o,a,i){var s;i===void 0&&(i=ye);var l=$t,u,c,d=null,f=[],p=Object.create(r),h=Q3(t,function(){f.push.apply(f,h.getTasks().map(function(M){return M.meta.name}))},y);function m(){l===$t&&(l=it,h.cancelAll(),y(rr,!1))}function y(x,M){if(!M)x===rr?l=it:l!==it&&(l=Yd),u=x,d&&d.resolve(x);else{if(l=Mn,eE({meta:o,cancelledTasks:f}),C.isRoot){var A=rE();Xd(),e.onError(x,{sagaStack:A})}c=x,d&&d.reject(x)}C.cont(x,M),C.joiners.forEach(function(E){E.cb(x,M)}),C.joiners=null}function g(x){ki(p,x)}function b(){return d||(d=P3(),l===Mn?d.reject(c):l!==$t&&d.resolve(u)),d.promise}var C=(s={},s[HP]=!0,s.id=n,s.meta=o,s.isRoot=a,s.context=p,s.joiners=[],s.queue=h,s.cancel=m,s.cont=i,s.end=y,s.setContext=g,s.toPromise=b,s.isRunning=function(){return l===$t},s.isCancelled=function(){return l===it||l===$t&&t.status===it},s.isAborted=function(){return l===Mn},s.result=function(){return u},s.error=function(){return c},s);return C}function bo(e,t,r,n,o,a,i){var s=e.finalizeRunEffect(p);f.cancel=ye;var l={meta:o,cancel:d,status:$t},u=nE(e,l,r,n,o,a,i),c={task:u,digestEffect:h};function d(){l.status===$t&&(l.status=it,f(rr))}return i&&(i.cancel=u.cancel),f(),u;function f(m,y){try{var g;y?(g=t.throw(m),Xd()):$d(m)?(l.status=it,f.cancel(),g=Ie(t.return)?t.return(rr):{done:!0,value:rr}):_d(m)?g=Ie(t.return)?t.return():{done:!0}:g=t.next(m),g.done?(l.status!==it&&(l.status=Yd),l.cont(g.value)):h(g.value,n,f)}catch(b){if(l.status===it)throw b;l.status=Mn,l.cont(b,!0)}}function p(m,y,g){if(mo(m))Li(m,g);else if(Ei(m))bo(e,m,u.context,y,o,!1,g);else if(m&&m[Ad]){var b=Z3[m.type];b(e,m.payload,g,c)}else g(m)}function h(m,y,g,b){b===void 0&&(b="");var C=Zd();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:C,parentEffectId:y,label:b,effect:m});var x;function M(A,E){x||(x=!0,g.cancel=ye,e.sagaMonitor&&(E?e.sagaMonitor.effectRejected(C,A):e.sagaMonitor.effectResolved(C,A)),E&&tE(m),g(A,E))}M.cancel=ye,g.cancel=function(){x||(x=!0,M.cancel(),M.cancel=ye,e.sagaMonitor&&e.sagaMonitor.effectCancelled(C))},s(m,C,M)}}function oE(e,t){for(var r=e.channel,n=r===void 0?Kd():r,o=e.dispatch,a=e.getState,i=e.context,s=i===void 0?{}:i,l=e.sagaMonitor,u=e.effectMiddlewares,c=e.onError,d=c===void 0?JP:c,f=arguments.length,p=new Array(f>2?f-2:0),h=2;h<f;h++)p[h-2]=arguments[h];var m=t.apply(void 0,p),y=Zd();l&&(l.rootSagaStarted=l.rootSagaStarted||ye,l.effectTriggered=l.effectTriggered||ye,l.effectResolved=l.effectResolved||ye,l.effectRejected=l.effectRejected||ye,l.effectCancelled=l.effectCancelled||ye,l.actionDispatched=l.actionDispatched||ye,l.rootSagaStarted({effectId:y,saga:t,args:p}));var g;if(u){var b=t3.apply(void 0,u);g=function(M){return function(A,E,k){var N=function(I){return M(I,E,k)};return b(N)(A)}}}else g=KP;var C={channel:n,dispatch:e3(o),getState:a,sagaMonitor:l,onError:d,finalizeRunEffect:g};return Ud(function(){var x=bo(C,m,s,y,Oi(t),!0,void 0);return l&&l.effectResolved(y,x),x})}function aE(e){var t={},r=t.context,n=r===void 0?{}:r,o=t.channel,a=o===void 0?Kd():o,i=t.sagaMonitor,s=Oe(t,["context","channel","sagaMonitor"]),l;function u(c){var d=c.getState,f=c.dispatch;return l=oE.bind(null,B({},s,{context:n,channel:a,dispatch:f,getState:d,sagaMonitor:i})),function(p){return function(h){i&&i.actionDispatched&&i.actionDispatched(h);var m=p(h);return a.put(h),m}}}return u.run=function(){return l.apply(void 0,arguments)},u.setContext=function(c){ki(n,c)},u}function Sn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jd(e){let t,r,n;e.length!==2?(t=Sn,r=(s,l)=>Sn(e(s),l),n=(s,l)=>e(s)-l):(t=e===Sn||e===iE?e:sE,r=e,n=e);function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function i(s,l,u=0,c=s.length){const d=o(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:o,center:i,right:a}}function sE(){return 0}function lE(e){return e===null?NaN:+e}const uE=Jd(Sn),cE=uE.right;Jd(lE).center;var dE=cE;const fE=Math.sqrt(50),vE=Math.sqrt(10),pE=Math.sqrt(2);function zn(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=fE?10:a>=vE?5:a>=pE?2:1;let s,l,u;return o<0?(u=Math.pow(10,-o)/i,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,o)*i,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?zn(e,t,r*2):[s,l,u]}function hE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,a,i]=n?zn(t,e,r):zn(e,t,r);if(!(a>=o))return[];const s=a-o+1,l=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)l[u]=(a-u)/-i;else for(let u=0;u<s;++u)l[u]=(a-u)*i;else if(i<0)for(let u=0;u<s;++u)l[u]=(o+u)/-i;else for(let u=0;u<s;++u)l[u]=(o+u)*i;return l}function Ma(e,t,r){return t=+t,e=+e,r=+r,zn(e,t,r)[2]}function mE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?Ma(t,e,r):Ma(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function gE(e){return e}var Wo=1,Go=2,Sa=3,Dr=4,Tl=1e-6;function yE(e){return"translate("+e+",0)"}function bE(e){return"translate(0,"+e+")"}function xE(e){return t=>+e(t)}function wE(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function CE(){return!this.__axis}function ef(e,t){var r=[],n=null,o=null,a=6,i=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Wo||e===Dr?-1:1,c=e===Dr||e===Go?"x":"y",d=e===Wo||e===Sa?yE:bE;function f(p){var h=n??(t.ticks?t.ticks.apply(t,r):t.domain()),m=o??(t.tickFormat?t.tickFormat.apply(t,r):gE),y=Math.max(a,0)+s,g=t.range(),b=+g[0]+l,C=+g[g.length-1]+l,x=(t.bandwidth?wE:xE)(t.copy(),l),M=p.selection?p.selection():p,A=M.selectAll(".domain").data([null]),E=M.selectAll(".tick").data(h,t).order(),k=E.exit(),N=E.enter().append("g").attr("class","tick"),T=E.select("line"),I=E.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(N),T=T.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),I=I.merge(N.append("text").attr("fill","currentColor").attr(c,u*y).attr("dy",e===Wo?"0em":e===Sa?"0.71em":"0.32em")),p!==M&&(A=A.transition(p),E=E.transition(p),T=T.transition(p),I=I.transition(p),k=k.transition(p).attr("opacity",Tl).attr("transform",function(D){return isFinite(D=x(D))?d(D+l):this.getAttribute("transform")}),N.attr("opacity",Tl).attr("transform",function(D){var _=this.parentNode.__axis;return d((_&&isFinite(_=_(D))?_:x(D))+l)})),k.remove(),A.attr("d",e===Dr||e===Go?i?"M"+u*i+","+b+"H"+l+"V"+C+"H"+u*i:"M"+l+","+b+"V"+C:i?"M"+b+","+u*i+"V"+l+"H"+C+"V"+u*i:"M"+b+","+l+"H"+C),E.attr("opacity",1).attr("transform",function(D){return d(x(D)+l)}),T.attr(c+"2",u*a),I.attr(c,u*y).text(m),M.filter(CE).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Go?"start":e===Dr?"end":"middle"),M.each(function(){this.__axis=x})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(o=p,f):o},f.tickSize=function(p){return arguments.length?(a=i=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(i=+p,f):i},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function ME(e){return ef(Sa,e)}function SE(e){return ef(Dr,e)}var AE={value:()=>{}};function tf(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new An(r)}function An(e){this._=e}function PE(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}An.prototype=tf.prototype={constructor:An,on:function(e,t){var r=this._,n=PE(e+"",r),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=EE(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=n[a]).type)r[o]=Nl(r[o],e.name,t);else if(t==null)for(o in r)r[o]=Nl(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new An(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,a;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)}};function EE(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function Nl(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=AE,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Aa="http://www.w3.org/1999/xhtml",_l={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xo(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),_l.hasOwnProperty(t)?{space:_l[t],local:e}:e}function IE(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(e):t.createElementNS(r,e)}}function kE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rf(e){var t=xo(e);return(t.local?kE:IE)(t)}function OE(){}function Ri(e){return e==null?OE:function(){return this.querySelector(e)}}function TE(e){typeof e!="function"&&(e=Ri(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=new Array(i),l,u,c=0;c<i;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Ne(n,this._parents)}function NE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _E(){return[]}function nf(e){return e==null?_E:function(){return this.querySelectorAll(e)}}function $E(e){return function(){return NE(e.apply(this,arguments))}}function DE(e){typeof e=="function"?e=$E(e):e=nf(e);for(var t=this._groups,r=t.length,n=[],o=[],a=0;a<r;++a)for(var i=t[a],s=i.length,l,u=0;u<s;++u)(l=i[u])&&(n.push(e.call(l,l.__data__,u,i)),o.push(l));return new Ne(n,o)}function of(e){return function(){return this.matches(e)}}function af(e){return function(t){return t.matches(e)}}var LE=Array.prototype.find;function jE(e){return function(){return LE.call(this.children,e)}}function RE(){return this.firstElementChild}function BE(e){return this.select(e==null?RE:jE(typeof e=="function"?e:af(e)))}var FE=Array.prototype.filter;function zE(){return Array.from(this.children)}function qE(e){return function(){return FE.call(this.children,e)}}function HE(e){return this.selectAll(e==null?zE:qE(typeof e=="function"?e:af(e)))}function UE(e){typeof e!="function"&&(e=of(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,u=0;u<i;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Ne(n,this._parents)}function sf(e){return new Array(e.length)}function WE(){return new Ne(this._enter||this._groups.map(sf),this._parents)}function qn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qn.prototype={constructor:qn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function GE(e){return function(){return e}}function VE(e,t,r,n,o,a){for(var i=0,s,l=t.length,u=a.length;i<u;++i)(s=t[i])?(s.__data__=a[i],n[i]=s):r[i]=new qn(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function KE(e,t,r,n,o,a,i){var s,l,u=new Map,c=t.length,d=a.length,f=new Array(c),p;for(s=0;s<c;++s)(l=t[s])&&(f[s]=p=i.call(l,l.__data__,s,t)+"",u.has(p)?o[s]=l:u.set(p,l));for(s=0;s<d;++s)p=i.call(e,a[s],s,a)+"",(l=u.get(p))?(n[s]=l,l.__data__=a[s],u.delete(p)):r[s]=new qn(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(o[s]=l)}function YE(e){return e.__data__}function ZE(e,t){if(!arguments.length)return Array.from(this,YE);var r=t?KE:VE,n=this._parents,o=this._groups;typeof e!="function"&&(e=GE(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=n[u],d=o[u],f=d.length,p=QE(e.call(c,c&&c.__data__,u,n)),h=p.length,m=s[u]=new Array(h),y=i[u]=new Array(h),g=l[u]=new Array(f);r(c,d,m,y,g,p,t);for(var b=0,C=0,x,M;b<h;++b)if(x=m[b]){for(b>=C&&(C=b+1);!(M=y[C])&&++C<h;);x._next=M||null}}return i=new Ne(i,n),i._enter=s,i._exit=l,i}function QE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XE(){return new Ne(this._exit||this._groups.map(sf),this._parents)}function JE(e,t,r){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?a.remove():r(a),n&&o?n.merge(o).order():o}function eI(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,a=n.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var u=r[l],c=n[l],d=u.length,f=s[l]=new Array(d),p,h=0;h<d;++h)(p=u[h]||c[h])&&(f[h]=p);for(;l<o;++l)s[l]=r[l];return new Ne(s,this._parents)}function tI(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function rI(e){e||(e=nI);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,o=new Array(n),a=0;a<n;++a){for(var i=r[a],s=i.length,l=o[a]=new Array(s),u,c=0;c<s;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Ne(o,this._parents).order()}function nI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function oI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aI(){return Array.from(this)}function iI(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function sI(){let e=0;for(const t of this)++e;return e}function lI(){return!this.node()}function uI(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function cI(e){return function(){this.removeAttribute(e)}}function dI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fI(e,t){return function(){this.setAttribute(e,t)}}function vI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function hI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function mI(e,t){var r=xo(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?dI:cI:typeof t=="function"?r.local?hI:pI:r.local?vI:fI)(r,t))}function lf(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gI(e){return function(){this.style.removeProperty(e)}}function yI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function bI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function xI(e,t,r){return arguments.length>1?this.each((t==null?gI:typeof t=="function"?bI:yI)(e,t,r??"")):lr(this.node(),e)}function lr(e,t){return e.style.getPropertyValue(t)||lf(e).getComputedStyle(e,null).getPropertyValue(t)}function wI(e){return function(){delete this[e]}}function CI(e,t){return function(){this[e]=t}}function MI(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function SI(e,t){return arguments.length>1?this.each((t==null?wI:typeof t=="function"?MI:CI)(e,t)):this.node()[e]}function uf(e){return e.trim().split(/^|\s+/)}function Bi(e){return e.classList||new cf(e)}function cf(e){this._node=e,this._names=uf(e.getAttribute("class")||"")}cf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function df(e,t){for(var r=Bi(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function ff(e,t){for(var r=Bi(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function AI(e){return function(){df(this,e)}}function PI(e){return function(){ff(this,e)}}function EI(e,t){return function(){(t.apply(this,arguments)?df:ff)(this,e)}}function II(e,t){var r=uf(e+"");if(arguments.length<2){for(var n=Bi(this.node()),o=-1,a=r.length;++o<a;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?EI:t?AI:PI)(r,t))}function kI(){this.textContent=""}function OI(e){return function(){this.textContent=e}}function TI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function NI(e){return arguments.length?this.each(e==null?kI:(typeof e=="function"?TI:OI)(e)):this.node().textContent}function _I(){this.innerHTML=""}function $I(e){return function(){this.innerHTML=e}}function DI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function LI(e){return arguments.length?this.each(e==null?_I:(typeof e=="function"?DI:$I)(e)):this.node().innerHTML}function jI(){this.nextSibling&&this.parentNode.appendChild(this)}function RI(){return this.each(jI)}function BI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function FI(){return this.each(BI)}function zI(e){var t=typeof e=="function"?e:rf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qI(){return null}function HI(e,t){var r=typeof e=="function"?e:rf(e),n=t==null?qI:typeof t=="function"?t:Ri(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function UI(){var e=this.parentNode;e&&e.removeChild(this)}function WI(){return this.each(UI)}function GI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function VI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function KI(e){return this.select(e?VI:GI)}function YI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZI(e){return function(t){e.call(this,t,this.__data__)}}function QI(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function XI(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,a;r<o;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function JI(e,t,r){return function(){var n=this.__on,o,a=ZI(t);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=t;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(o):this.__on=[o]}}function e2(e,t,r){var n=QI(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<a;++o)if((i=n[o]).type===c.type&&i.name===c.name)return c.value}return}for(s=t?JI:XI,o=0;o<a;++o)this.each(s(n[o],t,r));return this}function vf(e,t,r){var n=lf(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function t2(e,t){return function(){return vf(this,e,t)}}function r2(e,t){return function(){return vf(this,e,t.apply(this,arguments))}}function n2(e,t){return this.each((typeof t=="function"?r2:t2)(e,t))}function*o2(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var pf=[null];function Ne(e,t){this._groups=e,this._parents=t}function un(){return new Ne([[document.documentElement]],pf)}function a2(){return this}Ne.prototype=un.prototype={constructor:Ne,select:TE,selectAll:DE,selectChild:BE,selectChildren:HE,filter:UE,data:ZE,enter:WE,exit:XE,join:JE,merge:eI,selection:a2,order:tI,sort:rI,call:oI,nodes:aI,node:iI,size:sI,empty:lI,each:uI,attr:mI,style:xI,property:SI,classed:II,text:NI,html:LI,raise:RI,lower:FI,append:zI,insert:HI,remove:WI,clone:KI,datum:YI,on:e2,dispatch:n2,[Symbol.iterator]:o2};function Lr(e){return typeof e=="string"?new Ne([[document.querySelector(e)]],[document.documentElement]):new Ne([[e]],pf)}function Fi(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cn(){}var Yr=.7,Hn=1/Yr,nr="\\s*([+-]?\\d+)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i2=/^#([0-9a-f]{3,8})$/,s2=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),l2=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),u2=new RegExp(`^rgba\\(${nr},${nr},${nr},${Zr}\\)$`),c2=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Zr}\\)$`),d2=new RegExp(`^hsl\\(${Zr},${Qe},${Qe}\\)$`),f2=new RegExp(`^hsla\\(${Zr},${Qe},${Qe},${Zr}\\)$`),$l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fi(cn,Ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dl,formatHex:Dl,formatHex8:v2,formatHsl:p2,formatRgb:Ll,toString:Ll});function Dl(){return this.rgb().formatHex()}function v2(){return this.rgb().formatHex8()}function p2(){return mf(this).formatHsl()}function Ll(){return this.rgb().formatRgb()}function Ut(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=i2.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jl(t):r===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s2.exec(e))?new Ae(t[1],t[2],t[3],1):(t=l2.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=u2.exec(e))?pn(t[1],t[2],t[3],t[4]):(t=c2.exec(e))?pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=d2.exec(e))?Fl(t[1],t[2]/100,t[3]/100,1):(t=f2.exec(e))?Fl(t[1],t[2]/100,t[3]/100,t[4]):$l.hasOwnProperty(e)?jl($l[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function jl(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function pn(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ae(e,t,r,n)}function h2(e){return e instanceof cn||(e=Ut(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Pa(e,t,r,n){return arguments.length===1?h2(e):new Ae(e,t,r,n??1)}function Ae(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Fi(Ae,Pa,hf(cn,{brighter(e){return e=e==null?Hn:Math.pow(Hn,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(Bt(this.r),Bt(this.g),Bt(this.b),Un(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rl,formatHex:Rl,formatHex8:m2,formatRgb:Bl,toString:Bl}));function Rl(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}`}function m2(){return`#${jt(this.r)}${jt(this.g)}${jt(this.b)}${jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bl(){const e=Un(this.opacity);return`${e===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${e===1?")":`, ${e})`}`}function Un(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jt(e){return e=Bt(e),(e<16?"0":"")+e.toString(16)}function Fl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Be(e,t,r,n)}function mf(e){if(e instanceof Be)return new Be(e.h,e.s,e.l,e.opacity);if(e instanceof cn||(e=Ut(e)),!e)return new Be;if(e instanceof Be)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new Be(i,s,l,e.opacity)}function g2(e,t,r,n){return arguments.length===1?mf(e):new Be(e,t,r,n??1)}function Be(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Fi(Be,g2,hf(cn,{brighter(e){return e=e==null?Hn:Math.pow(Hn,e),new Be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new Be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Ae(Vo(e>=240?e-240:e+120,o,n),Vo(e,o,n),Vo(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Be(zl(this.h),hn(this.s),hn(this.l),Un(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Un(this.opacity);return`${e===1?"hsl(":"hsla("}${zl(this.h)}, ${hn(this.s)*100}%, ${hn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zl(e){return e=(e||0)%360,e<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function Vo(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var zi=e=>()=>e;function y2(e,t){return function(r){return e+r*t}}function b2(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function x2(e){return(e=+e)==1?gf:function(t,r){return r-t?b2(t,r,e):zi(isNaN(t)?r:t)}}function gf(e,t){var r=t-e;return r?y2(e,r):zi(isNaN(e)?t:e)}var Wn=function e(t){var r=x2(t);function n(o,a){var i=r((o=Pa(o)).r,(a=Pa(a)).r),s=r(o.g,a.g),l=r(o.b,a.b),u=gf(o.opacity,a.opacity);return function(c){return o.r=i(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return n.gamma=e,n}(1);function w2(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(a){for(o=0;o<r;++o)n[o]=e[o]*(1-a)+t[o]*a;return n}}function C2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M2(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)o[i]=qi(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(s){for(i=0;i<n;++i)a[i]=o[i](s);return a}}function S2(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function je(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function A2(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=qi(e[o],t[o]):n[o]=t[o];return function(a){for(o in r)n[o]=r[o](a);return n}}var Ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ko=new RegExp(Ea.source,"g");function P2(e){return function(){return e}}function E2(e){return function(t){return e(t)+""}}function yf(e,t){var r=Ea.lastIndex=Ko.lastIndex=0,n,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Ea.exec(e))&&(o=Ko.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:je(n,o)})),r=Ko.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?E2(l[0].x):P2(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function qi(e,t){var r=typeof t,n;return t==null||r==="boolean"?zi(t):(r==="number"?je:r==="string"?(n=Ut(t))?(t=n,Wn):yf:t instanceof Ut?Wn:t instanceof Date?S2:C2(t)?w2:Array.isArray(t)?M2:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A2:je)(e,t)}function I2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var ql=180/Math.PI,Ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bf(e,t,r,n,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*ql,skewX:Math.atan(l)*ql,scaleX:i,scaleY:s}}var mn;function k2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ia:bf(t.a,t.b,t.c,t.d,t.e,t.f)}function O2(e){return e==null||(mn||(mn=document.createElementNS("http://www.w3.org/2000/svg","g")),mn.setAttribute("transform",e),!(e=mn.transform.baseVal.consolidate()))?Ia:(e=e.matrix,bf(e.a,e.b,e.c,e.d,e.e,e.f))}function xf(e,t,r,n){function o(u){return u.length?u.pop()+" ":""}function a(u,c,d,f,p,h){if(u!==d||c!==f){var m=p.push("translate(",null,t,null,r);h.push({i:m-4,x:je(u,d)},{i:m-2,x:je(c,f)})}else(d||f)&&p.push("translate("+d+t+f+r)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(o(d)+"rotate(",null,n)-2,x:je(u,c)})):c&&d.push(o(d)+"rotate("+c+n)}function s(u,c,d,f){u!==c?f.push({i:d.push(o(d)+"skewX(",null,n)-2,x:je(u,c)}):c&&d.push(o(d)+"skewX("+c+n)}function l(u,c,d,f,p,h){if(u!==d||c!==f){var m=p.push(o(p)+"scale(",null,",",null,")");h.push({i:m-4,x:je(u,d)},{i:m-2,x:je(c,f)})}else(d!==1||f!==1)&&p.push(o(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),s(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var h=-1,m=f.length,y;++h<m;)d[(y=f[h]).i]=y.x(p);return d.join("")}}}var T2=xf(k2,"px, ","px)","deg)"),N2=xf(O2,", ",")",")"),ur=0,jr=0,Or=0,wf=1e3,Gn,Rr,Vn=0,Wt=0,wo=0,Qr=typeof performance=="object"&&performance.now?performance:Date,Cf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hi(){return Wt||(Cf(_2),Wt=Qr.now()+wo)}function _2(){Wt=0}function Kn(){this._call=this._time=this._next=null}Kn.prototype=Mf.prototype={constructor:Kn,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Hi():+r)+(t==null?0:+t),!this._next&&Rr!==this&&(Rr?Rr._next=this:Gn=this,Rr=this),this._call=e,this._time=r,ka()},stop:function(){this._call&&(this._call=null,this._time=1/0,ka())}};function Mf(e,t,r){var n=new Kn;return n.restart(e,t,r),n}function $2(){Hi(),++ur;for(var e=Gn,t;e;)(t=Wt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ur}function Hl(){Wt=(Vn=Qr.now())+wo,ur=jr=0;try{$2()}finally{ur=0,L2(),Wt=0}}function D2(){var e=Qr.now(),t=e-Vn;t>wf&&(wo-=t,Vn=e)}function L2(){for(var e,t=Gn,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Gn=r);Rr=e,ka(n)}function ka(e){if(!ur){jr&&(jr=clearTimeout(jr));var t=e-Wt;t>24?(e<1/0&&(jr=setTimeout(Hl,e-Qr.now()-wo)),Or&&(Or=clearInterval(Or))):(Or||(Vn=Qr.now(),Or=setInterval(D2,wf)),ur=1,Cf(Hl))}}function Ul(e,t,r){var n=new Kn;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var j2=tf("start","end","cancel","interrupt"),R2=[],Sf=0,Wl=1,Oa=2,Pn=3,Gl=4,Ta=5,En=6;function Co(e,t,r,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;B2(e,r,{name:t,index:n,group:o,on:j2,tween:R2,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Sf})}function Ui(e,t){var r=We(e,t);if(r.state>Sf)throw new Error("too late; already scheduled");return r}function nt(e,t){var r=We(e,t);if(r.state>Pn)throw new Error("too late; already running");return r}function We(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function B2(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=Mf(a,0,r.time);function a(u){r.state=Wl,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var c,d,f,p;if(r.state!==Wl)return l();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Pn)return Ul(i);p.state===Gl?(p.state=En,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=En,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(Ul(function(){r.state===Pn&&(r.state=Gl,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=Oa,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Oa){for(r.state=Pn,o=new Array(f=r.tween.length),c=0,d=-1;c<f;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(o[++d]=p);o.length=d+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Ta,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);r.state===Ta&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=En,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function F2(e,t){var r=e.__transition,n,o,a=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){a=!1;continue}o=n.state>Oa&&n.state<Ta,n.state=En,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}a&&delete e.__transition}}function z2(e){return this.each(function(){F2(this,e)})}function q2(e,t){var r,n;return function(){var o=nt(this,e),a=o.tween;if(a!==r){n=r=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function H2(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var a=nt(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:t,value:r},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}a.tween=o}}function U2(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=We(this.node(),r).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((t==null?q2:H2)(r,e,t))}function Wi(e,t,r){var n=e._id;return e.each(function(){var o=nt(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return We(o,n).value[t]}}function Af(e,t){var r;return(typeof t=="number"?je:t instanceof Ut?Wn:(r=Ut(t))?(t=r,Wn):yf)(e,t)}function W2(e){return function(){this.removeAttribute(e)}}function G2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function V2(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=t(n=i,r)}}function K2(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=t(n=i,r)}}function Y2(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function Z2(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function Q2(e,t){var r=xo(e),n=r==="transform"?N2:Af;return this.attrTween(e,typeof t=="function"?(r.local?Z2:Y2)(r,n,Wi(this,"attr."+e,t)):t==null?(r.local?G2:W2)(r):(r.local?K2:V2)(r,n,t))}function X2(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function J2(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function ek(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&J2(e,a)),r}return o._value=t,o}function tk(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&X2(e,a)),r}return o._value=t,o}function rk(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=xo(e);return this.tween(r,(n.local?ek:tk)(n,t))}function nk(e,t){return function(){Ui(this,e).delay=+t.apply(this,arguments)}}function ok(e,t){return t=+t,function(){Ui(this,e).delay=t}}function ak(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nk:ok)(t,e)):We(this.node(),t).delay}function ik(e,t){return function(){nt(this,e).duration=+t.apply(this,arguments)}}function sk(e,t){return t=+t,function(){nt(this,e).duration=t}}function lk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ik:sk)(t,e)):We(this.node(),t).duration}function uk(e,t){if(typeof t!="function")throw new Error;return function(){nt(this,e).ease=t}}function ck(e){var t=this._id;return arguments.length?this.each(uk(t,e)):We(this.node(),t).ease}function dk(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;nt(this,e).ease=r}}function fk(e){if(typeof e!="function")throw new Error;return this.each(dk(this._id,e))}function vk(e){typeof e!="function"&&(e=of(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,u=0;u<i;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new ct(n,this._parents,this._name,this._id)}function pk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],c=l.length,d=i[s]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(d[p]=f);for(;s<n;++s)i[s]=t[s];return new ct(i,this._parents,this._name,this._id)}function hk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function mk(e,t,r){var n,o,a=hk(t)?Ui:nt;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(t,r),i.on=o}}function gk(e,t){var r=this._id;return arguments.length<2?We(this.node(),r).on.on(e):this.each(mk(r,e,t))}function yk(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function bk(){return this.on("end.remove",yk(this._id))}function xk(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ri(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],l=s.length,u=a[i]=new Array(l),c,d,f=0;f<l;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,Co(u[f],t,r,f,u,We(c,r)));return new ct(a,this._parents,t,r)}function wk(e){var t=this._name,r=this._id;typeof e!="function"&&(e=nf(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var l=n[s],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),p,h=We(c,r),m=0,y=f.length;m<y;++m)(p=f[m])&&Co(p,t,r,m,f,h);a.push(f),i.push(c)}return new ct(a,i,t,r)}var Ck=un.prototype.constructor;function Mk(){return new Ck(this._groups,this._parents)}function Sk(e,t){var r,n,o;return function(){var a=lr(this,e),i=(this.style.removeProperty(e),lr(this,e));return a===i?null:a===r&&i===n?o:o=t(r=a,n=i)}}function Pf(e){return function(){this.style.removeProperty(e)}}function Ak(e,t,r){var n,o=r+"",a;return function(){var i=lr(this,e);return i===o?null:i===n?a:a=t(n=i,r)}}function Pk(e,t,r){var n,o,a;return function(){var i=lr(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),lr(this,e))),i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s))}}function Ek(e,t){var r,n,o,a="style."+t,i="end."+a,s;return function(){var l=nt(this,e),u=l.on,c=l.value[a]==null?s||(s=Pf(t)):void 0;(u!==r||o!==c)&&(n=(r=u).copy()).on(i,o=c),l.on=n}}function Ik(e,t,r){var n=(e+="")=="transform"?T2:Af;return t==null?this.styleTween(e,Sk(e,n)).on("end.style."+e,Pf(e)):typeof t=="function"?this.styleTween(e,Pk(e,n,Wi(this,"style."+e,t))).each(Ek(this._id,e)):this.styleTween(e,Ak(e,n,t),r).on("end.style."+e,null)}function kk(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Ok(e,t,r){var n,o;function a(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&kk(e,i,r)),n}return a._value=t,a}function Tk(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ok(e,t,r??""))}function Nk(e){return function(){this.textContent=e}}function _k(e){return function(){var t=e(this);this.textContent=t??""}}function $k(e){return this.tween("text",typeof e=="function"?_k(Wi(this,"text",e)):Nk(e==null?"":e+""))}function Dk(e){return function(t){this.textContent=e.call(this,t)}}function Lk(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Dk(o)),t}return n._value=e,n}function jk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lk(e))}function Rk(){for(var e=this._name,t=this._id,r=Ef(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,u=0;u<s;++u)if(l=i[u]){var c=We(l,t);Co(l,e,r,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ct(n,this._parents,e,r)}function Bk(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};r.each(function(){var u=nt(this,n),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),o===0&&a()})}var Fk=0;function ct(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ef(){return++Fk}var at=un.prototype;ct.prototype={constructor:ct,select:xk,selectAll:wk,selectChild:at.selectChild,selectChildren:at.selectChildren,filter:vk,merge:pk,selection:Mk,transition:Rk,call:at.call,nodes:at.nodes,node:at.node,size:at.size,empty:at.empty,each:at.each,on:gk,attr:Q2,attrTween:rk,style:Ik,styleTween:Tk,text:$k,textTween:jk,remove:bk,tween:U2,delay:ak,duration:lk,ease:ck,easeVarying:fk,end:Bk,[Symbol.iterator]:at[Symbol.iterator]};function zk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qk={time:null,delay:0,duration:250,ease:zk};function Hk(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Uk(e){var t,r;e instanceof ct?(t=e._id,e=e._name):(t=Ef(),(r=qk).time=Hi(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,u=0;u<s;++u)(l=i[u])&&Co(l,e,t,u,i,r||Hk(l,t));return new ct(n,this._parents,e,t)}un.prototype.interrupt=z2;un.prototype.transition=Uk;const Na=Math.PI,_a=2*Na,_t=1e-6,Wk=_a-_t;function If(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Gk(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return If;const r=10**t;return function(n){this._+=n[0];for(let o=1,a=n.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class Vk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?If:Gk(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,a,i){this._append`C${+t},${+r},${+n},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,o,a){if(t=+t,r=+r,n=+n,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,l=n-t,u=o-r,c=i-t,d=s-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>_t)if(!(Math.abs(d*l-u*c)>_t)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,h=o-s,m=l*l+u*u,y=p*p+h*h,g=Math.sqrt(m),b=Math.sqrt(f),C=a*Math.tan((Na-Math.acos((m+f-y)/(2*g*b)))/2),x=C/b,M=C/g;Math.abs(x-1)>_t&&this._append`L${t+x*c},${r+x*d}`,this._append`A${a},${a},0,0,${+(d*p>c*h)},${this._x1=t+M*l},${this._y1=r+M*u}`}}arc(t,r,n,o,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(o),l=n*Math.sin(o),u=t+s,c=r+l,d=1^i,f=i?o-a:a-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>_t||Math.abs(this._y1-c)>_t)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%_a+_a),f>Wk?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:f>_t&&this._append`A${n},${n},0,${+(f>=Na)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function Kk(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yn(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cr(e){return e=Yn(Math.abs(e)),e?e[1]:NaN}function Yk(e,t){return function(r,n){for(var o=r.length,a=[],i=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(o-=s,o+s)),!((l+=s+1)>n));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Zk(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Qk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zn(e){if(!(t=Qk.exec(e)))throw new Error("invalid format: "+e);var t;return new Gi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zn.prototype=Gi.prototype;function Gi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xk(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var kf;function Jk(e,t){var r=Yn(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(kf=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Yn(e,Math.max(0,t+a-1))[0]}function Vl(e,t){var r=Yn(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var Kl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kk,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vl(e*100,t),r:Vl,s:Jk,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yl(e){return e}var Zl=Array.prototype.map,Ql=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eO(e){var t=e.grouping===void 0||e.thousands===void 0?Yl:Yk(Zl.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Yl:Zk(Zl.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Zn(d);var f=d.fill,p=d.align,h=d.sign,m=d.symbol,y=d.zero,g=d.width,b=d.comma,C=d.precision,x=d.trim,M=d.type;M==="n"?(b=!0,M="g"):Kl[M]||(C===void 0&&(C=12),x=!0,M="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",E=m==="$"?n:/[%p]/.test(M)?i:"",k=Kl[M],N=/[defgprs%]/.test(M);C=C===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function T(I){var D=A,_=E,$,F,R;if(M==="c")_=k(I)+_,I="";else{I=+I;var z=I<0||1/I<0;if(I=isNaN(I)?l:k(Math.abs(I),C),x&&(I=Xk(I)),z&&+I==0&&h!=="+"&&(z=!1),D=(z?h==="("?h:s:h==="-"||h==="("?"":h)+D,_=(M==="s"?Ql[8+kf/3]:"")+_+(z&&h==="("?")":""),N){for($=-1,F=I.length;++$<F;)if(R=I.charCodeAt($),48>R||R>57){_=(R===46?o+I.slice($+1):I.slice($))+_,I=I.slice(0,$);break}}}b&&!y&&(I=t(I,1/0));var H=D.length+I.length+_.length,W=H<g?new Array(g-H+1).join(f):"";switch(b&&y&&(I=t(W+I,W.length?g-_.length:1/0),W=""),p){case"<":I=D+I+_+W;break;case"=":I=D+W+I+_;break;case"^":I=W.slice(0,H=W.length>>1)+D+I+_+W.slice(H);break;default:I=W+D+I+_;break}return a(I)}return T.toString=function(){return d+""},T}function c(d,f){var p=u((d=Zn(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(cr(f)/3)))*3,m=Math.pow(10,-h),y=Ql[8+h/3];return function(g){return p(m*g)+y}}return{format:u,formatPrefix:c}}var gn,Vi,Of;tO({thousands:",",grouping:[3],currency:["$",""]});function tO(e){return gn=eO(e),Vi=gn.format,Of=gn.formatPrefix,gn}function rO(e){return Math.max(0,-cr(Math.abs(e)))}function nO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cr(t)/3)))*3-cr(Math.abs(e)))}function oO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cr(t)-cr(e))+1}function aO(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function iO(e){return function(){return e}}function sO(e){return+e}var Xl=[0,1];function Jt(e){return e}function $a(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iO(isNaN(t)?NaN:.5)}function lO(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uO(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=$a(o,n),a=r(i,a)):(n=$a(n,o),a=r(a,i)),function(s){return a(n(s))}}function cO(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=$a(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(s){var l=dE(e,s,1,n)-1;return a[l](o[l](s))}}function dO(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fO(){var e=Xl,t=Xl,r=qi,n,o,a,i=Jt,s,l,u;function c(){var f=Math.min(e.length,t.length);return i!==Jt&&(i=lO(e[0],e[f-1])),s=f>2?cO:uO,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(i(f)))}return d.invert=function(f){return i(o((u||(u=s(t,e.map(n),je)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,sO),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=I2,c()},d.clamp=function(f){return arguments.length?(i=f?!0:Jt,c()):i!==Jt},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,o=p,c()}}function vO(){return fO()(Jt,Jt)}function pO(e,t,r,n){var o=mE(e,t,r),a;switch(n=Zn(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=nO(o,i))&&(n.precision=a),Of(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=oO(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=rO(o))&&(n.precision=a-(n.type==="%")*2);break}}return Vi(n)}function hO(e){var t=e.domain;return e.ticks=function(r){var n=t();return hE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return pO(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,a=n.length-1,i=n[o],s=n[a],l,u,c=10;for(s<i&&(u=i,i=s,s=u,u=o,o=a,a=u);c-- >0;){if(u=Ma(i,s,r),u===l)return n[o]=i,n[a]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Da(){var e=vO();return e.copy=function(){return dO(e,Da())},aO.apply(e,arguments),hO(e)}function Zt(e){return function(){return e}}function mO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vk(t)}function gO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tf(e){this._context=e}Tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nf(e){return new Tf(e)}function yO(e){return e[0]}function bO(e){return e[1]}function xO(e,t){var r=Zt(!0),n=null,o=Nf,a=null,i=mO(s);e=typeof e=="function"?e:e===void 0?yO:Zt(e),t=typeof t=="function"?t:t===void 0?bO:Zt(t);function s(l){var u,c=(l=gO(l)).length,d,f=!1,p;for(n==null&&(a=o(p=i())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,u,l),+t(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Zt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Zt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Zt(!!l),s):r},s.curve=function(l){return arguments.length?(o=l,n!=null&&(a=o(n)),s):o},s.context=function(l){return arguments.length?(l==null?n=a=null:a=o(n=l),s):n},s}function Br(e,t,r){this.k=e,this.x=t,this.y=r}Br.prototype={constructor:Br,scale:function(e){return e===1?this:new Br(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Br(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Br.prototype;var pe;(function(e){e.Monomer="monomer",e.Preset="preset",e.Bond="bond",e.AmbiguousMonomer="ambiguousMonomer"})(pe||(pe={}));var Ye;(function(e){e.Library="library",e.ChainStart="chainStart",e.ChainMiddle="chainMiddle",e.ChainEnd="chainEnd"})(Ye||(Ye={}));var Ft;(function(e){e.nanoMol="nM",e.microMol="μM",e.milliMol="mM"})(Ft||(Ft={}));var Jl=q(q(q({},Ft.nanoMol,Math.pow(10,9)),Ft.microMol,Math.pow(10,6)),Ft.milliMol,Math.pow(10,3)),wO={isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,preview:{type:pe.Monomer,monomer:void 0,style:{}},position:void 0,isContextMenuActive:!1,isMacromoleculesPropertiesWindowOpened:!1,macromoleculesProperties:void 0,unipositiveIonsMeasurementUnit:Ft.milliMol,oligonucleotidesMeasurementUnit:Ft.microMol,unipositiveIonsValue:140,oligonucleotidesValue:200},qr=ho({name:"editor",initialState:wO,reducers:{init:function(t){t.isReady=!1},initSuccess:function(t){t.isReady=!0},initFailure:function(t){t.isReady=!1},selectTool:function(t,r){t.activeTool=r.payload},setPosition:function(t,r){t.position=r.payload},createEditor:function(t,r){var n,o,a=new ao({theme:r.payload.theme,canvas:r.payload.canvas,monomersLibraryUpdate:r.payload.monomersLibraryUpdate});t.editor=a,(n=(o=r.payload).onInit)===null||n===void 0||n.call(o,a)},destroyEditor:function(t){t.editorLayoutMode=t.editor.mode.modeName,t.editor.switchToMicromolecules(),t.editor=void 0},showPreview:function(t,r){t.preview=r.payload||{monomer:void 0,style:""}},setContextMenuActive:function(t,r){t.isContextMenuActive=r.payload},setMacromoleculesPropertiesWindowVisibility:function(t,r){t.isMacromoleculesPropertiesWindowOpened=r.payload},toggleMacromoleculesPropertiesWindowVisibility:function(t){t.isMacromoleculesPropertiesWindowOpened=!t.isMacromoleculesPropertiesWindowOpened},setMacromoleculesProperties:function(t,r){t.macromoleculesProperties=r.payload},setUnipositiveIonsMeasurementUnit:function(t,r){t.unipositiveIonsMeasurementUnit=r.payload},setOligonucleotidesMeasurementUnit:function(t,r){t.oligonucleotidesMeasurementUnit=r.payload},setUnipositiveIonsValue:function(t,r){t.unipositiveIonsValue=r.payload},setOligonucleotidesValue:function(t,r){t.oligonucleotidesValue=r.payload}}}),ge=qr.actions,CO=ge.init,MO=ge.initSuccess,SO=ge.initFailure,yt=ge.selectTool;ge.setPosition;var AO=ge.createEditor,PO=ge.destroyEditor,dr=ge.showPreview,_f=ge.setContextMenuActive,EO=ge.setMacromoleculesPropertiesWindowVisibility,$f=ge.toggleMacromoleculesPropertiesWindowVisibility,Yo=ge.setMacromoleculesProperties,IO=ge.setUnipositiveIonsMeasurementUnit,kO=ge.setOligonucleotidesMeasurementUnit,OO=ge.setUnipositiveIonsValue,TO=ge.setOligonucleotidesValue,dn=function(t){return t.editor.preview},Mo=function(t){return t.editor.activeTool},NO=function(t){return t.editor.position},oe=function(t){return t.editor.editor},ot=function(t){var r;return(r=t.editor.editor)===null||r===void 0?void 0:r.isSequenceEditInRNABuilderMode},_O=function(t){return t.editor.editorLayoutMode},$O=function(t){var r;return(r=t.editor.editor)===null||r===void 0?void 0:r.isHandToolSelected},Df=function(t){var r;return(r=t.editor.editor)===null||r===void 0||(r=r.drawingEntitiesManager)===null||r===void 0?void 0:r.hasAntisenseChains},DO=function(t){return t.editor.isContextMenuActive},Lf=function(t){return t.editor.isMacromoleculesPropertiesWindowOpened},LO=function(t){return t.editor.macromoleculesProperties},Ki=function(t){return t.editor.unipositiveIonsMeasurementUnit},Yi=function(t){return t.editor.oligonucleotidesMeasurementUnit},Zi=function(t){return t.editor.unipositiveIonsValue},Qi=function(t){return t.editor.oligonucleotidesValue},jO=qr.reducer,RO=Ee.mark(jf),BO=Ee.mark(Rf),FO="editor/fetchData",zO=function(){return new Promise(function(t){setTimeout(function(){return t("some data")},1e3)})};function jf(){return Ee.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qo(CO(qr));case 2:return t.prev=2,t.next=5,x3(zO);case 5:return t.next=7,qo(MO(qr));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(2),Gr.error("editorSaga.ts::fetchData",t.t0),t.next=14,qo(SO(qr));case 14:case"end":return t.stop()}},RO,null,[[2,9]])}function Rf(){return Ee.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A3(FO,jf);case 2:case"end":return t.stop()}},BO)}var Bf="FAVORITES",qO="PEPTIDE",Hr={PEPTIDE:"PEPTIDE",CHEM:"CHEM",RNA:"RNA"},G;(function(e){e.SUGARS="Sugars",e.BASES="Bases",e.PHOSPHATES="Phosphates",e.PEPTIDES="Amino acids",e.NUCLEOTIDES="Nucleotides"})(G||(G={}));var eu;(function(e){e.R="R",e.A="A",e.C="C",e.G="G",e.T="T",e.U="U",e.X="X",e.P="P"})(eu||(eu={}));var Zo={R:G.SUGARS,A:G.BASES,C:G.BASES,G:G.BASES,T:G.BASES,U:G.BASES,X:G.BASES,P:G.PHOSPHATES},xt="favoriteItemsUniqueKeys",fr="ketcher_custom_presets",tu="Z",HO="No natural analogue",ru="thymine",nu="uracil",Xr={PEPTIDES:1,RNA:2},Xi="★",UO=function(){function e(){Tc(this,e),this.localStorage=window.localStorage}return Ac(e,[{key:"getItem",value:function(r){var n=this.localStorage.getItem(r);return n?JSON.parse(n):null}},{key:"setItem",value:function(r,n){this.localStorage.setItem(r,JSON.stringify(n))}},{key:"removeItem",value:function(r){this.localStorage.removeItem(r)}}]),e}(),Pe=new UO;function ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ou(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var WO=q(q({},Mt.PEPTIDES,st.AminoAcid),Mt.BASES,st.Base),GO={monomers:[],favorites:{},searchFilter:"",selectedTabIndex:Xr.RNA};function ze(e){var t;return Se(e)?e.id||e.label:"".concat(e.props.MonomerName,"___").concat((t=e.props)===null||t===void 0?void 0:t.Name)}function VO(e){var t,r,n;return"".concat(e.name,"_").concat(((t=e.base)===null||t===void 0?void 0:t.label)||".","_").concat(((r=e.sugar)===null||r===void 0?void 0:r.label)||".","_").concat(((n=e.phosphate)===null||n===void 0?void 0:n.label)||".")}var Ff=ho({name:"library",initialState:GO,reducers:{loadMonomerLibrary:function(t,r){var n=r.payload.map(function(o){return Me(Me({},o),{},{props:Me({},o.props)})});t.monomers=n},setFavoriteMonomersFromLocalStorage:function(t){var r={},n=Pe.getItem(xt);!n||!Array.isArray(n)||(t.monomers.forEach(function(o){var a=ze(o),i=n.find(function(s){return s===a});i&&(r[a]=Me(Me({},o),{},{favorite:!0}))}),t.favorites=r)},clearFavorites:function(t){t.favorites={}},toggleMonomerFavorites:function(t,r){var n=ze(r.payload),o=Pe.getItem(xt)||[];t.favorites[n]?(delete t.favorites[n],Pe.setItem(xt,o.filter(function(a){return a!==n}))):(t.favorites[n]=Me(Me({},r.payload),{},{favorite:!0}),o.push(n),Pe.setItem(xt,o))},setSearchFilter:function(t,r){t.searchFilter=r.payload},setSelectedTabIndex:function(t,r){t.selectedTabIndex=r.payload}}}),zf=function(t,r){return t.filter(function(n){var o;return!n.isAmbiguous&&((o=n.props)===null||o===void 0?void 0:o.MonomerType)===r})},Jr=function(t,r){var n=t.filter(function(i){if(!Se(i))return!1;var s=new Je(i,void 0,!1);return WO[r]===s.monomerClass});if(n.length===0)return[];var o=[];r===Mt.BASES?o=[{groupTitle:"Ambiguous DNA Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(ru)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(nu)})})},{groupTitle:"Ambiguous Bases",groupItems:n.filter(function(i){return Se(i)&&i.options.every(function(s){return!s.templateId.toLowerCase().includes(ru)&&!s.templateId.toLowerCase().includes(nu)})})}]:o.push({groupTitle:"Ambiguous ".concat(r),groupItems:n});var a=["X","N"];return o.forEach(function(i){i.groupItems.sort(function(s,l){return s.label.localeCompare(l.label)}),i.groupItems.sort(function(s){return a.includes(s.label)?-1:1})}),o},KO=function(t){return t.filter(function(r){var n,o;return!r.isAmbiguous&&(((n=r.props)===null||n===void 0?void 0:n.MonomerClass)===st.RNA||((o=r.props)===null||o===void 0?void 0:o.MonomerClass)===st.DNA)})},YO=function(t){return t.filter(function(r){return r.favorite&&!r.isAmbiguous})},ZO=function(t){var r=[];for(var n in Mt){var o=Jr(t,Mt[n]);r=[].concat(ce(r),ce(o))}return r.forEach(function(a){a.groupItems=a.groupItems.filter(function(i){return i.favorite})}),r.filter(function(a){return a.groupItems.length})},So=zp(function(e){return e.library},function(e){var t=e.searchFilter,r=e.monomers,n=e.favorites,o=t.toLowerCase(),a=function(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,f=l.toLowerCase(),p=u.toLowerCase(),h=c==null||(s=c.base)===null||s===void 0?void 0:s.toLowerCase(),m=c!=null&&c.modifications?Object.values(c.modifications).map(function($){return $.toLowerCase()}).join(" "):"";if(d==="/")return!!(h||m);if(d.includes("/")){var y=d.split("/");if(y.length>3||y.length===3&&y[2]!=="")return!1;if(y.length===3&&y[1]!==""){var g=y[1],b=h&&h.length===g.length&&Array.from(h).every(function($,F){return $===g[F]}),C=m?m.split(" ").some(function($){return $.length===g.length&&Array.from($).every(function(F,R){return F===g[R]})}):!1;return b||C}var x=y[0],M=y[1];if(d.startsWith("/")&&d.length>1){var A=d.slice(1);return h&&h.startsWith(A)||m&&m.split(" ").some(function($){return $.startsWith(A)})}if(d.endsWith("/")&&d.length>1){var E=d.slice(0,-1),k=d[d.length-2];return h&&h.endsWith(E)&&h[h.length-1]===k||m&&m.split(" ").some(function($){return $.endsWith(E)&&$[$.length-1]===k})}var N=h&&h.startsWith(M)&&h.endsWith(x),T=m?m.split(" ").some(function($){return $.startsWith(M)&&$.endsWith(x)}):!1;return N||T}var I=h?h.includes(d):!1,D=m?m.includes(d):!1,_=f.includes(d)||p.includes(d)||I||D;return _};return r.filter(function(i){if(i.isAmbiguous){var s=i.label,l=i.id,u=i.idtAliases,c=i.monomers,d=a(s,l,u,o);return d||c.some(function(y){var g=y.monomerItem.props,b=g.Name,C=g.MonomerName,x=g.idtAliases;return a(b,C,x,o)})}else{var f=i.props,p=f.Name,h=f.MonomerName,m=f.idtAliases;return a(p,h,m,o)}}).map(function(i){return Me(Me({},i),{},{favorite:!!n[ze(i)]})})}),La=function(t){var r=t.reduce(function(a,i){var s=i.props.MonomerNaturalAnalogCode||tu;return a[s]||(a[s]=[]),a[s].push(Me(Me({},i),{},{label:i.props.MonomerName})),a},{}),n=Object.entries(r).reduce(function(a,i){var s=L(i,2),l=s[0],u=s[1],c=u.sort(function(p,h){return p.label.localeCompare(h.label)}),d=c.findIndex(function(p){return p.label===l});if(d!==-1){var f=c.splice(d,1);c.unshift(f[0])}return a[l]=c,a},{}),o=[];return Object.keys(n).sort(function(a,i){return a.localeCompare(i)}).reduce(function(a,i){var s={groupTitle:i===tu?HO:i,groupItems:[]};return n[i].forEach(function(l){s.groupItems.push(Me(Me({},l),{},{props:Me({},l.props)}))}),s.groupItems.length&&a.push(s),a},o)},qf=function(t){return t.library.selectedTabIndex},Sr=Ff.actions,ja=Sr.loadMonomerLibrary,QO=Sr.setFavoriteMonomersFromLocalStorage;Sr.clearFavorites;var XO=Sr.toggleMonomerFavorites,au=Sr.setSearchFilter,en=Sr.setSelectedTabIndex,JO=Ff.reducer,e6=Ee.mark(Hf);function Hf(){return Ee.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w3(Rf);case 2:case"end":return t.stop()}},e6)}var t6={name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},Uf=ho({name:"modal",initialState:t6,reducers:{openModal:function(t,r){typeof r.payload=="string"?t.name=r.payload:(t.name=r.payload.name,t.additionalProps=r.payload.additionalProps),t.isOpen=!0},closeModal:function(t){t.name=null,t.isOpen=!1,t.additionalProps=null},openErrorTooltip:function(t,r){t.errorTooltipText=r.payload},closeErrorTooltip:function(t){t.errorTooltipText=""},openErrorModal:function(t,r){if(typeof r.payload=="string")t.errorModalText=r.payload;else{var n=r.payload,o=n.errorMessage,a=n.errorTitle;t.errorModalText=o,t.errorModalTitle=a}},closeErrorModal:function(t){t.errorModalText=""}}}),Ar=Uf.actions,or=Ar.openModal,r6=Ar.closeModal,iu=Ar.openErrorTooltip,n6=Ar.closeErrorTooltip,tn=Ar.openErrorModal,o6=Ar.closeErrorModal,a6=function(t){return t.modal.name},i6=function(t){return t.modal.isOpen},s6=function(t){return t.modal.additionalProps},l6=function(t){return t.modal.errorTooltipText},u6=function(t){return t.modal.errorModalText},c6=function(t){return t.modal.errorModalTitle},d6=Uf.reducer;function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function f6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?su(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var vr=function(){return Pe.getItem(fr)},Ji=function(t){var r,n=vr();return(r=n==null?void 0:n.findIndex(function(o){return o.name===t}))!==null&&r!==void 0?r:-1},Wf=function(t){var r=f6({},t),n=vr()||[],o=Ji(r.nameInList);r.nameInList=r.name,o>-1?(n.splice(o,1,r),Pe.setItem(fr,n)):Pe.setItem(fr,[].concat(ce(n),[r]))},v6=function(t){if(t){var r=vr(),n=Ji(t);r&&(r.splice(n,1),r.length?Pe.setItem(fr,r):Pe.removeItem(fr))}},p6=function(t){if(t){var r=vr(),n=Ji(t);r&&n>-1&&(r[n].favorite=!r[n].favorite,Pe.setItem(fr,r))}},h6=function(t){var r=["sugar","base","phosphate"],n=US(t,r);n.templates=[];for(var o=0,a=r;o<a.length;o++){var i,s=a[o],l=t[s],u=(l==null||(i=l.props)===null||i===void 0?void 0:i.id)||(l==null?void 0:l.id);u&&n.templates.push({$ref:l.isAmbiguous?xc(u):wc(u)})}return n},m6=function(t,r){var n,o,a=[],i=[],s=[];return!r||!(t!=null&&t.sugar)&&!(t!=null&&t.phosphate)&&!(t!=null&&t.base)?{sugarValidations:a,phosphateValidations:i,baseValidations:s}:(t!=null&&t.phosphate&&a.push("R2"),t!=null&&t.base&&a.push("R3"),s.push("R1"),t!=null&&(n=t.sugar)!==null&&n!==void 0&&(n=n.props)!==null&&n!==void 0&&n.MonomerCaps&&!("R3"in t.sugar.props.MonomerCaps)&&s.push("DISABLED"),i.push("R1"),t!=null&&(o=t.sugar)!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.MonomerCaps&&!("R2"in t.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:a,phosphateValidations:i,baseValidations:s})};function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var be;(function(e){e.Presets="Presets"})(be||(be={}));var g6={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:q(q(q({},G.BASES,[]),G.SUGARS,[]),G.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,activeMonomerKey:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},Dt=q(q(q({},G.BASES,"base"),G.SUGARS,"sugar"),G.PHOSPHATES,"phosphate"),Gf=ho({name:"rna-builder",initialState:g6,reducers:{createNewPreset:function(t){t.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(t,r){t.activePreset=Tr(Tr({},r.payload),{},{nameInList:r.payload.name})},setSequenceSelection:function(t,r){t.sequenceSelection=ce(r.payload)},setSequenceSelectionName:function(t,r){t.sequenceSelectionName=r.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(t,r){t.isSequenceFirstsOnlyNucleoelementsSelected=r.payload},setActivePresetForContextMenu:function(t,r){t.activePresetForContextMenu=r.payload},setActivePresetName:function(t,r){t.activePreset.name=r.payload},setActiveRnaBuilderItem:function(t,r){t.activeRnaBuilderItem=r.payload},recalculateRnaBuilderValidations:function(t,r){var n=m6(r.payload.rnaPreset,r.payload.isEditMode),o=n.sugarValidations,a=n.phosphateValidations,i=n.baseValidations;t.groupItemValidations[G.SUGARS]=o,t.groupItemValidations[G.BASES]=i,t.groupItemValidations[G.PHOSPHATES]=a},setActivePresetMonomerGroup:function(t,r){t.activePresetMonomerGroup=r.payload},savePreset:function(t,r){var n=r.payload,o=Tr({},n);if(Wf(h6(o)),o.nameInList){var a=t.presetsCustom.findIndex(function(i){return i.name===o.nameInList});o.nameInList=o.name,a===-1?t.presetsCustom.push(o):t.presetsCustom.splice(a,1,o)}else t.presetsCustom.push(o);t.activePreset&&(t.activePreset.nameInList=o.name)},deletePreset:function(t,r){var n=r.payload;v6(n.name);var o=t.presetsCustom.findIndex(function(a){return a.name===n.name});t.presetsCustom.splice(o,1),n.nameInList&&(t.activePreset=null)},setIsEditMode:function(t,r){t.isEditMode=r.payload},setUniqueNameError:function(t,r){t.uniqueNameError=r.payload},setInvalidPresetError:function(t,r){t.invalidPresetError=r.payload},setDefaultPresets:function(t,r){var n=r.payload[0];if(n){var o=t.presetsDefault.find(function(a){return a.name===n.name});o||(t.presetsDefault=r.payload)}},setCustomPresets:function(t,r){t.presetsCustom=r.payload},setFavoritePresetsFromLocalStorage:function(t){var r=Pe.getItem(xt);!r||!Array.isArray(r)||(t.presetsDefault=t.presetsDefault.map(function(n){var o="".concat(n.name,"_").concat(hs.RNA),a=r.find(function(i){return i===o});return a?Tr(Tr({},n),{},{favorite:!0}):n}))},clearFavorites:function(t){t.presetsDefault=[]},setActiveMonomerKey:function(t,r){t.activeMonomerKey=r.payload},togglePresetFavorites:function(t,r){var n=t.presetsDefault.findIndex(function(c){return c.name===r.payload.name}),o=t.presetsCustom.findIndex(function(c){return c.name===r.payload.name});if(n>=0){var a=t.presetsDefault[n].favorite;t.presetsDefault[n].favorite=!a}else if(o>=0){p6(t.presetsCustom[o].name);var i=t.presetsCustom[o].favorite;t.presetsCustom[o].favorite=!i;return}var s="".concat(r.payload.name,"_").concat(hs.RNA),l=Pe.getItem(xt)||[],u=l.some(function(c){return c===s});u?Pe.setItem(xt,l.filter(function(c){return c!==s})):(l.push(s),Pe.setItem(xt,l))}}}),Vf=function(t){return t.rnaBuilder.activeRnaBuilderItem},y6=function(t){return t.rnaBuilder.groupItemValidations},Ao=function(t){return t.rnaBuilder.activePreset},Kf=function(t){return t.rnaBuilder.sequenceSelection},b6=function(t){return t.rnaBuilder.sequenceSelectionName},x6=function(t){return t.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},Qo=function(t,r){if(!(!Dt[r]||!t))return t[Dt[r]]},w6=function(t){return t.rnaBuilder.activePresetMonomerGroup},uu=function(t){return!!(t.name&&t.sugar&&(t.base||t.phosphate))},Pr=function(t){return t.rnaBuilder.isEditMode},Yf=function(t){var r,n,o,a,i,s;if(!t)return"";var l=((r=t.sugar)===null||r===void 0?void 0:r.label)||((n=t.sugar)===null||n===void 0?void 0:n.props.MonomerName)||"",u=((o=t.base)===null||o===void 0?void 0:o.label)||((a=t.base)===null||a===void 0?void 0:a.props.MonomerName)||"",c=((i=t.phosphate)===null||i===void 0?void 0:i.label)||((s=t.phosphate)===null||s===void 0?void 0:s.props.MonomerName)||"",d=l;return l&&c||(l||c)&&u?d+="(".concat(u,")"):d+=u,d+=c,d},C6=function(t){return t.rnaBuilder.uniqueNameError},M6=function(t){return t.rnaBuilder.invalidPresetError},es=function(t){var r=t.rnaBuilder.activePreset;return r&&!r.nameInList&&!r.name&&!r.sugar&&!r.base&&!r.phosphate},Zf=function(t){return t.rnaBuilder.activePresetForContextMenu},S6=function(t){return t.filter(function(r){return r.favorite})},Qf=function(t){return t.rnaBuilder.activeMonomerKey},Po=function(t){var r=t.rnaBuilder,n=r.presetsDefault,o=n===void 0?[]:n,a=r.presetsCustom,i=a===void 0?[]:a;return[].concat(ce(o),ce(i))},Eo=function(t){var r,n=t.library.searchFilter,o=Po(t),a=(r=NO(t))!==null&&r!==void 0?r:Ir.Library,i=n.toLowerCase();return o.filter(function(s){var l,u,c,d,f,p,h,m,y=(l=s.name)===null||l===void 0?void 0:l.toLowerCase(),g=(u=s.sugar)===null||u===void 0||(u=u.label)===null||u===void 0?void 0:u.toLowerCase(),b=(c=s.phosphate)===null||c===void 0||(c=c.label)===null||c===void 0?void 0:c.toLowerCase(),C=(d=s.base)===null||d===void 0||(d=d.label)===null||d===void 0?void 0:d.toLowerCase(),x=(f=s.idtAliases)===null||f===void 0||(f=f.base)===null||f===void 0?void 0:f.toLowerCase(),M=(p=s.idtAliases)===null||p===void 0?void 0:p.modifications,A=x;if((h=s.name)!==null&&h!==void 0&&h.includes("MOE")&&x){var E,k,N,T=x,I=(E=M==null?void 0:M.endpoint5)!==null&&E!==void 0?E:"5".concat(T),D=(k=M==null?void 0:M.internal)!==null&&k!==void 0?k:"i".concat(T),_=(N=M==null?void 0:M.endpoint3)!==null&&N!==void 0?N:"3".concat(T);switch(a){case Ir.Library:A="".concat(I,", ").concat(D);break;case Ir.ChainStart:A=I;break;case Ir.ChainMiddle:A=D;break;case Ir.ChainEnd:A=_;break}}var $=(i.match(/\//g)||[]).length,F=i.split("/");if($>=2&&F[2]!==void 0&&F[2]!=="")return!1;if(i.startsWith("/")&&i.length>1){var R,z=i.slice(1);return((R=A)===null||R===void 0?void 0:R.toLowerCase().startsWith(z))||(x==null?void 0:x.startsWith(z))||M&&Object.values(M).some(function(ue){return ue==null?void 0:ue.toLowerCase().startsWith(z)})}if(i.endsWith("/")&&i.length>1){var H,W=i.slice(0,-1),Ce=i[i.length-2];return((H=A)===null||H===void 0?void 0:H.toLowerCase().endsWith(W))&&A[A.length-1]===Ce||(x==null?void 0:x.endsWith(W))&&x[x.length-1]===Ce||M&&Object.values(M).some(function(ue){return(ue==null?void 0:ue.toLowerCase().endsWith(W))&&ue[ue.length-1]===Ce})}if(i==="/")return!!s.idtAliases;var Ge=(y==null?void 0:y.includes(i))||(g==null?void 0:g.includes(i))||(b==null?void 0:b.includes(i))||(C==null?void 0:C.includes(i))||((m=A)===null||m===void 0?void 0:m.toLowerCase().includes(i));return Ge})},ie=Gf.actions,rn=ie.setActivePreset,ts=ie.setSequenceSelection,Xf=ie.setSequenceSelectionName,A6=ie.setIsSequenceFirstsOnlyNucleoelementsSelected;ie.setActivePresetName;var zt=ie.setActiveRnaBuilderItem,Jf=ie.setActiveMonomerKey,rs=ie.recalculateRnaBuilderValidations,ev=ie.setActivePresetMonomerGroup,P6=ie.savePreset,E6=ie.deletePreset,ns=ie.createNewPreset,dt=ie.setIsEditMode,os=ie.setUniqueNameError,tv=ie.setInvalidPresetError,I6=ie.setDefaultPresets,k6=ie.setCustomPresets,O6=ie.setActivePresetForContextMenu,T6=ie.togglePresetFavorites,N6=ie.setFavoritePresetsFromLocalStorage,_6=ie.clearFavorites,$6=Gf.reducer;function D6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=aE(),r=TP({reducer:{editor:jO,modal:d6,library:JO,rnaBuilder:$6},middleware:function(o){return o({thunk:!1,serializableCheck:!1}).concat(t)},preloadedState:e});return t.run(Hf),r}var L6=D6(),te={colorA:{regular:"#CCCBD6",hover:"#B8BBCC"},colorCM:{regular:"#FFE34C",hover:"#FFD700"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#E1E6ED",hover:"#CAD3E0"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FFC44C",hover:"#FFAA00"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#99458B",hover:"#7F006B"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},ae={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},cu={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#E1E5EA",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:`Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',
Arial, sans-serif`,roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:te.colorA,C:te.colorCM,M:te.colorCM,D:te.colorDQ,Q:te.colorDQ,E:te.colorEN,N:te.colorEN,F:te.colorFY,Y:te.colorFY,G:te.colorGX,X:te.colorGX,H:te.colorH,I:te.colorILV,L:te.colorILV,V:te.colorILV,K:te.colorKR,R:te.colorKR,P:te.colorP,S:te.colorST,T:te.colorST,W:te.colorW,U:te.colorU,CHEM:te.chem,default:te.default}},peptide:{color:{D:ae.D,E:ae.E,K:ae.K,H:ae.H,O:ae.O,R:ae.R,Q:ae.Q,Y:ae.Y,U:ae.U,S:ae.S,C:ae.C,N:ae.N,T:ae.T,L:ae.L,I:ae.I,F:ae.F,A:ae.A,P:ae.P,G:ae.G,M:ae.M,V:ae.V}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)",mainLayoutBlocks:"0px 2px 5px rgba(103, 104, 132, 0.15)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"},zIndex:{base:0,sticky:100,overlay:200,modal:1e3,critical:9999}},j6={},R6=function(t){return hc({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:t.ketcher.font.size.medium,fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,fontSize:t.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:t.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:t.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:t.ketcher.font.weight.bold}},"","")},rv="254px",B6=w("div",{target:"e1vkl5kv5"})("width:",rv,";height:calc(100% - 16px);display:flex;flex-direction:column;background-color:",function(e){return e.theme.ketcher.color.background.primary},";box-shadow:",function(e){var t=e.theme;return t.ketcher.shadow.mainLayoutBlocks},";border-radius:4px;"),F6=w("div",{target:"e1vkl5kv4"})({name:"n1y6qf",styles:"padding:10px 0 10px 8px;position:relative;display:flex;align-items:center;gap:8px"}),z6=w("div",{target:"e1vkl5kv3"})("height:24px;display:flex;flex-grow:1;gap:4px;align-items:center;padding:4px;background-color:",function(e){return e.theme.ketcher.color.input.background.default},";border-radius:4px;&:hover,&:has(input:focus){outline:",function(e){return e.theme.ketcher.outline.selected.small},";}"),q6=w("button",{target:"e1vkl5kv2"})("height:24px;display:flex;align-items:center;gap:2px;border:none;border-radius:4px 0 0 4px;cursor:pointer;background-color:#e2e5e9;text-transform:none;font-weight:",function(e){var t=e.theme;return t.ketcher.font.weight.regular},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";color:",function(e){var t=e.theme;return t.ketcher.color.text.secondary},";"),H6=w(de,{target:"e1vkl5kv1"})("height:16px;width:16px;color:",function(e){return e.theme.ketcher.color.text.secondary},";"),U6=w(Sc,{target:"e1vkl5kv0"})({name:"pmmg8c",styles:"flex-grow:1;padding:0;margin:0;background-color:transparent;border:none;outline:none;&:hover{outline:none;}&:focus{outline:none;}"}),du=w("div",{target:"e1pv9pa10"})(function(e){var t=e.fullWidth,r=e.withPaddingRight;return{width:t?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:r?"12px":0}},""),W6=w("div",{target:"e1pv9pa9"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"clip"}},""),G6=w("div",{target:"e1pv9pa8"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),nv=w("div",{target:"e1pv9pa7"})(function(e){var t=e.hide,r=t===void 0?!1:t;return{height:"100%",width:"fit-content",display:r?"none":"flex",flexDirection:"column"}},""),ov=w(nv,{target:"e1pv9pa6"})(""),av=w(nv,{target:"e1pv9pa5"})(""),iv=w("div",{target:"e1pv9pa4"})(function(e){var t=e.shortened,r=t===void 0?!1:t,n=e.theme;return{height:"36px",width:r?"calc(100% - ".concat(rv,")"):"calc(100%)",marginBottom:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:n.ketcher.shadow.mainLayoutBlocks,borderRadius:"4px"}},""),sv=w("div",{target:"e1pv9pa3"})({name:"1gavlve",styles:"&:not(:empty){margin-bottom:15px;}"}),lv=w("div",{target:"e1pv9pa2"})({name:"149k9u4",styles:"height:100%;width:100%;position:relative"}),uv=w("div",{target:"e1pv9pa1"})({name:"0",styles:""}),V6=w("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),ke=function(t){var r=t.children,n={Left:null,Main:null,Right:null,Top:null,Bottom:null,InsideRoot:null};return Pt.Children.forEach(r,function(o){o.type===ov?n.Left=o:o.type===av?n.Right=o:o.type===iv?n.Top=o:o.type===sv?n.Bottom=o:o.type===lv?n.Main=o:o.type===uv&&(n.InsideRoot=o)}),P(W6,{children:[P(du,{fullWidth:!0,withPaddingRight:!0,children:[n.Top,P(G6,{children:[n.Left,v(V6,{}),n.Main]}),n.Bottom]}),v(du,{children:n.Right}),n.InsideRoot]})};ke.Left=ov;ke.Top=iv;ke.Bottom=sv;ke.Right=av;ke.Main=lv;ke.InsideRoot=uv;var K6=w("div",{target:"e19unl0y1"})({name:"1g3to66",styles:"background-color:#e1e5ea;flex-grow:1;overflow-y:auto;height:100%"}),Y6=w(Dc,{target:"e19unl0y0"})({name:"jwg7h4",styles:"height:100%;width:100%;align-items:start"}),Z6=function(t){var r=t.children,n=t.value,o=t.index;return v(K6,{role:"tabpanel",hidden:n!==o,id:o.toString(),children:n===o&&v(Y6,{children:r})})},Q6=w(Zp,{shouldForwardProp:function(t){return t!=="isLayoutToRight"},target:"e1rrs7vg3"})("height:32px;min-height:32px;list-style-type:none;margin:0;padding:4px 8px 0 8px;border-bottom:",function(e){var t=e.theme;return"1px solid ".concat(t.ketcher.color.border.primary)},";overflow:unset;& .MuiTabs-scroller,& .MuiTabs-flexContainer{height:100%;overflow:unset!important;}& .MuiTabs-flexContainer{justify-content:",function(e){var t=e.isLayoutToRight;return t?"flex-end":"flex-start"},";padding-right:",function(e){var t=e.isLayoutToRight;return t?"16px":"0"},";}& .MuiTabs-indicator{display:none;}"),X6=w(Ja,{shouldForwardProp:function(t){return t!=="isLayoutToRight"},target:"e1rrs7vg2"})("min-height:24px;min-width:0;position:relative;padding:7px 12px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";text-transform:none;cursor:pointer;text-align:center;background-color:",function(e){var t=e.theme;return t.ketcher.color.tab.regular},";color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";list-style-type:none;margin-left:1px;align-items:center;flex:",function(e){var t=e.isLayoutToRight;return t?void 0:"1 1 auto;"},";border:1px solid transparent;border-bottom:none;border-radius:4px 4px 0 0;&:first-of-type{margin-left:0;}&:hover{background-color:",function(e){var t=e.theme;return t.ketcher.color.tab.regular},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";border-color:",function(e){var t=e.theme;return t.ketcher.color.border.primary},";}&.Mui-selected{background-color:",function(e){var t=e.theme;return t.ketcher.color.tab.active},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";border-color:",function(e){var t=e.theme;return t.ketcher.color.border.primary},";margin-bottom:-1px;padding-bottom:8px;&::after{content:'';position:absolute;left:0;bottom:-1px;height:1px;background-color:",function(e){var t=e.theme;return t.ketcher.color.tab.active},";}}&[data-tab='Favorites']{font-size:16px;color:#faa500;}"),J6=w(Ja,{target:"e1rrs7vg1"})({name:"2934o7",styles:"width:0;height:0;min-width:0;min-height:0;padding:0;margin:0;visibility:hidden"}),e8=w("div",{target:"e1rrs7vg0"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var t8=function(t){return{id:"simple-tab-".concat(t),"aria-controls":"simple-tabpanel-".concat(t)}},r8=function(t){var r=t.tabs,n=t.selectedTabIndex,o=t.isLayoutToRight,a=t.onChange,i=r[n],s=i==null?void 0:i.component,l=i==null?void 0:i.props;return P(K,{children:[P(Q6,{value:n,onChange:a,isLayoutToRight:o,children:[r.map(function(u,c){return v(X6,vu({label:u.caption,title:u.tooltip,isLayoutToRight:o,"data-testid":u.testId,"data-tab":u.tooltip},t8(c)),c)}),v(J6,{value:-1})]}),i&&v(Z6,{value:n,index:n,children:v(e8,{children:v(s,vu({},l))})})]})},cv=S.memo(r8),wt=function(){};function pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hu=function(t,r,n){var o=new Map(t.map(function(a){var i=Se(a)?xc(a.id):wc(ze(a));return[i,a]}));return r.filter(function(a){return a.templates.every(function(i){return!!o.get(i.$ref)})}).map(function(a){var i=new Map(a.templates.map(function(d){var f=o.get(d.$ref),p=Pp(f),h=L(p,3),m=h[2];return[m,f]})),s=i.get(st.Sugar),l=i.get(st.Base),u=i.get(st.Phosphate),c={base:l?pt(pt({},l),{},{label:l.label}):void 0,name:a.name,phosphate:u?pt(pt({},u),{},{label:u.label}):void 0,sugar:s?pt(pt({},s),{},{label:s.label}):void 0,favorite:a.favorite,default:n||a.default};return a.idtAliases?pt(pt({},c),{},{idtAliases:a.idtAliases}):c})},Xo=function(t){return Object.entries(t).filter(function(r){var n=L(r,2);n[0];var o=n[1];return!!o}).map(function(r){var n=L(r,1),o=n[0];return o})},ne=function(){return hr()},O=mc;function Er(){var e,t=gc.getKetcher(),r=t==null||(e=t.editor)===null||e===void 0?void 0:e.struct().isBlank(),n=r?Op:Tp,o=O(oe),a=O(_O),i=S.useState(a||n),s=L(i,2),l=s[0],u=s[1],c=S.useCallback(function(d){u(d)},[u]);return S.useEffect(function(){return o==null||o.events.layoutModeChange.add(c),function(){o==null||o.events.layoutModeChange.remove(c)}},[c,o==null?void 0:o.events.layoutModeChange]),l}function n8(){var e=O(oe),t=O(ot),r=S.useState(t),n=L(r,2),o=n[0],a=n[1],i=function(l){a(l)};return S.useEffect(function(){return e==null||e.events.toggleSequenceEditInRNABuilderMode.add(i),function(){e==null||e.events.toggleSequenceEditInRNABuilderMode.remove(i)}},[i,e==null?void 0:e.events.toggleSequenceEditInRNABuilderMode]),o}var as=Pt.createContext({}),dv=S.createContext({width:0,height:0}),o8=function(t){var r=t.children,n=t.rootRef,o=t.isMacromoleculesEditorTurnedOn,a=S.useState({width:0,height:0}),i=L(a,2),s=i[0],l=i[1],u=S.useCallback(function(){if(n!=null&&n.current){var d=n.current.getBoundingClientRect(),f=d.width,p=d.height;l({width:f,height:p})}},[n]),c=S.useCallback(me.debounce(u,100),[u]);return S.useEffect(function(){u()},[o]),S.useEffect(function(){return c(),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}},[c]),v(dv.Provider,{value:s,children:r})},is=function(){var t=S.useContext(dv),r=t.height;return r<720},fv=w("div",{target:"e719szw2"})("background:white;height:48px;text-align:center;cursor:",function(e){var t=e.disabled;return t?"default":"pointer"},";opacity:",function(e){var t=e.disabled;return t?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 5px 0 rgba(103, 104, 132, 0.149);margin:0;user-select:none;border-color:#167782;border-width:",function(e){var t=e.selected;return t?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(e){var t=e.selected;return t?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(e){var t=e.isVariantMonomer;return t?"1px solid #CAD3DD":"none"},";background:",function(e){var t,r,n,o,a,i=e.code,s=e.theme,l=e.item;if(!l)return(t=s.ketcher.monomer.color.default)===null||t===void 0?void 0:t.regular;var u=l,c=((r=u.props)===null||r===void 0?void 0:r.MonomerType)==="PEPTIDE";if(c&&(n=s.ketcher.peptide.color[i])!==null&&n!==void 0&&n.regular){var d;return(d=s.ketcher.peptide.color[i])===null||d===void 0?void 0:d.regular}var f=((o=s.ketcher.monomer.color[i])===null||o===void 0?void 0:o.regular)||((a=s.ketcher.monomer.color.default)===null||a===void 0?void 0:a.regular);return f},";},>span{position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#e1e5ea;position:absolute;top:12px;right:3px;font-size:15px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),a8=w("div",{target:"e719szw1"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(e){var t=e.monomersAmount;return t>=10?"20px":"15px"},";border-radius:",function(e){var t=e.monomersAmount;return t>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"18px":"20px"},";font-size:12px;line-height:12px;"),i8=w("span",{target:"e719szw0"})({name:"rnnx2x",styles:"font-size:12px"}),s8=function(t,r){var n,o,a,i=O(ot),s=mc(x6),l=S.useState(!1),u=L(l,2),c=u[0],d=u[1];return S.useEffect(function(){if(!i)return d(!1);if(r===Mt.BASES){var f;d(!(t!=null&&(f=t.props)!==null&&f!==void 0&&(f=f.MonomerCaps)!==null&&f!==void 0&&f.R1))}else if(r===Mt.PHOSPHATES){var p,h;d(!(t!=null&&(p=t.props)!==null&&p!==void 0&&(p=p.MonomerCaps)!==null&&p!==void 0&&p.R1&&t!==null&&t!==void 0&&(h=t.props)!==null&&h!==void 0&&(h=h.MonomerCaps)!==null&&h!==void 0&&h.R2))}else if(r===Mt.SUGARS)if(s){var m,y;d(!(t!=null&&(m=t.props)!==null&&m!==void 0&&(m=m.MonomerCaps)!==null&&m!==void 0&&m.R3&&t!==null&&t!==void 0&&(y=t.props)!==null&&y!==void 0&&(y=y.MonomerCaps)!==null&&y!==void 0&&y.R2))}else{var g,b,C;d(!(t!=null&&(g=t.props)!==null&&g!==void 0&&(g=g.MonomerCaps)!==null&&g!==void 0&&g.R3&&t!==null&&t!==void 0&&(b=t.props)!==null&&b!==void 0&&(b=b.MonomerCaps)!==null&&b!==void 0&&b.R2&&t!==null&&t!==void 0&&(C=t.props)!==null&&C!==void 0&&(C=C.MonomerCaps)!==null&&C!==void 0&&C.R1))}},[r,i,s,t==null||(n=t.props)===null||n===void 0||(n=n.MonomerCaps)===null||n===void 0?void 0:n.R1,t==null||(o=t.props)===null||o===void 0||(o=o.MonomerCaps)===null||o===void 0?void 0:o.R2,t==null||(a=t.props)===null||a===void 0||(a=a.MonomerCaps)===null||a===void 0?void 0:a.R3,d]),c};function mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var l8=function(t){var r=t.item,n=t.groupName,o=t.onMouseLeave,a=t.onMouseMove,i=t.isSelected,s=t.disabled,l=t.onClick,u=l===void 0?wt:l,c=ne(),d=s8(r,n)||s,f=Se(r)?"":r.props.MonomerType===Hr.CHEM?r.props.MonomerType:r.props.MonomerNaturalAnalogCode,p=ze(r),h=Se(r)?void 0:r,m=S.useCallback(function(y){y.stopPropagation(),c(XO(r))},[c,r]);return P(fv,gu(gu({selected:i,disabled:d,"data-testid":p,"data-monomer-item-id":p,item:h,isVariantMonomer:r.isAmbiguous,code:f,onMouseLeave:o,onMouseMove:a},d?{}:{onClick:u}),{},{children:[v(i8,{children:r.label}),!d&&v("div",{onClick:m,className:"star ".concat(r.favorite?"visible":""),children:Xi}),Se(r)&&v(a8,{selected:i,monomersAmount:r.monomers.length,children:r.monomers.length})]}))},vv=w("div",{target:"e10tnh3n3"})({name:"37420",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:4px;&::after{content:'';flex:auto;}"}),pv=w("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.divider},";margin:0;gap:4px;"),u8=w(pv,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),c8=w("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";margin:0;"),pr=function(t){var r=t.items,n=t.title,o=t.groupName,a=t.selectedMonomerUniqueKey,i=t.libraryName,s=t.disabled,l=t.onItemClick,u=l===void 0?wt:l,c=ne(),d=O(oe),f=O(y6),p=function(M){var A=!1;if(Se(M))return!1;if(s)A=s;else{var E,k,N=f["".concat((E=M.props)===null||E===void 0?void 0:E.MonomerClass,"s")];if((N==null?void 0:N.length)>0&&(k=M.props)!==null&&k!==void 0&&k.MonomerCaps)for(var T=0;T<N.length;T++)N[T]in M.props.MonomerCaps||(A=!0)}return A},h=S.useCallback(function(x){return c(dr(x))},[c]),m=S.useCallback(me.debounce(function(x){return h(x)},500),[h]),y=function(){m.cancel(),c(dr(void 0))},g=function(M,A){y();var E=A.currentTarget.getBoundingClientRect(),k,N,T;if(Se(M)){T=M?_c(M)(E):"";var I="".concat(E.left+E.width/2,"px");N=pe.AmbiguousMonomer,k={left:I,top:T,transform:"translate(-50%, 0)"}}else T=M?th(E):"",k={right:"-88px",top:T,transform:"translate(-50%, 0)"},N=pe.Monomer;var D={type:N,monomer:M,style:k};m(D)},b=function(M){c(yt("monomer")),["FAVORITES","PEPTIDE","CHEM"].includes(i??"")&&d.events.selectMonomer.dispatch(M),u(M)},C=function(M){return a===ze(M)};return P(u8,{children:[n&&v(c8,{children:n}),v(vv,{children:r.map(function(x){return v(l8,{disabled:p(x),item:x,groupName:o,isSelected:C(x),onMouseLeave:y,onMouseMove:function(A){return g(x,A)},onClick:function(){return b(x)}},ze(x))})})]})},d8=w("div",{target:"e1bp6il60"})({name:"8z91a1",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:8px;padding:8px"}),f8=w(fv,{target:"e1txcvj90"})("&::after{content:'';background:",function(e){var t=e.theme,r=e.selected;return r?t.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:hidden;position:absolute;right:2px;top:10px;}&:hover .dots{visibility:visible;}>.star{right:0;left:4px;top:10px;width:min-content;}"),v8=w("div",{target:"e1h0dkll2"})(function(e){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:e.theme.ketcher.border.small}},""),p8=w("span",{target:"e1h0dkll1"})(function(e){return{flexGrow:1,fontSize:e.theme.ketcher.font.size.regular}},""),Ra=w(de,{target:"e1h0dkll0"})(function(e){return{width:"16px",height:"16px",color:e.theme.ketcher.color.icon.grey,transition:e.theme.ketcher.transition.regular,transform:e.expanded?"rotate(180deg)":"none"}},""),h8=function(t){var r=t.preset,n=t.isSelected,o=t.onClick,a=o===void 0?wt:o,i=t.onContextMenu,s=i===void 0?wt:i,l=t.onMouseLeave,u=l===void 0?wt:l,c=t.onMouseMove,d=c===void 0?wt:c,f=ne(),p=S.useCallback(function(h){h.stopPropagation(),f(T6(r))},[f,r]);return P(f8,{"data-testid":VO(r),onClick:a,onContextMenu:s,onMouseLeave:u,onMouseMove:d,selected:n,code:r.name,"data-rna-preset-item-name":r.name,children:[v("span",{children:r.name}),v(Ra,{name:"vertical-dots",className:"dots",onClick:s}),v("div",{"aria-hidden":!0,onClick:p,className:"star ".concat(r.favorite?"visible":""),children:Xi})]})},m8=S.memo(h8),Xe;(function(e){e.FOR_RNA="context-menu-for-RNA",e.FOR_SEQUENCE="context-menu-for-sequence",e.FOR_POLYMER_BOND="context-menu-for-polymer-bond",e.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"})(Xe||(Xe={}));var g8=w(Gp,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);.contexify_itemContent{font-family:",function(e){var t=e.theme;return t.ketcher.font.family.inter},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}.contexify_separator{color:rgba(225, 229, 234, 1);}.contexify_item-title{opacity:1;font-weight:bold;}"),y8=function(t,r){var n=[];return t.forEach(function(o,a){var i=o.name,s=o.title,l=o.hidden,u=o.disabled,c=o.isMenuTitle,d=o.separator,f=v(Up,{id:i,onClick:r,"data-testid":i,hidden:l,disabled:u,className:c?"contexify_item-title":"",children:v("span",{children:s})},i);n.push(f),d&&n.push(v(Wp,{},a))}),n},Io=function(t){var r=t.id,n=t.handleMenuChange,o=t.menuItems,a=ne();return S.useEffect(function(){var i=function(l){var u,c,d=((u=l.target)===null||u===void 0||(u=u.__data__)===null||u===void 0?void 0:u.node)||((c=l.target)===null||c===void 0||(c=c.__data__)===null||c===void 0?void 0:c.monomer);if(d){l.stopPropagation();return}a(_f(!1))};return document.addEventListener("click",i),document.addEventListener("contextmenu",i),function(){document.removeEventListener("click",i),document.removeEventListener("contextmenu",i)}},[a,r]),v(g8,{id:r,children:y8(o,n)})},b8=function(){var t=Xr.RNA,r=ne(),n=O(Zf),o=O(qf),a=O(ot),i=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:n==null?void 0:n.default},{name:"deletepreset",title:"Delete Preset",disabled:n==null?void 0:n.default}],s=function(c){var d=c.id,f=c.props;switch(d){case"duplicateandedit":f.duplicatePreset(n),o!==t&&r(en(t));break;case"edit":f.editPreset(n),o!==t&&r(en(t));break;case"deletepreset":r(or("delete"));break}},l=document.querySelector(Gt);return l&&!a?to.createPortal(v(Io,{id:Xe.FOR_RNA,menuItems:i,handleMenuChange:s}),l):null},ss=function(t){var r=t.presets,n=t.duplicatePreset,o=t.editPreset,a=O(Ao),i=O(oe),s=bn({id:Xe.FOR_RNA}),l=s.show,u=hr(),c=function(x){var M,A,E,k=!0,N=!0,T=!0;if(x!=null&&(M=x.base)!==null&&M!==void 0&&(M=M.props)!==null&&M!==void 0&&M.MonomerCaps&&(k="R1"in x.base.props.MonomerCaps),x!=null&&(A=x.sugar)!==null&&A!==void 0&&(A=A.props)!==null&&A!==void 0&&A.MonomerCaps){var I;k&&x!==null&&x!==void 0&&(I=x.base)!==null&&I!==void 0&&(I=I.props)!==null&&I!==void 0&&I.MonomerCaps&&(N="R3"in x.sugar.props.MonomerCaps)}if(x!=null&&(E=x.phosphate)!==null&&E!==void 0&&(E=E.props)!==null&&E!==void 0&&E.MonomerCaps){var D;T="R1"in x.phosphate.props.MonomerCaps,N&&x!==null&&x!==void 0&&(D=x.sugar)!==null&&D!==void 0&&(D=D.props)!==null&&D!==void 0&&D.MonomerCaps&&(N="R2"in x.sugar.props.MonomerCaps)}return k&&N&&T},d=function(x){return function(){var M=c(x);if(!M&&x.name){u(tv(x.name));return}u(rn(x)),i.events.selectPreset.dispatch(x),x.name!==a.name&&u(dt(!1))}},f=function(x){var M,A=x instanceof HTMLDivElement;!A&&x.parentElement&&(x=x.parentElement);var E=x.getBoundingClientRect(),k=(M=x.offsetParent)===null||M===void 0?void 0:M.getBoundingClientRect(),N=140,T=E.right-N,I=E.y+E.height/2;return k!=null&&k.x&&(k==null?void 0:k.x)>T&&(T=E.x),{x:T,y:I}},p=O(dn),h=S.useCallback(function(C){return u(dr(C))},[u]),m=S.useCallback(me.debounce(function(C){return h(C)},500),[h]),y=function(){m.cancel(),u(dr(void 0))},g=function(x,M){if(y(),!(p.type===pe.Preset||!M.currentTarget)){var A=[x.sugar,x.base,x.phosphate],E=M.currentTarget.getBoundingClientRect(),k={left:"".concat(E.left+E.width,"px"),top:Se(x.base)?_c(x.base)(E):rh(E),transform:"translate(-100%, 0)"},N=Se(x.base)?{type:pe.AmbiguousMonomer,monomer:x.base,presetMonomers:A,style:k}:{type:pe.Preset,monomers:A,name:x.name,idtAliases:x.idtAliases,position:Ye.Library,style:k};m(N)}},b=function(x){return function(M){M.stopPropagation(),u(O6(x)),l({event:M,props:{duplicatePreset:n,editPreset:o},position:f(M.currentTarget)})}};return P(pv,{"data-testid":"rna-preset-group",children:[v(vv,{children:r.map(function(C,x){return v(m8,{isSelected:(a==null?void 0:a.name)===C.name,preset:C,onClick:d(C),onContextMenu:b(C),onMouseMove:function(A){return g(C,A)},onMouseLeave:y},"".concat(C.name).concat(x))})}),v(b8,{})]})},Jo=function(t){var r=t.onItemClick,n=t.libraryName,o=t.duplicatePreset,a=t.editPreset,i=O(So),s=O(Eo),l=O(Mo),u=n===Bf,c=u?{monomers:YO(i),presets:S6(s)}:zf(i,n),d=La(u?c.monomers:c),f=u?ZO(i):Jr(i,G.PEPTIDES),p=S.useState(""),h=L(p,2),m=h[0],y=h[1],g=function(C){y(ze(C))};return S.useEffect(function(){l!=="monomer"&&y("")},[l]),P(d8,{children:[u&&d.length>0&&v("div",{children:"Monomers"}),d.map(function(b,C,x){var M=b.groupItems,A=b.groupTitle;return v(pr,{title:x.length===1?void 0:A,items:M,libraryName:n,onItemClick:r||g,selectedMonomerUniqueKey:m},A)}),u&&c.presets.length>0&&P(K,{children:[v("div",{children:"Presets"}),v(ss,{duplicatePreset:o,editPreset:a,presets:c.presets})]}),v(K,{children:(n===qO||u)&&f.map(function(b){return v(pr,{title:b.groupTitle,items:b.groupItems,libraryName:n,onItemClick:r||g,selectedMonomerUniqueKey:m},b.groupTitle)})})]})},x8=w("div",{target:"e1fsx6x2"})({name:"kxxltl",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:8px;background-color:#f7f9fa;border-radius:0 0 4px 4px"}),w8=w("span",{target:"e1fsx6x1"})("font-size:",function(e){return e.theme.ketcher.font.size.medium},";overflow:hidden;text-overflow:ellipsis;color:",function(e){return e.theme.ketcher.color.text.primary},";"),C8=w("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),M8=function(t){var r=t.name,n=t.fullName;return!r&&!n?null:v(x8,{children:v(C8,{children:v(w8,{children:r||n})})})},S8=S.memo(M8),A8=w("div",{target:"e1ie5fzr8"})(function(e){return{height:"40px",position:"relative",marginLeft:e.isEditMode?"30px":"28.5px",display:"flex",alignItems:"center",border:e.isEditMode?"none":"1.5px solid ".concat(e.theme.ketcher.outline.color),backgroundColor:e.selected?e.theme.ketcher.color.button.primary.active:e.isEditMode?e.theme.ketcher.color.background.primary:"transparent",borderRadius:e.theme.ketcher.border.radius.regular,boxShadow:e.isEditMode?e.theme.ketcher.shadow.regular:"none",padding:"5px 10px",color:e.selected?"white":"black",gap:"8px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:e.theme.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),P8=w("div",{target:"e1ie5fzr7"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),E8=w("span",{target:"e1ie5fzr6"})("font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.selected,r=e.theme;return t?r.ketcher.color.background.primary:r.ketcher.color.text.light},";opacity:",function(e){var t=e.selected;return t?.4:1},";"),I8=w("span",{target:"e1ie5fzr5"})("margin-top:1px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";color:",function(e){var t=e.selected,r=e.empty,n=e.theme;return t?n.ketcher.color.button.text.primary:r?"#b4b9d6":n.ketcher.color.text.primary},";opacity:",function(e){var t=e.selected,r=e.empty;return t&&r?.4:1},";"),k8=w("div",{target:"e1ie5fzr4"})({name:"wgokoh",styles:"position:relative;width:16px;height:16px;display:flex;align-items:center;justify-content:center"}),O8=w(de,{target:"e1ie5fzr3"})("fill:",function(e){var t=e.selected,r=e.empty,n=e.theme;return r?"none":t?n.ketcher.color.background.primary:n.ketcher.color.icon.grey},";color:",function(e){var t=e.selected,r=e.theme;return t?r.ketcher.color.background.primary:r.ketcher.color.icon.grey},";"),T8=w("div",{target:"e1ie5fzr2"})("position:relative;width:60px;display:flex;flex-direction:column;gap:8px;padding:4px;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);cursor:pointer;background-color:",function(e){var t=e.selected,r=e.theme;return t?r.ketcher.color.button.primary.active:r.ketcher.color.background.primary},";&:hover{outline:",function(e){var t=e.theme;return t.ketcher.outline.selected.small},";}"),N8=w("div",{target:"e1ie5fzr1"})("position:absolute;top:-35%;left:50%;height:15px;width:2px;background-color:",function(e){var t=e.theme;return t.ketcher.outline.color},";"),_8=w("p",{target:"e1ie5fzr0"})("margin:0;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";font-weight:",function(e){var t=e.theme;return t.ketcher.font.weight.regular},";color:",function(e){var t=e.selected,r=e.empty,n=e.theme;return t?n.ketcher.color.button.text.primary:r?"#b4b9d6":n.ketcher.color.text.primary},";opacity:",function(e){var t=e.selected,r=e.empty;return t&&r?.4:1},";"),hv=q(q(q({},G.SUGARS,"Sugar"),G.BASES,"Base"),G.PHOSPHATES,"Phosphate"),$8=function(t){var r=t.selected,n=t.empty,o=t.name;return v(k8,{children:v(O8,{selected:r,empty:n,name:o})})},mv=S.memo($8),D8=function(t){var r=t.groupName,n=t.iconName,o=t.monomerName,a=t.selected,i=t.onClick,s=t.testid,l=O(Pr),u=!o;return P(T8,{selected:a,onClick:i,isEditMode:l,"data-testid":s,children:[v(N8,{}),v(mv,{name:n,selected:a,empty:u}),v(_8,{selected:a,empty:u,children:o||hv[r]})]})},L8=function(t){var r=t.groupName,n=t.iconName,o=t.monomerName,a=t.selected,i=t.onClick,s=t.testid,l=O(Pr),u=!o;return P(A8,{selected:a,onClick:i,isEditMode:l,"data-testid":s,children:[v(mv,{name:n,selected:a,empty:u}),P(P8,{children:[v(E8,{selected:a,children:hv[r]}),v(I8,{empty:u,selected:a,children:o||"Not selected"})]})]})};function yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var j8=function(t){var r=is();return r?v(D8,bu({},t)):v(L8,bu({},t))},R8=w("div",{target:"e18wzlbg8"})(function(e){return{display:"flex",flexDirection:"column",padding:"10px",backgroundColor:"#F7F9FA",borderRadius:"0 0 4px 4px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(e.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none"}}},""),B8=w("input",{target:"e18wzlbg7"})("width:100%;padding:6px;border:none;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);&:hover,&:focus{outline:",function(e){var t=e.theme;return t.ketcher.outline.selected.small},";}"),F8=w("div",{target:"e18wzlbg6"})("width:100%;display:flex;flex-direction:",function(e){var t=e.compact;return t?"row":"column"},";justify-content:",function(e){var t=e.compact;return t?"space-between":"flex-start"},";gap:8px;margin-top:16px;"),z8=w("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),Nr=w(no,{target:"e18wzlbg4"})(function(e){return{width:"100%",whiteSpace:"nowrap",fontSize:e.theme.ketcher.font.size.regular,backgroundColor:e.primary?e.theme.ketcher.color.button.primary.active:void 0,color:e.primary&&!e.disabled?e.theme.ketcher.color.button.text.primary:e.theme.ketcher.color.text.light,outline:e.primary&&!e.disabled?e.theme.ketcher.outline.selected.small:e.theme.ketcher.outline.grey.small}},""),q8=w("div",{target:"e18wzlbg3"})(function(e){return{position:"relative",borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:e.theme.ketcher.color.background.primary,boxShadow:e.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:e.selected?e.theme.ketcher.outline.selected.medium:"none",":hover":{outline:e.selected?void 0:e.theme.ketcher.outline.small}}},""),H8=w("span",{target:"e18wzlbg2"})(function(e){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:e.selected?e.theme.ketcher.outline.selected.color:e.theme.ketcher.outline.color}},""),U8=w(Sc,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),W8=w("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"}),ea=function(t){return t.size===0?"":t.size===1?ce(t)[0]:"[multiple]"},Ba=function(t){if(t!=null&&t.length){for(var r={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},n=0;n<t.length;n++)for(var o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i,s,l,u=a[o];((i=t[n])!==null&&i!==void 0&&i[u]||!((s=t[n])!==null&&s!==void 0&&s[u])&&t[n].type===lt.Nucleoside&&!t[n].isNucleosideConnectedAndSelectedWithPhosphate)&&r[u].add((l=t[n])===null||l===void 0?void 0:l[u])}return{Sugars:ea(r.sugarLabel),Bases:ea(r.baseLabel),Phosphates:ea(r.phosphateLabel)}}},G8=function(t){var r=Ba(t);return"".concat(r==null?void 0:r.Sugars,"(").concat(r==null?void 0:r.Bases,")").concat((r==null?void 0:r.Phosphates)||"")},gv=function(t){t(ev(null)),t(dt(!1))},xu=function(t){gv(t)},Qn=function(t,r){gv(t),t(ts([])),r.events.turnOffSequenceEditInRNABuilderMode.dispatch(),r.mode instanceof Ec&&r.mode.turnOffEditMode()},Xn=function(t){return t.filter(function(r){return r.type?r.type===lt.Nucleotide||r.type===lt.Nucleoside:r.node?r.node instanceof Ur||r.node instanceof Wr:!1}).length};function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var V8=function(t){var r=t.isEditMode,n=t.onDuplicate,o=[{groupName:G.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:G.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:G.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],a=hr(),i=O(Ao),s=O(es),l=O(Vf),u=O(oe),c=O(Po),d=O(w6),f=S.useState(i),p=L(f,2),h=p[0],m=p[1],y=O(Kf),g=O(b6),b=O(ot),C=S.useState(!1),x=L(C,2),M=x[0],A=x[1],E=S.useState(Ba(y)),k=L(E,2),N=k[0],T=k[1],I=Er()===ir.sequence,D=function(){if(d){var U=Dt[d.groupName],j=ht(ht({},h),{},q({},U,d.groupItem));return m(j),j}return h};S.useEffect(function(){m(i)},[i]),S.useEffect(function(){y&&(Xn(y)===1&&a(Xf(G8(y))),T(Ba(y)))},[a,y]),S.useEffect(function(){if(l!==be.Presets&&r)if(b&&d){var Y=Dt[d.groupName],U="".concat(Y,"Label"),j=y.map(function($e){return $e.isNucleosideConnectedAndSelectedWithPhosphate&&U==="phosphateLabel"||$e.type===lt.Phosphate&&(U==="sugarLabel"||U==="baseLabel")?$e:ht(ht({},$e),{},q(q({},U,d.groupItem.label),"rnaBaseMonomerItem",d.groupName==="Bases"?d.groupItem:$e.rnaBaseMonomerItem))});A(!0),a(ts(j))}else{var se=D(),Le=h==null?void 0:h.name;se.editedName||(Le=Yf(se)),m(ht(ht({},se),{},{name:Le}))}},[d==null?void 0:d.groupItem,b]);var _=function(U){if(U===be.Presets){Fa(h==null?void 0:h.name),h&&u.events.selectPreset.dispatch(h);return}var j=h[Dt[U]];j&&Q8(ze(j))},$=function(U){return function(){var j=Qo(h,U);j&&!I&&u.events.selectMonomer.dispatch(j),h[Dt[U]]&&a(Jf(ze(h[Dt[U]]))),a(zt(U)),a(rs({rnaPreset:h,isEditMode:r})),setTimeout(function(){return _(U)},100)}},F=function(U){if(r){var j=U.target.value;m(ht(ht({},h),{},{name:j.trim(),editedName:!0}))}},R=function(){Xn(y)>1?a(or("updateSequenceInRNABuilder")):(u.events.modifySequenceInRnaBuilder.dispatch(y),Qn(a,u))},z=function(){if(h!=null&&h.name){var U=c.find(function(j){return j.name===h.name});if(U&&i.nameInList!==U.name){a(os(h.name));return}a(P6(h)),a(rn(h)),I||u.events.selectPreset.dispatch(h),setTimeout(function(){Fa(h.name)},0),xu(a)}},H=function(){b?Qn(a,u):(m(i),xu(a))},W=function(){a(dt(!0))},Ce=function(U){var j,se;return d&&d.groupName===U?d.groupItem.label:((j=Qo(h,U))===null||j===void 0?void 0:j.label)||((se=Qo(h,U))===null||se===void 0?void 0:se.props.MonomerName)},Ge=function(U){return N?N[U]:""};S.useEffect(function(){var Y=function(j){j.key==="Escape"?(H(),j.preventDefault(),j.stopPropagation()):j.key==="Enter"&&(b?R():u.events.startNewSequence.dispatch({}),j.preventDefault(),j.stopPropagation())};return u==null||u.events.keyDown.add(Y),function(){u==null||u.events.keyDown.remove(Y)}},[u,y]);var ue;s&&!b?ue=v(Nr,{disabled:!uu(h),primary:!0,"data-testid":"add-to-presets-btn",onClick:z,children:"Add to Presets"}):r?ue=v(Nr,{primary:!0,disabled:b?!M:!1,"data-testid":"save-btn",onClick:b?R:z,children:b?"Update":"Save"}):ue=v(Nr,{"data-testid":"edit-btn",onClick:W,disabled:i.default,children:"Edit"});var vt=is();return P(R8,{"data-testid":"rna-editor-expanded",className:Nn(b&&"rna-editor-expanded--sequence-edit-mode"),children:[vt?v(B8,{value:b?g:h==null?void 0:h.name,placeholder:"Name your structure",disabled:b,onChange:F}):P(q8,{selected:l===be.Presets,onClick:function(){return $(be.Presets)},children:[r?v(U8,{value:b?g:h==null?void 0:h.name,placeholder:"Name your structure",disabled:b,onChange:F}):v(W8,{children:h==null?void 0:h.name}),v(H8,{selected:l===be.Presets})]}),v(F8,{compact:vt,children:o.map(function(Y){var U=Y.groupName,j=Y.iconName,se=Y.testId;return v(j8,{selected:l===U,groupName:U,monomerName:b?Ge(U):Ce(U),iconName:j,testid:se,onClick:$(U)},U)})}),P(z8,{children:[r?v(Nr,{"data-testid":"cancel-btn",onClick:H,children:"Cancel"}):v(Nr,{"data-testid":"duplicate-btn",disabled:!uu(h),onClick:function(){return n(h)},children:"Duplicate and Edit"}),ue]})]})},K8=w("div",{target:"e1ms1w5g2"})({name:"1tk8yx0",styles:"padding:8px"}),Y8=w("button",{target:"e1ms1w5g1"})("width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px;background-color:",function(e){return e.theme.ketcher.color.background.primary},";font-weight:",function(e){return e.theme.ketcher.font.weight.regular},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";border:none;border-radius:4px;text-transform:none;cursor:pointer;&.styled-header--sequence-edit-mode{background-color:",function(e){return e.theme.ketcher.color.editMode.sequenceInRNABuilder},";}&.styled-header--expanded,&.styled-header--active-preset{border-radius:4px 4px 0 0;}"),Z8=w(de,{target:"e1ms1w5g0"})("height:16px;width:16px;transform:",function(e){return e.expanded?"rotate(180deg)":"none"},";"),yv=function(t){var r=document.body.querySelector(t);r==null||r.scrollIntoView()},Fa=function(t){yv('[data-rna-preset-item-name="'.concat(t,'"]'))},Q8=function(t){yv('[data-monomer-item-id="'.concat(t,'"]'))},X8=function(t){var r=t.duplicatePreset,n=O(Ao),o=O(Pr),a=O(ot),i=Yf(n),s=ne(),l=S.useState(!1),u=L(l,2),c=u[0],d=u[1];S.useEffect(function(){if(n){(n.name||o)&&d(!0);return}s(ns()),s(zt(be.Presets))},[n]),S.useEffect(function(){s(rs({rnaPreset:n,isEditMode:o}))},[o]);var f=function(){d(!c),n!=null&&n.nameInList||s(dt(!0))};return P(K8,{"data-testid":"rna-editor",children:[P(Y8,{className:Nn(a&&"styled-header--sequence-edit-mode",c&&"styled-header--expanded",(n==null?void 0:n.name)&&"styled-header--active-preset"),onClick:f,"data-testid":"rna-builder-expand-button",children:["RNA Builder",v(Z8,{expanded:c,name:"chevron"})]}),n&&(c?v(V8,{isEditMode:o,onDuplicate:r}):v(S8,{name:n.name,fullName:i}))]})},J8=w("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),bv=function(t){var r=t.ketcher;return hc("scrollbar-width:thin;scrollbar-color:",r.color.scroll.regular," ",r.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",r.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",r.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",r.color.scroll.regular,";}","")},e7={expandButton:"Modal-module_expandButton__J1QYl"};function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function t7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var r7=w(Rh,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),n7=w(em,{target:"e45wfhi4"})(function(e){var t=e.theme;return{padding:"2px 4px 2px 12px;",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(t.ketcher.font.family.inter),fontSize:"".concat(t.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:"1px solid rgba(202, 211, 221, 1)"}},""),o7=w("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),Mu=w(de,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),xv=w(Zh,{target:"e45wfhi1"})("padding:0;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(e){var t=e.theme;return bv(t)},";"),wv=w(Hh,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(e){var t=e.theme,r=e.withborder;return r==="true"?t.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}"),X=function(t){var r=t.children,n=t.title,o=t.isOpen,a=t.showCloseButton,i=a===void 0?!0:a,s=t.showExpandButton,l=s===void 0?!1:s,u=t.onClose,c=t.className,d=t.modalWidth,f=t.expanded,p=f===void 0?!1:f,h=t.setExpanded,m=h===void 0?wt:h,y=t.testId,g=Bp(),b=S.useMemo(function(){return{testId:y,style:t7({background:g.ketcher.color.background.primary,borderRadius:"8px",color:g.ketcher.color.text.primary},l&&{margin:"auto",width:p?"100%":d,height:p?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})}},[g.ketcher.color.text.primary,g.ketcher.color.background.canvas,p]),C=S.useMemo(function(){return{style:{background:g.ketcher.color.background.overlay,opacity:.4}}},[g.ketcher.color.background.overlay]),x={Content:null,Footer:null};return Pt.Children.forEach(r,function(M){M.type===xv?x.Content=M:M.type===wv&&(x.Footer=M)}),P(r7,{BackdropProps:C,PaperProps:b,open:o,onClose:u,container:document.querySelector(Gt),disableEscapeKeyDown:!i,className:c,sx:{padding:"24px"},children:[n||i||l?P(n7,{children:[v(o7,{children:n}),P("span",{children:[l&&v(ys,{title:"expand window",className:e7.expandButton,onClick:function(){m(!p)},children:v(Mu,{name:p?"minimize-expansion":"expand"})}),i&&v(ys,{title:"Close window",onClick:u,"data-testid":"close-window-button",children:v(Mu,{name:"close"})})]})]}):"",x.Content,x.Footer]})};X.Content=xv;X.Footer=wv;var a7=w("div",{target:"e117eqk610"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Su=w(uh,{target:"e117eqk69"})({name:"u6kpdv",styles:"min-height:32px"}),i7=w("div",{target:"e117eqk68"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),Jn=w("div",{target:"e117eqk67"})("position:relative;width:100%;display:flex;flex-direction:column;gap:8px;justify-content:start;padding:",function(e){var t=e.compact;return t?"4px":"8px"},";"),s7=w("div",{target:"e117eqk66"})({name:"6imefc",styles:"flex-grow:1;min-height:0;background-color:#f7f9fa;border-radius:4px;margin:4px 8px;padding:4px;&.first-tab{border-radius:0 4px 4px 4px;}&.last-tab{border-radius:4px 0 4px 4px;}"}),l7=w("div",{target:"e117eqk65"})("height:100%;background-color:",function(e){var t=e.theme;return t.ketcher.color.tab.content},";border-radius:2px;overflow:auto;"),ls=w(no,{target:"e117eqk64"})("background-color:",function(e){var t=e.theme;return t.ketcher.color.button.transparent.active},";color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";border-color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";"),Cv=w("div",{target:"e117eqk63"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),u7=w("div",{target:"e117eqk62"})({name:"bimmx8",styles:"display:flex;justify-content:space-between;gap:8px;padding:6px 8px 0"}),c7=w("div",{target:"e117eqk61"})({name:"qnk899",styles:"position:relative;display:flex;align-items:center;&.rna-tab--selected{& button{border-radius:4px 4px 0 0;background-color:#f7f9fa;}&::after{content:'';position:absolute;bottom:-4px;left:0;right:0;height:8px;background-color:#f7f9fa;}}"}),d7=w(Ja,{target:"e117eqk60"})("height:24px;min-height:24px;min-width:24px;",function(e){var t=e.selected;return t?"min-width: 104px;":""}," display:flex;flex-direction:row;gap:4px;align-items:center;justify-content:center;padding:4px;",function(e){var t=e.selected;return t?"margin-top: -8px;":""}," font-weight:400;font-size:10px;border-radius:4px;background-color:white;opacity:",function(e){var t=e.selected;return t?1:.6},";text-transform:none;&:hover{background-color:#f3f8f9;}>svg{height:16px;width:16px;color:#b4b9d6;&.MuiTab-iconWrapper{margin:0;}}");function Au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Au(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var f7=function(t){var r=O(So),n=O(Eo),o=zf(r,t),a=La(o),i=KO(r),s=La(i);return S.useMemo(function(){return[{groupName:be.Presets,iconName:"preset",groups:[{groupItems:n}]},{groupName:G.SUGARS,iconName:"sugar",groups:a.filter(function(l){return Zo[l.groupTitle]===G.SUGARS})},{groupName:G.BASES,iconName:"base",groups:a.filter(function(l){return Zo[l.groupTitle]===G.BASES}).map(function(l){return Pu(Pu({},l),{},{groupItems:l.groupItems.filter(function(u){var c;return((c=u.props)===null||c===void 0?void 0:c.MonomerClass)!==st.RNA})})})},{groupName:G.PHOSPHATES,iconName:"phosphate",groups:a.filter(function(l){return Zo[l.groupTitle]===G.PHOSPHATES})},{groupName:G.NUCLEOTIDES,iconName:"nucleotide",groups:s}]},[a,n,s])},v7=function(t){var r=t.activeRnaBuilderItem,n=t.groupsData,o=t.onNewPresetClick,a=t.onSelectItem,i=t.duplicatePreset,s=t.editPreset,l=t.libraryName,u=hr(),c=O(Eo),d=O(So),f=O(Pr),p=O(es),h=O(Qf);return P(K,{children:[v(u7,{children:n.map(function(m){var y=m.groupName,g=m.groups,b=m.iconName,C=y===r,x=Jr(d,y),M=[].concat(ce(g),ce(x)).reduce(function(E,k){return E+(k.groupItems.length||0)},0),A=C?"".concat(y," (").concat(M,")"):null;return v(c7,{className:Nn(C&&"rna-tab--selected"),children:v(d7,{label:A,title:y,selected:C,icon:v(de,{name:b}),onClick:function(){return u(zt(y))},"data-testid":"summary-".concat(y)})},y)})}),n.map(function(m){var y=m.groupName,g=m.groups;if(y!==r)return null;var b=Jr(d,y),C=y===be.Presets?P(Jn,{compact:!0,children:[v(ls,{onClick:o,children:"New Preset"}),v(ss,{duplicatePreset:i,editPreset:s,presets:c}),f&&!p&&v(Cv,{})]}):v(Jn,{compact:!0,children:P(K,{children:[g.map(function(A){var E=A.groupItems,k=A.groupTitle;return v(pr,{title:g.length>1?k:void 0,groupName:y,items:E,selectedMonomerUniqueKey:h,onItemClick:function(T){return a(T,y)}},k)}),b.map(function(A){var E=A.groupTitle,k=A.groupItems;return v(pr,{title:E,items:k,libraryName:l,selectedMonomerUniqueKey:h,onItemClick:function(T){return a(T,y)}},E)})]})}),x=r===be.Presets,M=r===G.NUCLEOTIDES;return v(s7,{className:Nn(x&&"first-tab",M&&"last-tab"),children:v(l7,{children:C})},y)})]})},p7=S.memo(v7),h7=function(t){var r=t.groupName,n=t.quantity,o=t.expanded,a=t.iconName;return P(v8,{"data-testid":"summary-".concat(r),children:[v(Ra,{name:a}),P(p8,{children:[r," (",n,")"]}),v(Ra,{name:"chevron",expanded:o})]})},m7=function(t){var r=t.activeRnaBuilderItem,n=t.groupsData,o=t.newPreset,a=t.onNewPresetClick,i=t.onSelectItem,s=t.duplicatePreset,l=t.editPreset,u=t.libraryName,c=hr(),d=O(Eo),f=O(So),p=O(Pr),h=O(es),m=O(Qf),y=S.useState(r),g=L(y,2),b=g[0],C=g[1],x=function(A){b===A?C(null):(C(A),c(rs({rnaPreset:o,isEditMode:p})))};return S.useEffect(function(){C(r)},[r]),v(K,{children:n.map(function(M){var A=b===M.groupName,E=Jr(f,M.groupName),k=[].concat(ce(M.groups),ce(E)).reduce(function(I,D){return I+(D.groupItems.length||0)},0),N=v(h7,{iconName:M.iconName,groupName:M.groupName,quantity:k,expanded:A}),T=M.groupName===be.Presets?P(Jn,{children:[v(ls,{onClick:a,children:"New Preset"}),v(ss,{duplicatePreset:s,editPreset:l,presets:d}),p&&!h&&v(Cv,{})]}):v(Jn,{children:P(K,{children:[M.groups.map(function(I){var D=I.groupItems,_=I.groupTitle;return v(pr,{title:M.groups.length>1?_:void 0,groupName:M.groupName,items:D,selectedMonomerUniqueKey:m,onItemClick:function(F){return i(F,M.groupName)}},_)}),E.map(function(I){return v(pr,{title:I.groupTitle,items:I.groupItems,libraryName:u,selectedMonomerUniqueKey:m,onItemClick:function(_){return i(_,M.groupName)}},I.groupTitle)})]})});return M.groupName===be.Presets&&A?v(i7,{children:v(Su,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(M.groupName),summary:N,details:T,expanded:A,onSummaryClick:function(){return x(M.groupName)}})},M.groupName):v(Su,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(M.groupName),summary:N,details:T,expanded:A,onSummaryClick:function(){return x(M.groupName)}},M.groupName)})})},g7=S.memo(m7);function Eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var y7=function(t){var r=t.view,n=t.libraryName,o=t.duplicatePreset,a=t.editPreset,i=hr(),s=O(Vf),l=O(Ao),u=O(Pr),c=O(oe),d=O(ot),f=S.useState(l),p=L(f,2),h=p[0],m=p[1];S.useEffect(function(){i(zt(u&&l?s:be.Presets))},[u]);var y=f7(n),g=S.useCallback(function(){i(ns()),i(zt(be.Presets)),i(dt(!0))},[i]),b=S.useCallback(function(C,x){var M;if(i(Jf(ze(C))),!d&&!u&&c.events.selectMonomer.dispatch(C),!!u){var A=Se(C)?(M=C.monomers[0].monomerItem.props.MonomerClass)===null||M===void 0?void 0:M.toLowerCase():C.props.MonomerClass.toLowerCase(),E=Iu(Iu({},h),{},q({},A,C));m(E),i(ev({groupName:x,groupItem:C})),i(zt(x))}},[i,c,u,d,h]);return v(a7,{"data-testid":"rna-accordion",children:r==="tabs"?v(p7,{activeRnaBuilderItem:s,groupsData:y,onNewPresetClick:g,onSelectItem:b,libraryName:n,editPreset:a,duplicatePreset:o}):v(g7,{activeRnaBuilderItem:s,groupsData:y,newPreset:h,onNewPresetClick:g,onSelectItem:b,libraryName:n,editPreset:a,duplicatePreset:o})})},b7=function(t){var r=t.libraryName,n=t.duplicatePreset,o=t.editPreset,a=ne(),i=O(C6),s=O(M6),l=is(),u=function(){i.length>0&&a(os("")),s.length>0&&a(tv(""))};return P(J8,{children:[v(X8,{duplicatePreset:n}),v(y7,{libraryName:r,duplicatePreset:n,editPreset:o,view:l?"tabs":"accordion"}),P(X,{isOpen:!!i||!!s,title:"Error Message",onClose:u,children:[v(X.Content,{children:P("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),s&&'Preset with name "'.concat(s,`" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.`)]})}),v(X.Footer,{children:v(ls,{onClick:u,children:"Close"})})]})]})},x7=function(t,r){return[{caption:Xi,tooltip:"Favorites",component:Jo,testId:"FAVORITES-TAB",props:{libraryName:Bf,duplicatePreset:t,editPreset:r}},{caption:"Peptides",component:Jo,testId:"PEPTIDES-TAB",props:{libraryName:Hr.PEPTIDE}},{caption:"RNA",testId:"RNA-TAB",component:b7,props:{libraryName:Hr.RNA,duplicatePreset:t,editPreset:r}},{caption:"CHEM",component:Jo,testId:"CHEM-TAB",props:{libraryName:Hr.CHEM}}]};function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ta="_Copy",w7=function(t){var r=t.toggleLibraryVisibility,n=S.useRef([]),o=ne(),a=O(qf);S.useEffect(function(){o(au(""))},[o]),O(Po,function(d){return n.current=d,!0});var i=S.useCallback(function(d){o(au(d.target.value))},[o]),s=S.useCallback(function(d){var f="".concat(d==null?void 0:d.name).concat(ta),p;do p=n.current.find(function(y){return y.name===f}),p&&(f+=ta);while(p);if(p){o(os(f));return}var h=p?"".concat(f).concat(ta):f,m=Ou(Ou({},d),{},{name:h,nameInList:h,default:!1,favorite:!1});o(rn(m)),o(dt(!0)),Fa(d==null?void 0:d.name)},[o]),l=S.useCallback(function(d){o(rn(d)),o(dt(!0))},[o]),u=S.useMemo(function(){return x7(s,l)},[s,l]),c=S.useCallback(function(d,f){o(en(f))},[o]);return P(B6,{"data-testid":"monomer-library",children:[P(F6,{children:[P(z6,{children:[v(H6,{name:"search"}),v(U6,{type:"search","data-testid":"monomer-library-input",onChange:i,placeholder:"Search by name..."})]}),v(q6,{title:"Hide library",onClick:r,"data-testid":"hide-monomer-library",children:v(de,{name:"arrows-right"})})]}),v(cv,{tabs:u,selectedTabIndex:a,onChange:c})]})},C7=w("div",{target:"emj253a0"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.regular,position:"absolute",top:"12px",cursor:"pointer",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",lineHeight:1,userSelect:"none",backgroundColor:t.ketcher.color.button.primary.active,color:t.ketcher.color.button.text.primary,right:"12px",padding:"10px 8px",borderRadius:"4px","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}}}},""),M7=function(t){var r=t.onClick;return P(C7,{onClick:r,"data-testid":"show-monomer-library",children:[v("span",{className:"icon",children:v(de,{name:"arrows-left"})}),"Show Library"]})},S7=w("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(e){var t=e.theme;return t.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),ko=function(){return P(S7,{className:"loading-spinner",children:[v("span",{}),v("span",{}),v("span",{})]})},A7="file-thumbnail",P7=w("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),E7=w("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),I7=function(t){var r=t.fileName;return P(P7,{children:[r&&P(E7,{children:[v(de,{name:A7}),v("p",{children:r})]}),v(ko,{})]})},k7=["textLabel","iconName","disabled","disabledText"];function Tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var O7={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},T7=w(de,{target:"erk2iw51"})("filter:",function(e){var t=e.disabled;return t?"grayscale(1)":""},";opacity:",function(e){var t=e.disabled;return t?"0.6":"1"},";"),N7={backgroundColor:"#F8FEFFFF"},_7=w("div",{target:"erk2iw50"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),Nu=function(t){var r=t.textLabel,n=t.iconName,o=t.disabled,a=t.disabledText,i=Xa(t,k7),s=ih(Qt({multiple:!1,noClick:!0,disabled:o},i)),l=s.getRootProps,u=s.getInputProps,c=s.isDragActive,d=s.open,f=S.useMemo(function(){return Qt(Qt({},O7),c?N7:{})},[c]);return P("div",Qt(Qt({},l({style:f})),{},{onClick:d,children:[v("input",Qt({},u())),v(T7,{name:n,disabled:o}),o?v($7,{children:a}):P(K,{children:[v(_7,{children:r&&v("span",{children:r})}),v(Mv,{children:"Open from file"})]})]}))},ra={PASTE:"open-window-paste-icon",FILE:"open-window-upload-icon",IMAGE:"image-frame"},Mv=w("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),$7=w("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),D7=w("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),na=w("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(e){var t=e.theme;return t.ketcher.color.button.primary.active},";}"),L7=function(t){var r=t.selectClipboard,n=t.fileLoadHandler,o=t.errorHandler;return P(D7,{children:[P(na,{"data-testid":"paste-from-clipboard-button",onClick:r,children:[v(de,{name:ra.PASTE}),v(Mv,{children:"Paste from clipboard"})]}),v(na,{"data-testid":"open-from-file-button",children:v(Nu,{onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:ra.FILE})}),v(na,{"data-testid":"open-from-image-button",children:v(Nu,{accept:"image/*",onDropAccepted:n,onDropRejected:function(i){return o("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:ra.IMAGE,disabled:!0,disabledText:"Image Recognition service is not available"})})]})},j7=w("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(e){var t=e.theme;return t.ketcher.color.input.text.active},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";background-color:",function(e){var t=e.theme,r=e.readOnly;return r?t.ketcher.color.input.background.disabled:t.ketcher.color.input.background.primary},";",function(e){var t=e.theme;return bv(t)},";"),Sv=function(t){var r=t.value,n=t.inputHandler,o=t.readonly,a=o===void 0?!1:o,i=t.selectOnInit,s=i===void 0?!1:i,l=t.className,u=t.testId,c=S.useRef(null);return S.useEffect(function(){if(s){var d;(d=c.current)===null||d===void 0||d.select()}},[c,r,s]),v(j7,{value:r,readOnly:a,onChange:n&&function(d){return n(d.target.value)},ref:c,className:l,"data-testid":u})};function _u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_u(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_u(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var R7=w(Sv,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),B7=function(t){if(t.isAnalyzingFile)return v(I7,{fileName:t.fileName});switch(t.currentState){case t.states.openOptions:return v(L7,$u({},t));case t.states.textEditor:return v(R7,$u({testId:"open-structure-textarea"},t));default:return null}},F7=["label","clickHandler","children","styleType"];function Du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Du(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Du(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Av={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},z7=w(Oc,{target:"ejign8b1"})(function(e){var t=e.theme;return{backgroundColor:t.ketcher.color.button.primary.active,border:"1px solid ".concat(t.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:t.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:t.ketcher.color.button.primary.hover},"&:disabled":{background:t.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},Av,""),q7=w(Oc,{target:"ejign8b0"})(function(e){var t=e.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(t.ketcher.color.button.secondary.active),color:t.ketcher.color.button.secondary.active,fontWeight:t.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(t.ketcher.color.button.secondary.hover),color:t.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(t.ketcher.color.button.secondary.disabled),color:t.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(t.ketcher.color.button.secondary.clicked),color:t.ketcher.color.button.secondary.clicked}}},Av,""),_e=function(t){var r=t.label,n=t.clickHandler,o=t.children,a=t.styleType,i=Xa(t,F7);return a==="secondary"?v(q7,yn(yn({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r})):v(z7,yn(yn({onClick:n,title:i.title||r,role:"button"},i),{},{children:o||r}))};function H7(){return new Promise(function(e,t){ca.FileReader?e(U7):t(new Error("Your browser does not support opening files locally"))})}function U7(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){var o=n.result;e.msClose&&e.msClose(),t(o)},n.onerror=function(o){r(o)},n.readAsText(e,"UTF-8")})}var W7=w("div",{target:"efvrr8x1"})("position:relative;padding:",function(e){var t=e.currentState;return t===gt.openOptions?"10px 12px":"0"},";");w(_e,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"});w(de,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var G7=w(de,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),V7=function(t){var r=t.className;return v(G7,{name:"chevron",className:r})};function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var K7=w(am,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),Y7={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},Z7=w(Xp,{target:"e944g1i1"})("height:24px;border:1px solid #e1e5ea;border-radius:4px;font-size:14px;background-color:white;",function(e){var t=e.open;return t&&Y7}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;}& span{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),Q7={width:"120px",backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},X7=w(Qp,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:14px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}"),Pv=function(t){var r=t.options,n=t.currentSelection,o=t.selectionHandler,a=t.className,i=t.label,s=t.testId,l=t.customStylesForExpanded,u=l===void 0?{}:l,c=t.disabled,d=c===void 0?!1:c,f=S.useState(!1),p=L(f,2),h=p[0],m=p[1],y=function(M){var A=r.filter(function(E){return E.id===M})[0];return v("span",{children:A.label})},g=function(M){o(M.target.value)},b=function(M){M.type!=="keydown"&&m(!0)},C=function(){m(!1)};return P(K7,{className:a,children:[i&&v("label",{htmlFor:"fileformat",children:"File format:"}),v(Z7,{value:n,onChange:g,open:h,onOpen:b,onClose:C,renderValue:y,IconComponent:V7,disabled:d,fullWidth:!0,"data-testid":s||"dropdown-select",MenuProps:{PaperProps:{style:ju(ju({},Q7),u)},MenuListProps:{style:{padding:"0"}}},children:r.map(function(x){return v(X7,{value:x.id,"data-testid":"".concat(x.label,"-option"),children:v(um,{primary:x.label})},x.id)})})]})},J7=w("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),e9=w("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),Ev=w(Pv,{target:"el6v3ot3"})(function(e){var t=e.theme;return{width:"calc(50% - 6px)",height:"28px","& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(t.ketcher.color.input.border.regular),backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,fontFamily:t.ketcher.font.family.inter}}},""),za={border:"none"},Iv=w("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),t9=w("div",{target:"el6v3ot1"})(function(e){var t=e.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(t.ketcher.color.input.border.regular)}},""),r9=w("div",{target:"el6v3ot0"})(function(e){var t=e.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),n9=w(X,{target:"e1oaegu38"})(function(e){var t=e.modalWidth;return`
    .MuiPaper-root {
      width: `.concat(t,`;
      max-width: `).concat(t,`;
    }`)},""),o9=w("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),a9=w("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),us=w(Ev,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),i9=w(us,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),s9=w(us,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),l9=w(us,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),u9=w("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),Ru=w(_e,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),qa="ket",In="seq",Ha="rna",kv="peptide",Ov="fasta",Tv="one-letter",Ua="three-letter",Bu=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"helm",label:"HELM"}],c9=[{id:Ha,label:"RNA"},{id:"dna",label:"DNA"},{id:kv,label:"Peptide"}],d9=[{id:Tv,label:"1-letter code"},{id:Ua,label:"3-letter code"}],oa=eh,gt={openOptions:"openOptions",textEditor:"textEditor"},Fu=function(t){var r=t.ketSerializer,n=t.editor,o=t.struct,a=!n.drawingEntitiesManager.hasDrawingEntities,i=r.deserializeToDrawingEntities(o);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var s=i.drawingEntitiesManager.mergeInto(n.drawingEntitiesManager),l=s.command,u=new kc(n),c=n.mode instanceof Ec,d=n.mode instanceof sh,f=n.mode instanceof lh;f&&(n.drawingEntitiesManager.recalculateAntisenseChains(),n.drawingEntitiesManager.hasAntisenseChains&&(l.merge(n.drawingEntitiesManager.applySnakeLayout(n.canvas.width.baseVal.value,!0,!0,!0)),l.setUndoOperationsByPriority())),n.drawingEntitiesManager.detectBondsOverlappedByMonomers(),n.renderersContainer.update(l),u.update(l),c&&(l.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:ir.sequence,mergeWithLatestHistoryCommand:!0})),d&&(l.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:ir.snake,mergeWithLatestHistoryCommand:!0})),a&&n.zoomToStructuresIfNeeded()},zu=function(){var e=ro(Ee.mark(function t(r){var n,o,a,i,s,l,u,c,d,f,p,h,m,y,g,b,C,x;return Ee.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(n=r.struct,o=r.formatSelection,a=r.additionalSelection,i=r.peptideLettersFormatSelection,s=r.onCloseCallback,l=r.setIsLoading,u=r.dispatch,c=o===qa,d=o===In,f=o===Ov,p=new kn,h=ao.provideEditorInstance(),y=n,g=function(k){var N="Convert error! "+k;u(tn({errorMessage:N,errorTitle:d||f?"Unsupported symbols":""}))},!c){A.next=13;break}try{Fu({struct:n,ketSerializer:p,editor:h}),s()}catch{g("Error during file parsing.")}return A.abrupt("return");case 13:f||d&&i!==Ua?(m=oa[o][a],y=y.toUpperCase()):d&&i===Ua?m=oa.seq.peptide3Letter:m=oa[o];case 14:return b=Qa.getIndigo(),A.prev=15,l(!0),A.next=19,b.convert({struct:y,output_format:Ot.KET,input_format:m});case 19:C=A.sent,Fu({struct:C.struct,ketSerializer:p,editor:h}),s(),A.next=29;break;case 24:A.prev=24,A.t0=A.catch(15),x=typeof A.t0=="string"?A.t0:JSON.stringify(A.t0),g(x),Gr.error(A.t0);case 29:return A.prev=29,l(!1),A.finish(29);case 32:case"end":return A.stop()}},t,null,[[15,24,29,32]])}));return function(r){return e.apply(this,arguments)}}(),qu=!1,Hu=function(t){},f9=function(t){var r=t.isModalOpen,n=t.onClose,o=ne(),a=S.useState(""),i=L(a,2),s=i[0],l=i[1],u=S.useState(""),c=L(u,2),d=c[0],f=c[1],p=S.useState(!1),h=L(p,2),m=h[0],y=h[1],g=S.useState(),b=L(g,2),C=b[0],x=b[1],M=S.useState(gt.openOptions),A=L(M,2),E=A[0],k=A[1],N=S.useState(qa),T=L(N,2),I=T[0],D=T[1],_=S.useState(Ha),$=L(_,2),F=$[0],R=$[1],z=S.useState(Tv),H=L(z,2),W=H[0],Ce=H[1];S.useEffect(function(){var j=d==null?void 0:d.split("."),se=j[j.length-1];if(se){var Le=Bu.find(function(Oo){return Oo.id===se}),$e=Le!=null&&Le.id?Le.id:In;D($e)}},[d]),S.useEffect(function(){H7().then(function(j){x({chosenOpener:j})})},[]);var Ge=S.useCallback(function(){k(gt.openOptions),l(""),D(qa),R(Ha),n()},[n]),ue=function(se){var Le=function(Zv){l(Zv),k(gt.textEditor)},$e=function(){return Hu()};f(se[0].name),C==null||C.chosenOpener(se[0]).then(Le,$e)},vt=function(){zu({struct:s,formatSelection:I,additionalSelection:F,peptideLettersFormatSelection:W,onCloseCallback:Ge,setIsLoading:y,dispatch:o})},Y=function(){var se=ao.provideEditorInstance(),Le=new kc(se),$e=se.drawingEntitiesManager.deleteAllEntities();Le.update($e),se.renderersContainer.update($e),se.zoomToStructuresIfNeeded(),zu({struct:s,formatSelection:I,additionalSelection:F,peptideLettersFormatSelection:W,onCloseCallback:Ge,setIsLoading:y,dispatch:o})},U=function(){return P(o9,{children:[P(a9,{children:[v(i9,{options:Bu,currentSelection:I,selectionHandler:D,customStylesForExpanded:za},I),I===In||I===Ov?v(s9,{options:c9,currentSelection:F,selectionHandler:R,customStylesForExpanded:za,testId:"dropdown-select-type"},F):null,I===In&&F===kv?v(l9,{options:d9,currentSelection:W,selectionHandler:Ce,testId:"dropdown-select-peptide-letters-format"}):null]}),P(u9,{children:[v(Ru,{disabled:!s,clickHandler:Y,label:"Open as New",styleType:"secondary","data-testid":"open-as-new-button"},"openButton"),v(Ru,{disabled:!s,clickHandler:vt,label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})};return P(n9,{isOpen:r,title:"Open Structure",onClose:Ge,modalWidth:E===gt.textEditor?"620px":"",children:[v(X.Content,{children:P(W7,{currentState:E,children:[v(B7,{isAnalyzingFile:qu,fileName:d,currentState:E,states:gt,selectClipboard:function(){return k(gt.textEditor)},fileLoadHandler:ue,errorHandler:Hu,value:s,inputHandler:l}),m&&v(Iv,{children:v(ko,{})})]})}),E===gt.textEditor&&!qu?v(X.Footer,{withborder:"true",children:U()}):v(K,{})]})},v9=["value","id","onChange","label","type","className","inputClassName"];function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function p9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var h9=w("label",{target:"e10m4n7r1"})(function(e){var t=e.theme;return{display:"flex",flexDirection:"column",marginRight:"8px",color:t.ketcher.color.text.primary,fontSize:"12px"}},""),m9=w("input",{target:"e10m4n7r0"})(function(e){var t=e.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(t.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:t.ketcher.color.input.background.primary,color:t.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:t.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)}}},""),Nv=function(t){var r=t.value,n=t.id,o=t.onChange,a=t.label,i=t.type,s=t.className,l=t.inputClassName,u=Xa(t,v9),c=function(f){o(f.target.value)};return v(K,{children:P(h9,{htmlFor:n,className:s,children:[a&&v("span",{children:a}),v(m9,p9({type:i||"text",id:n,value:r,className:l,onChange:c},u))]})})},Ke;(function(e){e.Ket="chemical/x-ket",e.Mol="chemical/x-mdl-molfile",e.HELM="chemincal/x-helm",e.Fasta="chemical/x-fasta",e.Sequence="chemical/x-sequence",e.Idt="chemical/x-idt",e.Svg="image/svg+xml"})(Ke||(Ke={}));var mt=Ac(function e(t,r,n,o,a){Tc(this,e),this.name=t,this.mime=r,this.extensions=n,this.supportsCoords=o||!1,this.options=a||{}}),g9={ket:new mt("Ket file",Ke.Ket,[".ket"],!0,{}),mol:new mt("MDL Molfile V3000",Ke.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new mt("FASTA",Ke.Fasta,[".fasta"],!1,{}),sequence:new mt("SEQUENCE",Ke.Sequence,[".seq"],!1,{}),"sequence-3-letter":new mt("SEQUENCE (3-letter code)",Ke.Sequence,[".seq"],!1,{}),idt:new mt("IDT",Ke.Idt,[".idt"],!1,{}),helm:new mt("HELM",Ke.HELM,[".helm"]),svg:new mt("SVG Document",Ke.Svg,[".svg"])},Wu=function(t){return g9[t]},y9=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],b9={mol:Ot.Mol,fasta:Ot.FASTA,sequence:Ot.SEQUENCE,"sequence-3-letter":Ot.PeptideSequenceThreeLetter,idt:Ot.IDT,helm:Ot.HELM},x9=w(X,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),w9=function(t){var r=t.onClose,n=t.isModalOpen,o=ne(),a=S.useState("ket"),i=L(a,2),s=i[0],l=i[1],u=S.useState("ketcher"),c=L(u,2),d=c[0],f=c[1],p=S.useState(""),h=L(p,2),m=h[0],y=h[1],g=S.useState(!1),b=L(g,2),C=b[0],x=b[1],M=S.useState(),A=L(M,2),E=A[0],k=A[1],N=Qa.getIndigo(),T=ao.provideEditorInstance(),I=function(){var F=ro(Ee.mark(function R(z){var H,W,Ce,Ge,ue,vt,Y;return Ee.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(l(z),H=new kn,W=H.serialize(T.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),T.drawingEntitiesManager),k(void 0),z!=="ket"){j.next=7;break}return y(W),j.abrupt("return");case 7:if(z!=="svg"){j.next=11;break}return Ce=gs(T.canvas,"preview"),k(Ce),j.abrupt("return");case 11:if(j.prev=11,x(!0),!(z==="fasta"||z==="sequence")){j.next=17;break}if(Ge=T.drawingEntitiesManager.validateIfApplicableForFasta(),Ge){j.next=17;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 17:return j.next=19,N.convert({struct:W,output_format:b9[z]});case 19:ue=j.sent,y(ue.struct),j.next=30;break;case 23:j.prev=23,j.t0=j.catch(11),j.t0 instanceof Error?vt=j.t0.message:vt=typeof j.t0=="string"?j.t0:JSON.stringify(j.t0),Y="Convert error! "+vt,o(tn(Y)),Gr.error(Y),l("ket");case 30:return j.prev=30,x(!1),j.finish(30);case 33:case"end":return j.stop()}},R,null,[[11,23,30,33]])}));return function(z){return F.apply(this,arguments)}}(),D=function(R){f(R)},_=function(){var R;if(s==="svg"){var z=gs(T.canvas,"file");if(!z){r();return}R=z}else R=m;var H=new Blob([R],{type:Wu(s).mime}),W=Wu(s);Vp.saveAs(H,"".concat(d).concat(W.extensions[0])),r()},$=function(R){R.preventDefault();try{Kp()?navigator.clipboard.writeText(m):Yp(R.clipboardData,{"text/plain":m})}catch(z){Gr.error("copyAs.js::copyAs",z),o(tn("This feature is not available in your browser"))}};return S.useEffect(function(){if(s==="ket"){var F=new kn,R=F.serialize(T.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),T.drawingEntitiesManager);y(R)}},[s]),P(x9,{title:"save structure",isOpen:n,onClose:r,testId:"save-structure-dialog",children:[v(X.Content,{children:P(J7,{onSubmit:_,id:"save",children:[P(e9,{style:{padding:"12px 12px 10px"},children:[v("div",{children:v(Nv,{value:d,id:"filename",onChange:D,label:"File name:","data-testid":"filename-input"})}),v(Ev,{label:"File format:",options:y9,currentSelection:s,selectionHandler:I,customStylesForExpanded:za,testId:"file-format-list"})]}),E?v(t9,{dangerouslySetInnerHTML:{__html:E},"data-testid":"preview-area"}):P(r9,{children:[v(Sv,{testId:"preview-area",value:m,readonly:!0}),v(eo,{onClick:$,iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),C&&v(Iv,{children:v(ko,{})})]})]})}),P(X.Footer,{children:[v(_e,{label:"Cancel",styleType:"secondary",clickHandler:r,"data-testid":"cancel-button"}),v(_e,{label:"Save",clickHandler:_,disabled:!d,"data-testid":"save-button"})]})]})},Gu=w(_e,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),C9=w("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),M9=function(t){var r=t.isModalOpen,n=t.onClose,o=ne(),a=O(Zf),i=O(oe),s=S.useCallback(function(){n()},[n]),l=function(){s()},u=function(){s(),o(E6(a)),o(dt(!1)),o(ns()),i.events.selectPreset.dispatch(null)};return P(X,{isOpen:r,title:"Delete RNA Preset",onClose:s,children:[v(X.Content,{children:P(C9,{"data-testid":"delete-preset-popup-content",children:[v("div",{children:"You are about to delete"}),P("div",{children:['"',a.name,'" RNA preset.']}),v("div",{children:"This operation cannot be undone."})]})}),P(X.Footer,{children:[v(Gu,{clickHandler:l,label:"Cancel",styleType:"secondary"},"cancel"),v(Gu,{clickHandler:u,label:"Delete"},"delete")]})]})},S9=w("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),A9=function(t){var r=t.isModalOpen,n=t.onClose,o=ne(),a=O(Kf),i=O(oe),s=Xn(a),l=S.useCallback(function(){n()},[n]),u=function(){Qn(o,i)},c=function(){l()},d=function(){l(),i.events.modifySequenceInRnaBuilder.dispatch(a),u()};return P(X,{isOpen:r,title:"Update sequence",onClose:l,children:[v(X.Content,{children:P(S9,{children:["You are going to modify ",s," nucleotides. Are you sure?"]})}),P(X.Footer,{children:[v(_e,{clickHandler:c,label:"Cancel",styleType:"secondary"},"cancel"),v(_e,{clickHandler:d,label:"Yes"},"update")]})]})},P9=w("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),E9=w("span",{target:"e1tvvbc91"})(function(e){return{margin:0,padding:0,textAlign:"center",display:"block",font:e.theme.ketcher.font.family.inter,fontSize:e.theme.ketcher.font.size.small,fontWeight:e.theme.ketcher.font.weight.regular,color:e.disabled?"rgba(180, 185, 214, 1)":e.theme.ketcher.color.text.light}},""),I9=w("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),_v=function(t){return t==="O"?"OH":t},k9=w(Nc,{target:"e1huhxto1"})(function(e){var t=e.theme,r=e.isExpanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),O9=w("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),T9=w("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),$v=function(){return P(T9,{children:[v(de,{name:"questionMark"}),"Unknown structure"]})},N9=w("div",{target:"e1q9gayd0"})(function(e){var t=e.theme,r=e.expanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),_9=function(t){var r=t.monomer,n=t.expanded,o=t.selectedAttachmentPoint,a=t.connectedAttachmentPoints,i=t.usage,s=S.useRef(null);return S.useLayoutEffect(function(){var l=s.current;if(l){var u=Lr(l);if(r instanceof Je){var c=(l.width.baseVal.value-l.x.baseVal.value)/2,d=(l.height.baseVal.value-l.y.baseVal.value)/2,f=new nh(c,d),p=oh.canvasToModel(f),h=new Je(r.variantMonomerItem,p),m=new ah(h);m.showExternal({canvas:u,usage:i,selectedAttachmentPoint:o,connectedAttachmentPoints:a})}}},[o,a]),v(N9,{expanded:n,children:v("svg",{ref:s})})},Wa=function(t){var r=t.monomer,n=t.attachmentPoints,o=t.connectedAttachmentPoints,a=t.selectedAttachmentPoint,i=t.usage,s=t.needCache,l=t.update,u=t.expanded,c=r instanceof Je,d=r.monomerItem.props.unresolved;return P(K,{children:[c?v(_9,{monomer:r,expanded:u,selectedAttachmentPoint:a,connectedAttachmentPoints:o,usage:i}):d?v($v,{}):v(k9,{struct:r.monomerItem.struct,options:{connectedMonomerAttachmentPoints:o,currentlySelectedMonomerAttachmentPoint:a??void 0,usageInMacromolecule:i,labelInMonomerConnectionsModal:!0,needCache:s??!1},update:l,isExpanded:u}),v(O9,{children:n})]})},Vu=w("div",{target:"e14t14ao2"})(function(e){var t=e.theme,r=e.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:t.ketcher.font.family.inter,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:r?void 0:"150px"}},""),$9=w("div",{target:"e14t14ao1"})(function(e){var t=e.theme;return{width:10,height:2,display:"block",color:t.ketcher.color.button.secondary.hover,backgroundColor:t.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),D9=w("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),Ku=function(t){return t instanceof Je?"Ambiguous ".concat(t.monomerClass):t.monomerItem.props.Name},Dv=function(t){var r=t.firstMonomer,n=t.secondMonomer,o=t.expanded,a=t.firstMonomerOverview,i=t.secondMonomerOverview,s=Ku(r),l=Ku(n);return P(D9,{children:[v(Vu,{isExpanded:o,children:s}),a,v("span",{}),v($9,{}),v("span",{}),v(Vu,{isExpanded:o,children:l}),i]})};function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function L9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var j9=w(X,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),R9=w(_e,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),B9=w(_e,{target:"e1byht5d1"})(function(e){return{width:"97px !important",color:e.disabled?"rgba(51, 51, 51, 0.6)":"",background:e.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),F9=w(_e,{target:"e1byht5d0"})(function(e){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(e.theme.ketcher.color.border.secondary),color:e.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:e.disabled?"rgba(225, 229, 234)":"",borderColor:e.disabled?"rgba(225, 229, 234) !important":""}},""),z9=function(t){var r=t.onClose,n=t.isModalOpen,o=t.firstMonomer,a=t.secondMonomer,i=t.polymerBond,s=t.isReconnectionDialog,l=O(oe),u=S.useRef(i==null?void 0:i.firstMonomerAttachmentPoint),c=S.useRef(i==null?void 0:i.secondMonomerAttachmentPoint),d=S.useRef((o==null?void 0:o.hasFreeAttachmentPoint)||(a==null?void 0:a.hasFreeAttachmentPoint));if(!o||!a)throw new Error("Monomers must exist!");var f=S.useState(u.current||Qu(o)),p=L(f,2),h=p[0],m=p[1],y=S.useState(c.current||Qu(a)),g=L(y,2),b=g[0],C=g[1],x=S.useState(!1),M=L(x,2),A=M[0],E=M[1],k=function(){if(s){var I;i==null||i.firstMonomer.setBond(u.current,i),i==null||(I=i.secondMonomer)===null||I===void 0||I.setBond(c.current,i),r()}else l.events.cancelBondCreationViaModal.dispatch(a),r()},N=function(){if(!h||!b)throw new Error("Attachment points cannot be falsy");if(h===u.current&&b===c.current){k();return}l.events.createBondViaModal.dispatch({firstMonomer:o,secondMonomer:a,firstSelectedAttachmentPoint:h,secondSelectedAttachmentPoint:b,polymerBond:i,isReconnection:s,initialFirstMonomerAttachmentPoint:u.current,initialSecondMonomerAttachmentPoint:c.current}),r()};return P(j9,{title:s?"Edit Connection Points":"Select connection points",isOpen:n,onClose:k,showExpandButton:!0,modalWidth:"358px",expanded:A,setExpanded:E,children:[v(X.Content,{children:v(I9,{children:v(Dv,{firstMonomer:o,secondMonomer:a,expanded:A,firstMonomerOverview:v(Zu,{monomer:o,selectedAttachmentPoint:h,onSelectAttachmentPoint:m,expanded:A}),secondMonomerOverview:v(Zu,{monomer:a,selectedAttachmentPoint:b,onSelectAttachmentPoint:C,expanded:A})})})}),P(X.Footer,{children:[v(R9,{label:"Cancel",styleType:"secondary",clickHandler:k}),v(B9,{label:s?"Reconnect":"Connect",disabled:!h||!b||!d.current,clickHandler:N})]})]})};function Zu(e){var t=e.monomer,r=e.selectedAttachmentPoint,n=e.onSelectAttachmentPoint,o=e.expanded,a=o===void 0?!1:o,i=S.useState(t.attachmentPointsToBonds),s=L(i,2),l=s[0],u=s[1],c=S.useState(function(){return Xo(l)}),d=L(c,2),f=d[0],p=d[1];S.useEffect(function(){u(t.attachmentPointsToBonds)},[r]),S.useEffect(function(){var y=Xo(l);p(y)},[l]);var h=function(g){var b=t.monomerCaps,C=t instanceof Je;if(!b)return C?null:"H";var x=b[g];return _v(x)},m=function(g){var b=L9({},t.attachmentPointsToBonds),C=r?b[r]:null;r&&C&&t.removeBond(C);var x=t.getPotentialBond(g);b[g]=x,u(b),n(g);var M=Xo(b);p(M)};return v(Wa,{monomer:t,connectedAttachmentPoints:f,selectedAttachmentPoint:r,usage:Tn.MonomerConnectionsModal,update:a,expanded:a,attachmentPoints:t.listOfAttachmentPoints.map(function(y){var g=!!(f.includes(y)&&y!==r);return P(P9,{children:[v(F9,{label:y,styleType:y===r?"primary":"secondary",clickHandler:function(){return m(y)},disabled:g}),v(E9,{"data-testid":"leaving-group-value",disabled:g,children:h(y)})]},y)})})}function Qu(e){if(e.chosenFirstAttachmentPointForBond)return e.chosenFirstAttachmentPointForBond;if(e.chosenSecondAttachmentPointForBond)return e.chosenSecondAttachmentPointForBond;var t=Object.entries(e.attachmentPointsToBonds).filter(function(o){var a=L(o,2);a[0];var i=a[1];return i==null});if(t.length===1){var r=L(t[0],1),n=r[0];return n}return null}var q9=w("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),H9=function(t){var r=t.title,n=t.confirmationText,o=t.onConfirm,a=t.isModalOpen,i=t.onClose,s=function(){o(),i()};return P(X,{isOpen:a,title:r||"Confirm your action",onClose:i,children:[v(X.Content,{children:v(q9,{children:n})}),P(X.Footer,{children:[v(_e,{label:"Cancel",clickHandler:i}),v(_e,{label:"Yes",clickHandler:s,styleType:"secondary"})]})]})},Lv={open:f9,save:w9,delete:M9,updateSequenceInRNABuilder:A9,monomerConnection:z9,confirmationDialog:H9};function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function U9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var W9=function(){var t=O(i6),r=O(a6),n=O(s6),o=ne(),a=S.useCallback(function(){o(r6())},[o]);if(!r)return null;var i=Lv[r];if(!i)throw new Error("There is no modal window named ".concat(r));return n?v(i,U9({onClose:a,isModalOpen:t},n)):v(i,{onClose:a,isModalOpen:t})},G9=w("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),V9=w("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),K9=w(eo,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),Y9=function(){return P(K,{children:[v("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:v("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75",fill:"#F5F6F7"})}),v("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:v("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})})]})},Z9=function(){return P(K,{children:[v("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:v("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),P("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[v("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),v("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:v("path",{xmlns:"http://www.w3.org/2000/svg",d:`M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 
           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515
           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382
           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z`,fillOpacity:"0.6"})})]})},Q9=function(){return P(K,{children:[v("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),v("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:v("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),v("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),v("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:v("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})})]})},X9=function(){return P(K,{children:[v("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),v("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:v("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),v("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),v("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:v("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})})]})},J9=function(){return P(K,{children:[v("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:v("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),v("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:v("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),v("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:v("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),v("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:v("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})})]})},eT=function(){return P(K,{children:[P("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[v("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),v("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),v("symbol",{id:"unresolved-monomer-hover",children:v("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})})]})},tT=function(){return P(K,{children:[v("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:v("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),v("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:v("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})})]})},rT=function(){return P(K,{children:[v("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),v("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:v("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),v("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:v("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},nT=function(){return v(K,{children:v("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:v("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})})},oT=w("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),aT=function(){var t=ne(),r=O(u6),n=O(c6)||"Error message",o=r!=="",a=function(){t(o6())};return P(X,{isOpen:o,title:n,onClose:a,children:[v(X.Content,{children:v(oT,{children:r})}),v(X.Footer,{children:v(_e,{label:"Close",clickHandler:a})})]})},iT=w("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),sT=w("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),lT=w("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),uT=w("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),
      auto
    `},"&.handCursorGrabbing":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),
      auto
    `}}},"");function cT(){var e=gc.getKetcher(),t=S.useState(!1),r=L(t,2),n=r[0],o=r[1],a=S.useCallback(function(){return o(!0)},[o]),i=S.useCallback(function(){return o(!1)},[o]);return S.useEffect(function(){return e.eventBus.addListener(Yt.LOADING,a),e.eventBus.addListener(Yt.SUCCESS,i),e.eventBus.addListener(Yt.FAILURE,i),function(){e.eventBus.removeListener(Yt.LOADING,a),e.eventBus.removeListener(Yt.SUCCESS,i),e.eventBus.removeListener(Yt.FAILURE,i)}},[e.eventBus,i,a]),n}function Ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ju(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ju(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dT(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=fT(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){i=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function fT(e,t){if(e){if(typeof e=="string")return tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tc(e,t)}}function tc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vT(){var e=ne(),t=O(oe);S.useEffect(function(){if(t){var r=t.monomersLibrary,n=t.defaultRnaPresetsLibraryItems,o=ce(hu(r,n,!0)),a=vr(),i=[],s=o.map(function(p){return p.name});if(a){var l=dT(a),u;try{for(l.s();!(u=l.n()).done;){for(var c=u.value,d=0,f=c.name;s.includes(f);)d++,f="".concat(c.name).concat("_Copy".repeat(d));f!==c.name&&Wf(ec(ec({},c),{},{name:f}))}}catch(p){l.e(p)}finally{l.f()}a=vr(),i=hu(r,a)}return e(ja(r)),e(QO(null)),e(I6(o)),a&&e(k6(i)),e(N6()),function(){e(ja([])),e(_6())}}},[t])}var pT=w("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),hT=function(){return v(pT,{children:v(ko,{})})},mT=function(t){t.requestFullscreen&&t.requestFullscreen()||t.msRequestFullscreen&&t.msRequestFullscreen()||t.mozRequestFullScreen&&t.mozRequestFullScreen()||t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},gT=function(){document.exitFullscreen&&document.exitFullscreen()||document.msExitFullscreen&&document.msExitFullscreen()||document.mozCancelFullScreen&&document.mozCancelFullScreen()||document.webkitExitFullscreen&&document.webkitExitFullscreen()},yT=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},bT=w("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),xT=function(t){var r=S.useState(yT()),n=L(r,2),o=n[0],a=n[1],i=function(){var l=document.querySelector(Gt)||document.documentElement;o?gT():mT(l),a(!o)};return v(bT,{className:t.className,children:v(eo,{onClick:i,iconName:o?"fullscreen-exit":"fullscreen-enter",testId:"fullscreen-mode-button"})})},jv=function(){return Pt.useContext(as)},wT=w(eo,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function cs(){var e;(e=document.activeElement)===null||e===void 0||e.blur()}var CT=w(oo,{target:"e1ann9o40"})({name:"2gmlyg",styles:"display:flex;justify-content:space-between;font-weight:400;font-size:12px;line-height:14px;padding:7px 8px;text-transform:none;color:#333333;width:max-content"}),Ga=function(t){var r=t.itemId,n=t.title,o=n===void 0?"":n,a=t.disabled,i=t.testId,s=t.onClick,l=t.type,u=l===void 0?"icon-button":l,c=jv(),d=c.isActive,f=c.activate,p=S.useCallback(function(){f(r),cs(),s&&s()},[f,r]),h=d(r),m=h?" active":"";return v(K,{children:u==="icon-button"?v(wT,{title:o,className:r+m,isActive:h,onClick:p,iconName:r,testId:i,disabled:a}):v(CT,{title:o,onClick:p,disabled:a,"data-testid":i,children:o})})},MT=w(de,{shouldForwardProp:function(t){return t!=="isActive"},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:3px;bottom:3px;cursor:pointer;path{fill:",function(e){var t=e.isActive;return t?"white":void 0},";}"),ST=w("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),AT=w("div",{target:"e13kdqxv2"})("display:flex;position:absolute;left:",function(e){var t=e.isVertical;return t?"-34px":"5px"},";top:",function(e){var t=e.isVertical,r=e.islayoutModeButton;return t&&r?"24px":t?"38px":"0px"},";border-radius:4px;flex-direction:",function(e){var t=e.isVertical;return t?"column":"row"},";z-index:1;background-color:white;padding:2px;"),PT=w(ch,{target:"e13kdqxv1"})({name:"bjn8wh",styles:"position:relative"}),ET=w("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"}),IT=function(t){var r=t.children,n=t.vertical,o=n===void 0?!1:n,a=t.disabled,i=a===void 0?!1:a,s=t.needOpenByMenuItemClick,l=s===void 0?!1:s,u=t.testId,c=t.layoutModeButton,d=c===void 0?!1:c,f=t.generalTitle,p=t.activeItem,h=S.useState(!1),m=L(h,2),y=m[0],g=m[1],b=jv(),C=b.isActive,x=function(){i||g(function($){return!$})},M=function(){y&&g(!1)},A=Pt.Children.map(r,function(_){return _.type===Ga?_:null}),E=A.map(function(_){return _.props.itemId}).filter(function(_){return _}),k=E.filter(function(_){return C(_)}),N=p??(k.length?k[0]:E[0]),T=A.find(function(_){return _.props.itemId===N}),I=T==null?void 0:T.props.testId,D=f??(T==null?void 0:T.props.title);return P(ST,{"data-testid":u,children:[P(ET,{children:[v(Ga,{disabled:i,itemId:N,title:D,testId:I,onClick:l?x:wt}),y||v(MT,{className:"dropdown",name:"dropdown",onClick:x,isActive:C(N),dataTestId:"dropdown-expand"})]}),v(PT,{in:y,timeout:"auto",unmountOnExit:!0,onClick:M,children:v(pc,{onClickAway:M,children:v(AT,{isVertical:o,islayoutModeButton:d,"data-testId":"multi-tool-dropdown",children:A.map(function(_){return _})})})})]})},kT=w("div",{target:"e1fh0ozy3"})(function(e){var t=e.theme,r=e.isHorizontal;return{backgroundColor:t.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:r?"row":"column"}},""),OT=w("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),Rv=w("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),TT=w("div",{target:"e1fh0ozy0"})(function(e){var t=e.theme,r=e.isHorizontal;return{display:"flex",flexDirection:r?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:t.ketcher.color.background.primary,borderRadius:"2px",width:r?void 0:"32px",marginBottom:r?void 0:"8px","> :last-child":r?void 0:{marginBottom:0}}},""),Bv=function(t){var r=t.children,n=t.divider,o=n===void 0?!1:n,a=t.isHorizontal,i=Pt.Children.map(r,function(s){return s});return P(K,{children:[v(TT,{isHorizontal:a,children:i.map(function(s){return s})}),o&&(a?v(Rv,{}):v(OT,{}))]})},V=function(t){var r=t.children,n=t.onItemClick,o=t.activeMenuItems,a=t.testId,i=t.isHorizontal,s=Pt.useMemo(function(){return{isActive:function(c){return o?o.includes(c):!1},activate:function(c){n(c)}}},[o,n]),l=Pt.Children.map(r,function(u){return u.type===Bv?u:null});return v(as.Provider,{value:s,children:v(kT,{"data-testid":a,isHorizontal:i,children:l.map(function(u){return u})})})};V.Group=Bv;V.Item=Ga;V.Submenu=IT;var NT=function(){var t=O(oe),r=Er(),n=S.useState(r),o=L(n,2),a=o[0],i=o[1],s=O(ot),l={isActive:function(c){return a===c},activate:function(c){c!==a&&(i(c),t.events.selectMode.dispatch(c),t.events.layoutModeChange.dispatch(c))}};return S.useEffect(function(){i(r)},[r]),v(as.Provider,{value:l,children:P(V.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[v(V.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),v(V.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),v(V.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function _T(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$T(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return a=u.done,u},e:function(u){i=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}}}function $T(e,t){if(e){if(typeof e=="string")return rc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rc(e,t)}}function rc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DT=function(t){var r=[],n=_T(t),o;try{for(n.s();!(o=n.n()).done;){var a=o.value,i=a.node,s=a.nodeIndexOverall,l=a.isNucleosideConnectedAndSelectedWithPhosphate,u=a.hasR1Connection,c=a.twoStrandedNode,d=!!(c!=null&&c.antisenseNode);if(i instanceof Ur){var f,p,h;r.push({type:lt.Nucleotide,baseLabel:i==null||(f=i.rnaBase)===null||f===void 0?void 0:f.label,sugarLabel:i==null||(p=i.sugar)===null||p===void 0?void 0:p.label,phosphateLabel:i==null||(h=i.phosphate)===null||h===void 0?void 0:h.label,rnaBaseMonomerItem:i.rnaBase instanceof Je?i.rnaBase.variantMonomerItem:i.rnaBase.monomerItem,hasR1Connection:u,nodeIndexOverall:s,hasAntisense:d})}else if(i instanceof Wr){var m,y;r.push({type:lt.Nucleoside,baseLabel:i==null||(m=i.rnaBase)===null||m===void 0?void 0:m.label,sugarLabel:i==null||(y=i.sugar)===null||y===void 0?void 0:y.label,rnaBaseMonomerItem:i.rnaBase instanceof Je?i.rnaBase.variantMonomerItem:i.rnaBase.monomerItem,isNucleosideConnectedAndSelectedWithPhosphate:l,hasR1Connection:u,nodeIndexOverall:s,hasAntisense:d})}else if((i==null?void 0:i.monomer)instanceof Ic){var g;r.push({type:lt.Phosphate,phosphateLabel:i==null||(g=i.monomer)===null||g===void 0?void 0:g.label,nodeIndexOverall:s,hasAntisense:d})}}}catch(b){n.e(b)}finally{n.f()}return r};function LT(e){var t=e.node;return t instanceof Ur||t instanceof Wr||(t==null?void 0:t.monomer)instanceof Ic}var jT=function(t){for(var r="",n=t.length===1?t[0]:me.merge.apply(void 0,[{}].concat(ce(t))),o=0,a=["sugarLabel","baseLabel","phosphateLabel"];o<a.length;o++){var i=a[o],s=me.get(n,i,"");i==="baseLabel"?r+="(".concat(s,")"):r+=s}return r},RT=function(t){if(t!=null&&t.length){for(var r=me.flatten(t),n=r.length,o=Xn(r),a,i=!1,s=!0,l=!1,u=!0,c=DT(r),d=0;d<c.length;d++){var f=c[d],p=c[d-1],h=f.type===lt.Nucleotide||f.type===lt.Nucleoside,m=p==null?void 0:p.isNucleosideConnectedAndSelectedWithPhosphate;h&&(i=!0),h||m?f.hasR1Connection&&(u=!1):(u=!1,s=!1),f.hasAntisense&&(l=!0)}return n>o&&(r.every(LT)||(s=!1)),n===1||o===1&&s?a=jT(c):a=s?"".concat(o," nucleotides"):"".concat(n," elements"),{title:a,selectedSequenceLabeledNodes:c,isSelectedOnlyNucleoelements:s,isSelectedAtLeastOneNucleoelement:i,isSequenceFirstsOnlyNucleoelementsSelected:u,hasAntisense:l}}};function BT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.every(function(t){return t.every(function(r){return bc(r.twoStrandedNode)})})}function nc(e){return e==null?void 0:e.monomers.some(function(t){return t.hydrogenBonds.length!==0})}var FT=function(t){return t.map(function(r){return r.monomerItem.props.MonomerNaturalAnalogCode}).sort().join("")},oc=function(t){var r=t.monomerItem,n=r.props.MonomerNaturalAnalogCode==="A"||r.props.MonomerNaturalAnalogCode==="C"||r.props.MonomerNaturalAnalogCode==="G"||r.props.MonomerNaturalAnalogCode==="T"||r.props.MonomerNaturalAnalogCode==="U";if(n)return!0;if(!t.monomerItem.isAmbiguous||t.subtype===Fp.MIXTURE)return!1;var o="ACGT",a="ACGU",i="CGT",s="CGU",l="AGT",u="AGU",c="ACT",d="ACU",f="GT",p="GU",h="AT",m="AU",y="CT",g="CU",b="AC",C="AG",x="CG",M="ACG",A=[o,a,i,s,l,u,c,d,f,p,h,m,y,g,b,C,x,M],E=FT(t.monomers);return A.some(function(k){return k===E})},Ct=function(t){return t==null?void 0:t.some(function(r){var n=r instanceof nn&&Cc(r);return r instanceof Mc&&(r.hydrogenBonds.length>0||r.covalentBonds.length>1)||Ip(r)&&!oc(r)||n&&(n.hydrogenBonds.length>0||!oc(n))})},zT=function(t){return t==null?void 0:t.every(function(r){return r instanceof nn?r.label===Pc.SUGAR_DNA:!0})},qT=function(t){return t==null?void 0:t.every(function(r){return r instanceof nn?r.label===Pc.SUGAR_RNA:!0})},qt=function(t){return t==null?void 0:t.some(function(r){return r instanceof Mc&&kp(r)||r instanceof nn&&Cc(r)})},le;(function(e){e.title="sequence_menu_title",e.createRnaAntisenseStrand="create_antisense_rna_chain",e.createDnaAntisenseStrand="create_antisense_dna_chain",e.modifyInRnaBuilder="modify_in_rna_builder",e.establishHydrogenBond="establish_hydrogen_bond",e.deleteHydrogenBond="delete_hydrogen_bond",e.editSequence="edit_sequence",e.startNewSequence="start_new_sequence",e.copy="copy",e.paste="paste",e.delete="delete"})(le||(le={}));var HT=function(t){var r,n=t.selections,o=O(oe),a=ne(),i=RT(n),s=(n==null||(r=n.flat())===null||r===void 0?void 0:r.flatMap(function(p){return p.node.monomers}))||[],l=O(ot),u=Er()===ir.sequence,c=[{name:le.title,title:i==null?void 0:i.title,isMenuTitle:!0,disabled:!0,hidden:function(h){var m=h.props;return!(m!=null&&m.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:le.copy,title:"Copy",disabled:(s==null?void 0:s.length)===0},{name:le.paste,title:"Paste",disabled:!1,separator:!0},{name:le.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:Ct(s),hidden:function(){return!s||!qt(s)}},{name:le.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:Ct(s),hidden:function(){return!s||!qt(s)}},{name:le.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(i!=null&&i.isSelectedOnlyNucleoelements)||i.hasAntisense,hidden:function(h){var m=h.props;return!(m!=null&&m.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:le.editSequence,title:"Edit sequence",disabled:!1,hidden:function(h){var m=h.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.startNewSequence,title:"Start new sequence",disabled:!1},{name:le.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(h){var m,y=h.props;return(n==null?void 0:n.length)===0?bc(y==null||(m=y.sequenceItemRenderer)===null||m===void 0?void 0:m.twoStrandedNode):BT(n)},hidden:function(h){var m=h.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.deleteHydrogenBond,title:"Delete Hydrogen Bonds",separator:!0,disabled:function(h){var m,y=h.props;return(n==null?void 0:n.length)===0?!nc(y==null||(m=y.sequenceItemRenderer)===null||m===void 0?void 0:m.node):!(n!=null&&n.some(function(g){return g.some(function(b){return nc(b.node)})}))},hidden:function(h){var m=h.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.delete,title:"Delete",disabled:(s==null?void 0:s.length)===0}],d=function(h){var m,y=h.id,g=h.props;switch(y){case le.modifyInRnaBuilder:o.events.turnOnSequenceEditInRNABuilderMode.dispatch(),a(en(Xr.RNA)),a(dt(!0)),a(rn({})),a(zt(null)),i!=null&&(m=i.selectedSequenceLabeledNodes)!==null&&m!==void 0&&m.length&&i!==null&&i!==void 0&&i.title&&(a(Xf(i==null?void 0:i.title)),a(ts(i==null?void 0:i.selectedSequenceLabeledNodes)),a(A6(i==null?void 0:i.isSequenceFirstsOnlyNucleoelementsSelected)));break;case le.startNewSequence:o.events.startNewSequence.dispatch(g.sequenceItemRenderer);break;case le.editSequence:o.events.editSequence.dispatch(g.sequenceItemRenderer);break;case le.createRnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!1);break;case le.createDnaAntisenseStrand:o.events.createAntisenseChain.dispatch(!0);break;case le.establishHydrogenBond:o.events.establishHydrogenBond.dispatch(g.sequenceItemRenderer);break;case le.deleteHydrogenBond:{var b,C=jp.sequenceViewModel,x=C.chainsCollection.monomerToChain,M=new Map,A=n!=null&&n.length?n.reduce(function(k,N){return[].concat(ce(k),ce(N))},[]).map(function(k){return k.twoStrandedNode}):[(b=g.sequenceItemRenderer)===null||b===void 0?void 0:b.twoStrandedNode];A.forEach(function(k){if(k.antisenseChain&&k.antisenseNode&&!(k.antisenseNode instanceof Rp||k.antisenseNode instanceof yc)){M.has(k.antisenseChain)||M.set(k.antisenseChain,new Set);var N=M.get(k.antisenseChain);if(!N)return;N.add(k)}});var E=!1;M.forEach(function(k,N){var T=ce(k.values())[0],I=T.chain,D=new Set(ce(k.values()).map(function($){return $.antisenseNode})),_=N.nodes.some(function($){return!D.has($)&&$.monomers.some(function(F){return F.hydrogenBonds.some(function(R){var z=R.getAnotherMonomer(F),H=z&&x.get(z);return H===I})})});_||(E=!0)}),E?o.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){o.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer)}}):o.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer);break}case"copy":o.events.copySelectedStructure.dispatch();break;case"paste":o.events.pasteFromClipboard.dispatch();break;case"delete":o.events.deleteSelectedStructure.dispatch();break}},f=document.querySelector(Gt);return f&&u&&!l?to.createPortal(v(Io,{id:Xe.FOR_SEQUENCE,handleMenuChange:d,menuItems:c}),f):null},UT=w("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),WT=w("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(e){return e.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;"),GT=w(Nc,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),VT=w("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),Va=function(t){var r=t.monomerCaps,n=t.attachmentPointsToBonds;return S.useMemo(function(){var o=[],a=[];return r?(Object.entries(r).forEach(function(i){var s=L(i,2),l=s[0],u=s[1],c=!!(n!=null&&n[l]);c&&a.push(l);var d={id:l,label:_v(u),connected:c};o.push(d)}),{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}):{preparedAttachmentPointsData:o,connectedAttachmentPoints:a}},[r,n])},KT=function(t){var r=t.idtAliases,n=t.attachmentPointsToBonds,o=t.monomerClass;return S.useMemo(function(){if(!r)return null;var a=r.base,i=r.modifications;if(n){if(!i)return a;var s=i.endpoint5,l=i.internal,u=i.endpoint3,c=n.R1,d=n.R2;if(o===st.Phosphate&&c&&!(c instanceof Jp)&&c.firstMonomer instanceof nn)return null;if(c!==null&&d===null)return u??l;if(c===null&&d!==null)return s??l;if(c!==null&&d!==null){var f;return(f=l??s)!==null&&f!==void 0?f:u}else{var p;return(p=s??l)!==null&&p!==void 0?p:u}}if(!i)return a;var h=Object.values(i).every(function(y){return y.includes(a)});if(h)return a;var m={};return Object.values(i).forEach(function(y){var g=[y.charAt(0),y.slice(1)],b=g[0],C=g[1];m[C]=m[C]?[].concat(ce(m[C]),[b]):[b]}),Object.entries(m).map(function(y){var g=L(y,2),b=g[0],C=g[1];return"(".concat(C.join(", "),")").concat(b)}).join(", ")},[r,n,o])},YT=w("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),ZT=w("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(e){var t=e.connected;return t?"#E1E5EA":"transparent"},";padding:",function(e){var t=e.connected;return t?"4px":"0"},";color:",function(e){var t=e.connected;return t?"#8A8B8E":"inherit"},";"),QT=w("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),XT=w("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),JT=S.memo(function(e){var t=e.preparedAttachmentPointsData;return t.length?v(YT,{children:t.map(function(r){var n=r.id,o=r.connected,a=r.label;return P(ZT,{connected:o,children:[P(QT,{children:[n,!o&&":"]}),!o&&v(XT,{children:a})]},n)})}):null}),eN=w("span",{target:"e1v1msbx3"})("max-width:",function(e){var t=e.preset;return t?"100%":"50%"},";display:flex;align-items:center;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(e){return e.theme.ketcher.color.text.lightgrey},";padding-left:",function(e){var t=e.preset;return t?"0":"8px"},";border-left:",function(e){var t=e.preset;return t?"none":"1px solid #D9DCEA"},";"),tN=w("p",{target:"e1v1msbx2"})({name:"ti75j2",styles:"margin:0"}),rN=w("span",{target:"e1v1msbx1"})({name:"1b7n4tc",styles:"color:#7c7c7c"}),nN=w("span",{target:"e1v1msbx0"})({name:"dtvj5",styles:"color:#585858;text-wrap:wrap"}),Fv=S.memo(function(e){var t=e.idtAliasesText,r=e.preset;return v(eN,{preset:r,children:P(tN,{children:[v(rN,{children:"IDT: "}),v(nN,{children:t})]})})}),oN=function(t){var r,n=t.className,o=O(dn),a=o.monomer,i=o.attachmentPointsToBonds,s=a==null?void 0:a.props.idtAliases,l=Va({monomerCaps:a==null?void 0:a.props.MonomerCaps,attachmentPointsToBonds:i}),u=l.preparedAttachmentPointsData,c=l.connectedAttachmentPoints,d=KT({idtAliases:s,attachmentPointsToBonds:i,monomerClass:a==null?void 0:a.props.MonomerClass});if(!a)return null;var f=a.props.unresolved,p=f?a.label:(r=a.struct)===null||r===void 0?void 0:r.name;return(a.struct||f)&&P(UT,{className:n,"data-testid":"polymer-library-preview",children:[p&&v(WT,{children:p}),f?v($v,{}):v(GT,{struct:a.struct,options:{connectedMonomerAttachmentPoints:c,usageInMacromolecule:Tn.MonomerPreview,labelInPreview:!0,needCache:!1}}),P(VT,{children:[v(JT,{preparedAttachmentPointsData:u}),d&&v(Fv,{idtAliasesText:d})]})]})},aN=w(oN,{target:"e86yc5p0"})("width:",On.width+"px",";height:",On.height+"px",";"),iN=w("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),sN=w("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),lN=w("div",{target:"ec5fs973"})("font-size:",function(e){return e.theme.ketcher.font.size.regular},";line-height:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),uN=w("div",{target:"ec5fs972"})("color:",function(e){return e.theme.ketcher.color.text.lightgrey},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),cN=w("p",{target:"ec5fs971"})("color:",function(e){return e.theme.ketcher.color.text.primary},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),dN=w(de,{target:"ec5fs970"})("height:14px;width:14px;margin-right:4px;color:",function(e){var t=e.theme;return t.ketcher.color.icon.grey},";stroke:",function(e){var t=e.theme;return t.ketcher.color.icon.grey},";"),fN=function(t){var r=t.presetName,n=t.position,o=t.idtAliases;return S.useMemo(function(){if(!r||!o)return null;if(r.includes("MOE")){var a,i,s,l=o.base,u=o.modifications,c=(a=u==null?void 0:u.endpoint5)!==null&&a!==void 0?a:"5".concat(l),d=(i=u==null?void 0:u.internal)!==null&&i!==void 0?i:"i".concat(l),f=(s=u==null?void 0:u.endpoint3)!==null&&s!==void 0?s:"3".concat(l);switch(n){case Ye.Library:return"".concat(c,", ").concat(d);case Ye.ChainStart:return c;case Ye.ChainMiddle:return d;case Ye.ChainEnd:return f}}return o.base},[r,n,o])},vN=["sugar","base","phosphate"],pN=function(t){var r=t.className,n=O(dn),o=n.monomers,a=n.name,i=n.position,s=n.idtAliases,l=L(o,2),u=l[1],c=a??(u==null?void 0:u.props.Name),d=fN({presetName:c,position:i,idtAliases:s});return P(iN,{className:r,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[v(cN,{children:c}),o.map(function(f,p){return f&&P(sN,{children:[v(dN,{name:vN[p]}),v(lN,{children:f.label}),P(uN,{children:["(",f.props.Name,")"]})]},p)}),d&&v(Fv,{idtAliasesText:d,preset:!0})]})},hN=w(pN,{target:"e1wupxfd0"})(""),ac=w("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),mN=w("div",{target:"e1m0yzrp2"})(function(e){var t=e.connected,r=e.inBond,n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:r||!t?n.ketcher.color.text.primary:"#B4B9D6"}},""),gN=w("p",{target:"e1m0yzrp1"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.small,lineHeight:"12px"}},""),yN=w("p",{target:"e1m0yzrp0"})(function(e){var t=e.inBond,r=e.theme;return{margin:0,padding:"4px",fontWeight:r.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:t?"#CDF1FC":"transparent"}},""),ic=function(t){var r=t.attachmentPoints,n=t.attachmentPointInBond;return v(K,{children:r.map(function(o){return P(mN,{connected:o.connected,inBond:o.id===n,children:[v(gN,{children:o.id}),v(yN,{inBond:o.id===n,children:o.label})]},o.id)})})},bN=function(t){var r=t.className,n=O(dn),o=n.polymerBond,a=n.style,i=S.useMemo(function(){return a?w(ac,{target:"e18hk05c1"})("top:",(a==null?void 0:a.top)||"",";left:",(a==null?void 0:a.left)||"",";right:",(a==null?void 0:a.right)||"",";"):w(ac,{target:"e18hk05c2"})("")},[a]),s=o.firstMonomer,l=o.secondMonomer,u=o.firstMonomerAttachmentPoint,c=o.secondMonomerAttachmentPoint,d=Va({monomerCaps:s.monomerCaps,attachmentPointsToBonds:s.attachmentPointsToBonds}),f=d.preparedAttachmentPointsData,p=d.connectedAttachmentPoints,h=Va({monomerCaps:l==null?void 0:l.monomerCaps,attachmentPointsToBonds:l==null?void 0:l.attachmentPointsToBonds}),m=h.preparedAttachmentPointsData,y=h.connectedAttachmentPoints;return!s||!l?null:v(i,{className:r,"data-testid":"polymer-library-preview",children:v(Dv,{firstMonomer:s,secondMonomer:l,firstMonomerOverview:v(Wa,{monomer:s,usage:Tn.BondPreview,connectedAttachmentPoints:p,selectedAttachmentPoint:u,attachmentPoints:v(ic,{attachmentPoints:f,attachmentPointInBond:u})}),secondMonomerOverview:v(Wa,{monomer:l,usage:Tn.BondPreview,connectedAttachmentPoints:y,selectedAttachmentPoint:c,attachmentPoints:v(ic,{attachmentPoints:m,attachmentPointInBond:c})})})})},xN=w(bN,{target:"e18hk05c0"})("width:",On.widthForBond,"px;height:",On.heightForBond,"px;");function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sc(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var CN=w("div",{target:"e88xzqx0"})("display:inline-block;position:absolute;background:",function(e){var t=e.theme;return t.ketcher.color.background.primary},";z-index:",function(e){var t=e.theme;return t.ketcher.zIndex.overlay},";"),MN=function(){var t=O(dn),r=S.useRef(null),n=S.useState(!1),o=L(n,2),a=o[0],i=o[1];return S.useEffect(function(){if(!(!r.current||t.style))if(t&&t.type){var s,l,u;r.current.setAttribute("style",""),i(!0);var c=5,d=(s=r.current)===null||s===void 0?void 0:s.getBoundingClientRect(),f=(d==null?void 0:d.height)||0,p=(d==null?void 0:d.width)||0,h=(l=he.instance)===null||l===void 0||(l=l.canvasWrapper.node())===null||l===void 0?void 0:l.getBoundingClientRect(),m=(h==null?void 0:h.bottom)||0,y=(h==null?void 0:h.left)||0,g=(h==null?void 0:h.right)||0,b=(u=t.target)===null||u===void 0?void 0:u.getBoundingClientRect(),C=(b==null?void 0:b.top)||0,x=(b==null?void 0:b.bottom)||0,M=(b==null?void 0:b.left)||0,A=(b==null?void 0:b.width)||0,E=M-A/2,k=C-f-c,N=x+c,T=M+A/2-p/2;if(C>f+c||x+f>m&&x>m/2?r.current.style.top="".concat(k,"px"):r.current.style.top="".concat(N,"px"),E>p/2&&E+p/2<g)r.current.style.left="".concat(T,"px");else if(E<p/2)r.current.style.left="".concat(y,"px");else{var I=10;r.current.style.left="".concat(g-p-I,"px")}}else a&&(i(!1),r.current.setAttribute("style",""))},[t]),t?P(CN,{ref:r,style:wN({},t==null?void 0:t.style),children:[t.type===pe.Monomer&&v(aN,{}),t.type===pe.Preset&&v(hN,{}),t.type===pe.Bond&&v(xN,{}),t.type===pe.AmbiguousMonomer&&v(Ap,{preview:t})]}):null},aa=w(oo,{target:"e1brfei30"})(function(e){var t=e.theme,r=e.variant;return{color:r==="outlined"?t.ketcher.color.text.primary:t.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:r==="outlined"?t.ketcher.outline.small:"none",background:r==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.active,borderRadius:t.ketcher.border.radius.regular,textTransform:"none",fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,":hover":{color:r==="outlined"?t.ketcher.color.text.dark:t.ketcher.color.button.text.primary,background:r==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),SN=function(){var t=O(oe),r=S.useState(t==null?void 0:t.events.changeSequenceTypeEnterMode),n=L(r,2),o=n[0],a=n[1],i=S.useState(!1),s=L(i,2),l=s[0],u=s[1],c=O(ot),d=Er(),f=!!c,p=ne(),h=function(g){var b=Np(g)==="object"?g.mode:g;u(b==="sequence-layout-mode")};S.useEffect(function(){return t==null||t.events.selectMode.add(h),t==null||t.events.changeSequenceTypeEnterMode.add(function(y){p(en(y===Hr.PEPTIDE?Xr.PEPTIDES:Xr.RNA)),a(y)}),t==null||t.events.changeSequenceTypeEnterMode.dispatch(Ve.RNA),function(){t==null||t.events.selectMode.remove(h)}},[t]),S.useEffect(function(){h(d)},[d]);var m=function(g){t.events.changeSequenceTypeEnterMode.dispatch(g)};return l?v(K,{children:v(Dc,{sx:{mr:1,ml:1},children:P(Oh,{disabled:f,children:[v(aa,{"data-testid":"".concat(Ve.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:o===Ve.RNA?"contained":"outlined",onClick:function(){return m(Ve.RNA)},children:"RNA"}),v(aa,{"data-testid":"".concat(Ve.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:o===Ve.DNA?"contained":"outlined",onClick:function(){return m(Ve.DNA)},children:"DNA"}),v(aa,{"data-testid":"".concat(Ve.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:o===Ve.PEPTIDE?"contained":"outlined",onClick:function(){return m(Ve.PEPTIDE)},children:"PEP"})]})})}):null},zv=function(){var t=ne(),r=O(oe),n=O(Ki),o=O(Yi),a=O(Zi),i=O(Qi);return function(){var s=ro(Ee.mark(function l(u){var c,d,f,p,h,m,y,g,b,C,x;return Ee.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(!r||u)){A.next=2;break}return A.abrupt("return");case 2:if(d=Qa.getIndigo(),f=r.drawingEntitiesManager.filterSelection(),p=new kn,h=f.hasDrawingEntities?f:r.drawingEntitiesManager,m=Dp.fromMonomers(ce(h.monomers.values())),y=(c=m.firstNode)===null||c===void 0?void 0:c.monomer,g=!y||m.chains.reduce(function(E,k){return E+k.monomers.length},0)<=Lp(y).length,!(!h.hasDrawingEntities||!g)){A.next=12;break}return t(Yo(void 0)),A.abrupt("return");case 12:return b=p.serialize(new $p,h,void 0,!1),A.next=15,d.calculateMacromoleculeProperties({struct:b},{upc:a/Jl[n],nac:i/Jl[o]});case 15:C=A.sent;try{x=C.properties&&JSON.parse(C.properties),t(Yo(x))}catch(E){Gr.error("Error during parsing macromolecule properties: ",E),t(Yo(void 0))}case 17:case"end":return A.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()},ia="Other",sa=function(t,r){var n,o=t==null||(n=t.monomerCount)===null||n===void 0?void 0:n[r];return o&&Object.keys(o).length>0},AN=w("div",{target:"eifx56c28"})(function(e){var t=e.hasError;return{width:"100%",height:t?"124px":"177px",position:"relative",backgroundColor:"white",padding:"2px 0",borderRadius:"8px 8px",overflow:"hidden",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)"}},""),PN=w("div",{target:"eifx56c27"})(function(){return{display:"flex"}},""),EN=w("div",{target:"eifx56c26"})(function(){return{flex:1,display:"flex",justifyContent:"center"}},""),IN=w(de,{target:"eifx56c25"})(function(){return{display:"flex",alignItems:"center",width:"12px",height:"12px",padding:"2px 6px",cursor:"pointer"}},""),kN=w("div",{target:"eifx56c24"})(function(){return{display:"flex",height:"25px",alignItems:"center",padding:"0 8px"}},""),ON=w("div",{target:"eifx56c23"})(function(){return{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:"700",padding:"0 8px",color:"#585858"}},""),TN=w("div",{target:"eifx56c22"})(function(){return{display:"flex",alignItems:"center",height:"24px",borderLeft:"1px solid #CAD3DD",color:"#585858"}},""),NN=w("div",{target:"eifx56c21"})(function(){return{fontSize:"14px",fontWeight:"700",padding:"0 8px"}},""),_N=w("div",{target:"eifx56c20"})(function(){return{width:"100%",height:"100%",top:"-25px",position:"relative"}},""),qv=w("div",{target:"eifx56c19"})(function(){return{width:"100%",padding:"0 4px 4px"}},""),Hv=w("div",{target:"eifx56c18"})(function(){return{display:"flex",width:"100%",height:"74px",flexDirection:"column",justifyContent:"center",alignItems:"center"}},""),Uv=w("div",{target:"eifx56c17"})(function(){return{fontSize:"14px"}},""),Wv=w("div",{target:"eifx56c16"})(function(){return{fontSize:"12px"}},""),Gv=w("div",{target:"eifx56c15"})(function(){return{display:"flex",padding:"4px 0px",height:"32px",gap:"12px"}},""),$N=w("div",{target:"eifx56c14"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0 2px"}},""),DN=w("div",{target:"eifx56c13"})(function(){return{height:"90px",backgroundColor:"white",borderRadius:"8px",padding:"5px"}},""),LN=w("div",{target:"eifx56c12"})(function(){return{display:"flex",justifyContent:"space-between"}},""),jN=w("div",{target:"eifx56c11"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr"}},""),RN=w("div",{target:"eifx56c10"})(function(e){var t=e.disabled;return{display:"flex",alignItems:"center",padding:"0 0 0 6px",pointerEvents:t?"none":"auto",opacity:t?.5:1}},""),BN=w("div",{target:"eifx56c9"})(function(){return{fontSize:"10px",paddingRight:"5px",whiteSpace:"nowrap"}},""),FN=w("div",{target:"eifx56c8"})(function(){return{fontSize:"14px",fontWeight:"700"}},""),zN=w(de,{target:"eifx56c7"})(function(){return{width:"20px",height:"20px"}},""),qN=w("div",{target:"eifx56c6"})(function(){return{display:"flex",alignItems:"center"}},""),Vv=w(Pv,{target:"eifx56c5"})(function(){return{position:"relative",padding:"0 0 0 5px",zIndex:1}},""),Kv="text-input-field-input",HN=w(Nv,{target:"eifx56c4"})(function(){return q({margin:0},".".concat(Kv),{width:"60px","::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},"::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0},MozAppearance:"textfield"})},""),UN=w("div",{target:"eifx56c3"})(function(){return{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"4px 6px",width:"100%",backgroundColor:"white",borderRadius:"8px",padding:"6px",height:"90px",alignContent:"flex-start"}},""),WN=w("div",{target:"eifx56c2"})("display:flex;position:relative;justify-content:space-between;background-color:#eff2f5;padding:4px 6px;font-weight:500;font-size:12px;border-radius:2px;min-width:50px;flex:1;opacity:",function(e){var t=e.disabled;return t?.4:1},";&:after{content:'';position:absolute;bottom:0;left:0;width:15px;height:2px;background:",function(e){var t,r=e.theme,n=e.monomerShortName,o=e.isPeptide,a=o?r.ketcher.peptide.color:r.ketcher.monomer.color;return((t=a[n])===null||t===void 0?void 0:t.regular)||r.ketcher.monomer.color.default.regular},";border-radius:0 0 0 2px;}"),GN=w("div",{target:"eifx56c1"})(function(){return{fontWeight:"700"}},""),Yv=function(t){var r=t.isPeptide?qp:Hp,n=r.map(function(o){return[o,t.monomerCount[o]||0]});return n.push([ia,t.monomerCount[ia]||0]),n.sort(function(o,a){return o[0]===ia?1:o[0].localeCompare(a[0])}),v(UN,{children:iP(n,function(o){var a=L(o,2),i=a[0],s=a[1];return P(WN,{monomerShortName:i,isPeptide:t.isPeptide,disabled:s===0,children:[v(GN,{children:i}),v("div",{children:s})]},i)})})},ar=function(t){var r;return P(RN,{disabled:t.disabled,children:[P(BN,{children:[t.name,t.value!==void 0&&":"]}),t.onChangeValue?v(HN,{value:(r=t.value)!==null&&r!==void 0?r:"",id:"macromolecule-property-".concat(t.name),type:"number",min:0,inputClassName:Kv,onChange:function(o){var a;return t==null||(a=t.onChangeValue)===null||a===void 0?void 0:a.call(t,Number(o))}}):v(FN,{children:t.value}),t.hint&&v(qN,{title:t.hint,children:v(zN,{name:"about"})}),t.options&&t.selectedOption&&t.onChangeOption&&v(Vv,{options:t.options.map(function(n){return{id:n,label:n}}),currentSelection:t.selectedOption,selectionHandler:t.onChangeOption})]})},VN=function(t){var r=t.part,n=r.match(/^([A-Za-z]+)(\d+)$/);if(!n)return r;var o=L(n,3);o[0];var a=o[1],i=o[2];return P("span",{children:[a,v("sub",{children:i})," "]})},KN=w("svg",{target:"eifx56c0"})(function(){return{width:"100%",height:"100%"}},"");function YN(e,t,r){var n=e.length;if(r>=n||r===0)return{xs:e,ys:t};for(var o=[e[0]],a=[t[0]],i=(n-2)/(r-2),s=0,l=0;l<r-2;l++){for(var u=Math.floor((l+1)*i)+1,c=Math.floor((l+2)*i)+1,d=u,f=c,p=0,h=0,m=f-d,y=d;y<f;y++)p+=e[y],h+=t[y];p/=m,h/=m;for(var g=Math.floor(l*i)+1,b=Math.floor((l+1)*i)+1,C=-1,x=g,M=g;M<b;M++){var A=Math.abs((e[s]-p)*(t[M]-t[s])-(e[s]-e[M])*(h-t[s]));A>C&&(C=A,x=M)}o.push(e[x]),a.push(t[x]),s=x}return o.push(e[n-1]),a.push(t[n-1]),{xs:o,ys:a}}var ZN=function(t){var r=t.data,n=YN(r.map(function(a,i){return i+1}),r,100),o=S.useRef(null);return S.useEffect(function(){if(!(!n.xs.length||!o.current)){var a=o.current.width.baseVal.value,i=o.current.height.baseVal.value,s={top:10,right:10,bottom:20,left:30};Lr(o.current).selectAll("*").remove();var l=Da().domain([0,n.xs.length-1]).range([s.left,a-s.right]),u=Da().domain([0,1]).range([i-s.bottom,s.top]),c=xO().x(function(m,y){return l(y)}).y(function(m){return u(m)}).curve(Nf),d=Math.floor(n.xs.length*20/100),f=Lr(o.current),p=ME(l).tickValues([d,n.xs.length-1-d]).tickFormat(function(m){return n.xs[Number(m)]});f.append("g").attr("transform","translate(0,".concat(i-s.bottom,")")).call(p).call(function(m){return m.select(".domain").remove()}).call(function(m){return m.selectAll("line").attr("stroke","#CAD3DD").attr("y1",-i)}).call(function(m){return m.selectAll("text").attr("font-size","8px")});var h=SE(u).tickValues([0,.5,1]).tickFormat(Vi(".1f"));f.append("g").attr("transform","translate(".concat(s.left,",0)")).call(h).call(function(m){return m.select(".domain").remove()}).call(function(m){m.selectAll("line").each(function(y,g,b){y===.5?Lr(b[g]).attr("x1",a).attr("stroke","#CAD3DD").attr("stroke-dasharray",2):Lr(b[g]).remove()})}).call(function(m){return m.selectAll("text").attr("font-size","8px")}),f.append("path").datum(n.ys).attr("fill","none").attr("stroke","#167782").attr("stroke-width",1).attr("d",c)}},[r]),v(KN,{ref:o})},QN=function(t){return t.isError?P(Hv,{children:[v(Uv,{children:"No Data Available"}),v(Wv,{children:"Select monomer, chain or part of a chain"})]}):P(qv,{children:[P(jN,{children:[P(Gv,{children:[v(ar,{name:"Isoelectric Point",value:me.isNumber(t.macromoleculesProperties.pKa)?Ln(t.macromoleculesProperties.pKa,2):"–",hint:"The isoelectric point is calculated as the median of all pKa values for the structure."}),v(ar,{name:"Extinction Coef.(1/Mcm)",value:me.isNumber(t.macromoleculesProperties.extinctionCoefficient)?Ln(t.macromoleculesProperties.extinctionCoefficient):"–",hint:"The extinction coefficient for wavelength of 280nm is calculated using the method from Gill, S.C. and von Hippel, P.H. (1989). Only amino acid natural analogues are used in the calculation."})]}),v(ar,{name:"Hydrophobicity"})]}),P($N,{children:[t.macromoleculesProperties.monomerCount.peptides&&v(Yv,{monomerCount:t.macromoleculesProperties.monomerCount.peptides,isPeptide:!0}),v(DN,{children:t.macromoleculesProperties.hydrophobicity&&v(ZN,{data:t.macromoleculesProperties.hydrophobicity})})]})]})},lc=function(t){return!/[^0.,]/.test(String(t))},XN=function(t){var r=ne(),n=O(Ki),o=O(Yi),a=O(Zi),i=O(Qi),s=function(f){r(IO(f))},l=function(f){r(kO(f))},u=function(f){r(OO(f.toString()))},c=function(f){r(TO(f.toString()))};return t.isError?P(Hv,{children:[v(Uv,{children:"No Data Available"}),v(Wv,{children:"Select a nucleotide/nucleoside, chain or part of a chain containing nucleotides/nucleosides"})]}):P(qv,{children:[P(LN,{children:[me.isNumber(t.macromoleculesProperties.Tm)?v(ar,{name:"Melting Temp. (°C)",value:Ln(t.macromoleculesProperties.Tm,1),hint:"The melting temperature is calculated using the method from Khandelwal G. and Bhyravabhotla J. (2010). Only base natural analogues are used in the calculation."}):v("div",{}),P(Gv,{children:[v(ar,{name:"[Unipositive Ions]",value:a,options:["nM","μM","mM"],selectedOption:n,disabled:!me.isNumber(t.macromoleculesProperties.Tm)&&!lc(a),onChangeOption:s,onChangeValue:u}),v(ar,{name:"[Oligonucleotides]",value:i,options:["nM","μM","mM"],selectedOption:o,disabled:!me.isNumber(t.macromoleculesProperties.Tm)&&!lc(i),onChangeOption:l,onChangeValue:c})]})]}),t.macromoleculesProperties.monomerCount.nucleotides&&v(Yv,{monomerCount:t.macromoleculesProperties.monomerCount.nucleotides})]})},Lt;(function(e){e[e.PEPTIDES=0]="PEPTIDES",e[e.RNA=1]="RNA",e[e.NO_TAB=-1]="NO_TAB"})(Lt||(Lt={}));var De;(function(e){e.Da="Da",e.kDa="kDa",e.MDa="MDa"})(De||(De={}));var JN=q(q(q({},De.Da,1),De.kDa,1e3),De.MDa,1e6),uc=function(t){return me.isNumber(t)?t<1e3?De.Da:t<1e6?De.kDa:De.MDa:De.Da},Xt,e_=function(){var t=ne(),r=O(oe),n=O(LO),o=O(Ki),a=O(Yi),i=O(Zi),s=O(Qi),l=n==null?void 0:n[0],u=S.useState(Lt.PEPTIDES),c=L(u,2),d=c[0],f=c[1],p=S.useState(uc(l==null?void 0:l.mass)),h=L(p,2),m=h[0],y=h[1],g=O(Lf),b=zv(),C=!g,x=S.useRef(b),M=S.useCallback(me.debounce(function($){x.current($)},500),[]);S.useEffect(function(){x.current=function($){b($)}},[b]),S.useEffect(function(){return Xt&&r.events.selectEntities.hasHandler(Xt)&&r.events.selectEntities.remove(Xt),Xt=function(){M(C)},r==null||r.events.selectEntities.add(Xt),function(){r==null||r.events.selectEntities.remove(Xt)}},[M,r,C]),S.useEffect(function(){M(C)},[o,a,i,s,C,M]),S.useEffect(function(){f(sa(l,"nucleotides")?Lt.RNA:Lt.PEPTIDES),y(uc(l==null?void 0:l.mass))},[l]);var A=function(F,R){f(R)},E=function(){t(EO(!1))},k=function(F){y(F)},N=!l||n.length>1,T=N||!sa(l,"peptides"),I=N||!sa(l,"nucleotides"),D=S.useMemo(function(){return l!=null&&l.grossFormula?v(ON,{children:l==null?void 0:l.grossFormula.split(" ").map(function($,F){return v(VN,{part:$},F)})}):null},[l==null?void 0:l.grossFormula]),_=S.useMemo(function(){return l!=null&&l.mass?P(K,{children:[v(NN,{children:Ln((l==null?void 0:l.mass)/JN[m],3)})," "]}):null},[l==null?void 0:l.mass,m]);return g?P(AN,{hasError:d===Lt.PEPTIDES&&T||d===Lt.RNA&&I,children:[P(PN,{children:[v(EN,{children:P("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v("path",{d:"M2 6H14",stroke:"#333333"}),v("path",{d:"M2 10H14",stroke:"#333333"})]})}),v(IN,{name:"close",onClick:E})]}),P(kN,{children:[D,_&&P(TN,{children:[_,v(Vv,{options:[De.Da,De.kDa,De.MDa].map(function($){return{id:$,label:$}}),currentSelection:m,selectionHandler:k})]})]}),v(_N,{children:v(cv,{selectedTabIndex:d,onChange:A,isLayoutToRight:!0,tabs:[{caption:"Peptides",testId:"peptides-properties-tab",component:QN,props:{macromoleculesProperties:l,isError:T}},{caption:"RNA/DNA",component:XN,testId:"rna-properties-tab",props:{macromoleculesProperties:l,isError:I}}]})})]}):null},xe=Cp(Ep),t_=function(t){var r=parseInt(t||"");return isNaN(r)?0:r},r_=function(t,r){if(t===0)return r;var n=he.instance.MINZOOMSCALE*100,o=he.instance.MAXZOOMSCALE*100;return t<n?n:t>o?o:t},Ka=function(t,r){r&&(r.value="".concat(Math.round(t),"%"))},n_=w(no,{target:"e1pc97tg0"})(function(e){var t=e.theme,r=e.isActive;return{width:"28px",height:"28px",backgroundColor:r?t.ketcher.color.button.group.active:"white",margin:"2px",padding:"0",borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":t.ketcher.color.button.group.active}}},""),o_=function(){var t=ne(),r=O(Lf),n=zv(),o=function(){var a=ro(Ee.mark(function i(){var s;return Ee.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=!r,u.next=3,n(s);case 3:t($f({})),cs();case 5:case"end":return u.stop()}},i)}));return function(){return a.apply(this,arguments)}}();return v(n_,{isActive:r,onClick:o,title:"Calculate properties (".concat(xe.toggleMacromoleculesPropertiesVisibility,")"),"data-testid":"calculate-macromolecule-properties-button",children:v("svg",{width:"15",height:"16",viewBox:"0 0 15 16",xmlns:"http://www.w3.org/2000/svg",fill:r?"white":"#333333",children:v("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87727 1.65517H9.03053V4.46737L9.42288 5.12973C9.76799 5.04496 10.1287 5 10.5 5C12.9853 5 15 7.01472 15 9.5C15 10.6812 14.5449 11.7562 13.8004 12.559C14.4936 14.1572 13.3016 16 11.456 16H2.54694C0.627617 16 -0.60048 14.0008 0.302223 12.3451C1.6087 9.94883 3.5345 6.39671 4.51457 4.49368V1.65517H3.66783V0H9.87727V1.65517ZM12.2962 13.6272C11.746 13.867 11.1385 14 10.5 14C8.01472 14 6 11.9853 6 9.5C6 7.98987 6.74386 6.65348 7.88515 5.83725L7.33705 4.91194V1.65517H6.20806V4.88502L6.11866 5.05976C5.15873 6.93619 3.14099 10.658 1.79676 13.1235C1.49524 13.6765 1.9056 14.3448 2.54694 14.3448H11.456C11.9075 14.3448 12.2417 14.0139 12.2962 13.6272ZM13.5375 9.5C13.5375 11.1776 12.1776 12.5375 10.5 12.5375C8.82244 12.5375 7.4625 11.1776 7.4625 9.5C7.4625 7.82243 8.82244 6.4625 10.5 6.4625C12.1776 6.4625 13.5375 7.82243 13.5375 9.5Z"})})})};function a_(){var e=ne(),t=O(Mo),r=O(oe),n=O(ot),o=S.useState([]),a=L(o,2),i=a[0],s=a[1],l=S.useState(!1),u=L(l,2),c=u[0],d=u[1],f=S.useState(),p=L(f,2),h=p[0],m=p[1],y=[t],g=n;S.useEffect(function(){var C=function(M){s(M),M.length&&!Ct(M)&&(d(!1),zT(M)?m("antisenseDnaStrand"):qT(M)?m("antisenseRnaStrand"):(m("antisenseStrand"),d(!0)))};return r==null||r.events.selectEntities.add(C),function(){r==null||r.events.selectEntities.remove(C)}},[r]);var b=function(x){Lv[x]?e(or(x)):x==="undo"||x==="redo"?r.events.selectHistory.dispatch(x):x==="clear"?(r.events.selectTool.dispatch([x]),e(yt("select-rectangle")),r.events.selectTool.dispatch(["select-rectangle"]),n&&Qn(e,r)):(x==="antisenseRnaStrand"||x==="antisenseDnaStrand")&&r.events.createAntisenseChain.dispatch(x==="antisenseDnaStrand")};return P(V,{onItemClick:b,activeMenuItems:y,isHorizontal:!0,children:[P(V.Group,{isHorizontal:!0,divider:!0,children:[v(V.Item,{itemId:"clear",title:"Clear Canvas (".concat(xe.clear,")"),testId:"clear-canvas"}),v(V.Item,{itemId:"open",title:"Open...",disabled:g,testId:"open-file-button"}),v(V.Item,{itemId:"save",title:"Save as...",testId:"save-file-button"})]}),P(V.Group,{isHorizontal:!0,divider:!0,children:[v(V.Item,{itemId:"undo",title:"Undo (".concat(xe.undo,")"),disabled:g,testId:"undo"}),v(V.Item,{itemId:"redo",title:"Redo (".concat(xe.redo,")"),disabled:g,testId:"redo"})]}),P(V.Group,{isHorizontal:!0,children:[P(V.Submenu,{disabled:!(i!=null&&i.length)||!qt(i)||Ct(i),needOpenByMenuItemClick:c,vertical:!0,layoutModeButton:!0,generalTitle:"Create Antisense Strand",testId:"Create Antisense Strand",activeItem:h,children:[v(V.Item,{itemId:"antisenseRnaStrand",title:"Create RNA Antisense Strand (".concat(xe.createRnaAntisenseStrand,")"),disabled:!(i!=null&&i.length)||!qt(i)||Ct(i),testId:"antisenseRnaStrand",type:"button"}),v(V.Item,{itemId:"antisenseDnaStrand",title:"Create DNA Antisense Strand (".concat(xe.createDnaAntisenseStrand,")"),disabled:!(i!=null&&i.length)||!qt(i)||Ct(i),testId:"antisenseDnaStrand",type:"button"})]}),v(o_,{})]})]})}function i_(){var e=O(Mo),t=O(oe),r=Er()===ir.sequence,n=[e],o=function(i){t.events.selectTool.dispatch([i,{toolName:i}])};return P(V,{testId:"left-toolbar",onItemClick:o,activeMenuItems:n,children:[P(V.Group,{divider:!0,children:[v(V.Item,{itemId:"hand",title:"Hand Tool (".concat(xe.hand,")"),testId:"hand"}),v(V.Item,{itemId:"select-rectangle",title:"Select Rectangle  (".concat(xe.exit,")"),testId:"select-rectangle"}),v(V.Item,{itemId:"erase",title:"Erase (".concat(xe.erase,")"),testId:"erase",disabled:r})]}),v(V.Group,{children:P(V.Submenu,{disabled:r,testId:"bonds-drop-down-button",needOpenByMenuItemClick:!1,children:[v(V.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:r}),v(V.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:r})]})})]})}var s_=w("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),l_=w(oo,{target:"e1aw4j3q6"})("display:flex;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),u_=w("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),c_=w(_p,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(e){var t=e.theme;return t.ketcher.shadow.regular},";box-sizing:border-box;}"),d_=w("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),la=w(oo,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";"),ua=w("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),f_=w("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(e){var t=e.theme;return t.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(e){var t=e.theme;return t.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),v_=function(t){var r=t.onZoomSubmit,n=t.currentZoom,o=t.inputRef,a=S.useCallback(function(s){var l=o.current;if(l){var u=[xe["zoom-out"],xe["zoom-in"]];u.includes(s.key)||s.nativeEvent.stopImmediatePropagation(),s.key==="Enter"&&(r(),l.select())}},[r,o,xe]),i=function(l){var u=l.target;u.select()};return S.useEffect(function(){var s=o.current;Ka(n,s),document.activeElement===s&&(s==null||s.select())},[n,o]),S.useEffect(function(){var s=o.current;s==null||s.focus(),s==null||s.select()},[o]),v(f_,{ref:o,"data-testid":"zoom-value",onFocus:i,onKeyDown:a})},p_=function(){var t=S.useState(!1),r=L(t,2),n=r[0],o=r[1],a=S.useState(100),i=L(a,2),s=i[0],l=i[1],u=S.useRef(null),c=S.useRef(null);S.useEffect(function(){var g;he===null||he===void 0||(g=he.instance)===null||g===void 0||g.subscribeOnZoomEvent(function(){var b;l(Math.round((he===null||he===void 0||(b=he.instance)===null||b===void 0?void 0:b.getZoomLevel())*100))})},[he===null||he===void 0?void 0:he.instance]);var d=S.useCallback(function(){var g=c.current;if(g){var b=t_(g.value);if(b&&b!==s){var C=r_(b,s);Ka(C,g),he.instance.zoomTo(C/100)}else Ka(s,g)}},[s]),f=function(){o(!1)},p=function(){o(!0)},h=function(){he.instance.zoomIn()},m=function(){he.instance.zoomOut()},y=function(){he.instance.resetZoom()};return P(s_,{ref:u,children:[P(l_,{onClick:p,"data-testid":"zoom-selector",children:[P(u_,{"data-testid":"zoom-input",children:[s,"%"]}),v(de,{name:"chevron"})]}),v(c_,{open:n,onClose:f,anchorEl:u.current,container:document.querySelector(Gt),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:P(d_,{children:[v(v_,{onZoomSubmit:d,inputRef:c,currentZoom:s}),P(la,{"data-testid":"zoom-out",title:"Zoom Out",onClick:m,children:[v("span",{children:"Zoom out"}),v(ua,{children:xe["zoom-minus"]})]}),P(la,{"data-testid":"zoom-in",title:"Zoom In",onClick:h,children:[v("span",{children:"Zoom in"}),v(ua,{children:xe["zoom-plus"]})]}),P(la,{"data-testid":"zoom-default",title:"Zoom 100%",onClick:y,children:[v("span",{children:"Zoom 100%"}),v(ua,{children:xe["zoom-reset"]})]})]})})]})},h_=function(){var t=O(oe),r=[{name:"edit_connection_points",title:"Edit Connection Points...",disabled:!1,hidden:function(i){var s=i.props;return!(s!=null&&s.polymerBondRenderer)}}],n=function(i){var s=i.id,l=i.props;switch(s){case"edit_connection_points":{var u=l.polymerBondRenderer.polymerBond;t.events.openMonomerConnectionModal.dispatch({firstMonomer:u.firstMonomer,secondMonomer:u.secondMonomer,polymerBond:u,isReconnectionDialog:!0}),t.events.startNewSequence.dispatch(l.sequenceItemRenderer);break}}},o=document.querySelector(Gt);return o?to.createPortal(v(Io,{id:Xe.FOR_POLYMER_BOND,handleMenuChange:n,menuItems:r}),o):null};function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function m_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cc(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var g_=[ms.bondSingle,ms.selectRectangle],y_=function(){var t=O(oe),r=O(Mo),n=O(DO),o=ne(),a=O(Po),i=O(Df),s=S.useCallback(function(){o(ja(t==null?void 0:t.monomersLibrary))},[t]);S.useEffect(function(){return t==null||t.events.updateMonomersLibrary.add(s),function(){t==null||t.events.updateMonomersLibrary.remove(s)}},[t]),S.useEffect(function(){var p=function(m){var y=L(m,1),g=y[0];g!==r&&o(yt(g))};return t&&(t.events.error.add(function(h){o(iu(h))}),t.events.openErrorModal.add(function(h){o(tn(h))}),o(yt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(h){return o(or({name:"monomerConnection",additionalProps:h}))}),t.events.openConfirmationDialog.add(function(h){return o(or({name:"confirmationDialog",additionalProps:h}))}),t.events.selectTool.add(p)),function(){o(yt(null)),t==null||t.events.selectTool.remove(p)}},[t]);var l=S.useCallback(function(p){return o(dr(p))},[o]),u=S.useCallback(me.debounce(function(p){return l(p)},500),[l]);S.useEffect(function(){var p=function(m){var y=L(m,1),g=y[0];g!==r&&o(yt(g))};return t&&(t.events.error.add(function(h){o(iu(h))}),t.events.openErrorModal.add(function(h){o(tn(h))}),o(yt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(h){return o(or({name:"monomerConnection",additionalProps:h}))}),t.events.selectTool.add(p)),function(){o(yt(null)),t==null||t.events.selectTool.remove(p)}},[t]);var c=S.useCallback(function(p,h){var m={type:pe.Bond,polymerBond:p,style:h};u(m)},[u]),d=S.useCallback(function(p){var h,m,y;if(p.buttons!==1&&p.buttons!==2){if(n){p.preventDefault(),p.stopPropagation();return}var g=(h=p.target.__data__)===null||h===void 0?void 0:h.polymerBond;if(!(g&&!g.finished||g instanceof Mp)){if(g){var b=Sp(g,p.target.getBoundingClientRect());c(g,b);return}var C=(m=p.target.__data__)===null||m===void 0?void 0:m.node,x=((y=p.target.__data__)===null||y===void 0?void 0:y.monomer)||(C==null?void 0:C.monomer);if(!(C&&C instanceof yc)){if(x instanceof Je){var M={type:pe.AmbiguousMonomer,monomer:x.variantMonomerItem,target:p.target};u(M);return}var A=x.monomerItem,E=m_({},x.attachmentPointsToBonds),k=C instanceof Ur||C instanceof Wr;if(k){var N,T=C instanceof Ur?[C.sugar.monomerItem,C.rnaBase.monomerItem,(N=C.phosphate)===null||N===void 0?void 0:N.monomerItem]:[C.sugar.monomerItem,C.rnaBase.monomerItem];if(C.rnaBase instanceof Je){var I={type:pe.AmbiguousMonomer,monomer:C.rnaBase.variantMonomerItem,presetMonomers:T,target:p.target};u(I);return}var D=a.find(function(R){var z=[R.sugar,R.base,R.phosphate];return T.every(function(H,W){var Ce;return(H==null?void 0:H.props.Name)===((Ce=z[W])===null||Ce===void 0?void 0:Ce.props.Name)})}),_;C instanceof Wr?_=Ye.ChainEnd:C.firstMonomerInNode.R1AttachmentPoint!==void 0?_=Ye.ChainStart:_=Ye.ChainMiddle;var $={type:pe.Preset,monomers:T,name:D==null?void 0:D.name,idtAliases:D==null?void 0:D.idtAliases,position:_,target:p.target};u($);return}var F={type:pe.Monomer,monomer:A,attachmentPointsToBonds:E,target:p.target};u(F)}}}},[c,u,a,n]),f=S.useCallback(function(){u.cancel(),o(dr(void 0))},[u,o]);return S.useEffect(function(){t==null||t.events.mouseOverMonomer.add(d),t==null||t.events.mouseLeaveMonomer.add(f),t==null||t.events.mouseOverSequenceItem.add(d),t==null||t.events.mouseLeaveSequenceItem.add(f),t==null||t.events.mouseOverPolymerBond.add(d),t==null||t.events.mouseLeavePolymerBond.add(f);var p=function(m){f();var y=m.buttons===1;(!y||!g_.includes(r))&&d(m)};return t==null||t.events.mouseOnMoveMonomer.add(p),t==null||t.events.mouseOnMoveSequenceItem.add(p),t==null||t.events.mouseOnMovePolymerBond.add(p),window.addEventListener("hidePreview",f),function(){t==null||t.events.mouseOverMonomer.remove(d),t==null||t.events.mouseLeaveMonomer.remove(f),t==null||t.events.mouseOverSequenceItem.remove(d),t==null||t.events.mouseLeaveSequenceItem.remove(f),t==null||t.events.mouseOverPolymerBond.remove(d),t==null||t.events.mouseLeavePolymerBond.remove(f),t==null||t.events.mouseOnMoveMonomer.remove(p),t==null||t.events.mouseOnMoveSequenceItem.remove(p),t==null||t.events.mouseOnMovePolymerBond.remove(p),window.removeEventListener("hidePreview",f)}},[t,r,d,f]),S.useEffect(function(){i||t==null||t.events.resetSequenceEditMode.dispatch()},[i]),v(K,{})},b_=function(t){var r=t.selectedMonomers,n=O(oe),o=[{name:"copy",title:"Copy"},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:Ct(r),hidden:function(l){var u=l.props;return!(u!=null&&u.selectedMonomers)||!qt(u==null?void 0:u.selectedMonomers)}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",separator:!0,disabled:Ct(r),hidden:function(l){var u=l.props;return!(u!=null&&u.selectedMonomers)||!qt(u==null?void 0:u.selectedMonomers)}},{name:"delete",title:"Delete"}],a=function(l){var u=l.id;switch(u){case"copy":n.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain":n.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain":n.events.createAntisenseChain.dispatch(!0);break;case"delete":n.events.deleteSelectedStructure.dispatch();break}},i=document.querySelector(Gt);return i&&to.createPortal(v(Io,{id:Xe.FOR_SELECTED_MONOMERS,handleMenuChange:a,menuItems:o}),i)},x_=w(no,{target:"e1846tr80"})(function(e){var t=e.theme,r=e.isActive;return{width:"40px",height:"31px",backgroundColor:r?t.ketcher.color.button.group.active:"white",marginRight:"8px",border:r?t.ketcher.outline.selected.color:t.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":t.ketcher.color.button.group.active}}},""),w_=function(){var t=O(oe),r=S.useState(!0),n=L(r,2),o=n[0],a=n[1],i=Er(),s=i===ir.sequence,l=O(Df),u=function(){var d=!o;a(d),t.events.toggleIsSequenceSyncEditMode.dispatch(d),cs()};return S.useEffect(function(){s&&l&&t.events.toggleIsSequenceSyncEditMode.dispatch(o)},[s,l]),s&&l?v(K,{children:v(x_,{isActive:o,onClick:u,"data-testid":"sync_sequence_edit_mode","data-isActive":o,children:P("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:o?"white":"#333333",children:[v("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),v("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),v("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),v("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),v("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),v("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),v("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),v("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),v("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),v("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),v("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})})}):null},C_=fc(j6);function P_(e){var t=e.onInit,r=e.theme,n=e.togglerComponent,o=e.monomersLibraryUpdate,a=e.isMacromoleculesEditorTurnedOn,i=S.useRef(null),s=r?me.merge(cu,r):cu,l=me.merge(C_,{ketcher:s});return v(wp,{store:L6,children:P(xp,{theme:l,children:[v(yp,{styles:R6}),v(o8,{rootRef:i,isMacromoleculesEditorTurnedOn:a,children:v(iT,{ref:i,className:bp,children:v(M_,{theme:s,togglerComponent:n,monomersLibraryUpdate:o,onInit:t})})})]})})}function M_(e){var t=e.theme,r=e.togglerComponent,n=e.monomersLibraryUpdate,o=e.onInit,a=ne(),i=S.useRef(null),s=O(l6),l=O(oe),u=O($O),c=cT(),d=S.useState(!1),f=L(d,2),p=f[0],h=f[1],m=n8(),y=S.useState(),g=L(y,2),b=g[0],C=g[1],x=S.useState([]),M=L(x,2),A=M[0],E=M[1],k=bn({id:Xe.FOR_SEQUENCE}),N=k.show,T=bn({id:Xe.FOR_POLYMER_BOND}),I=T.show,D=bn({id:Xe.FOR_SELECTED_MONOMERS}),_=D.show;S.useEffect(function(){return a(AO({theme:t,canvas:i.current,monomersLibraryUpdate:n,onInit:o})),function(){a(PO(null))}},[a]),vT(),S.useEffect(function(){l==null||l.events.rightClickSequence.add(function(R){var z=L(R,2),H=z[0],W=z[1];C(W),window.dispatchEvent(new Event("hidePreview")),a(_f(!0)),N({event:H,props:{sequenceItemRenderer:H.target.__data__}})}),l==null||l.events.rightClickPolymerBond.add(function(R){var z=L(R,2),H=z[0],W=z[1];I({event:H,props:{polymerBondRenderer:W}})}),l==null||l.events.rightClickSelectedMonomers.add(function(R){var z=L(R,2),H=z[0],W=z[1];E(W),_({event:H,props:{selectedMonomers:W}})}),l==null||l.events.rightClickCanvas.add(function(R){var z=L(R,2),H=z[0],W=z[1];C(W),N({event:H,props:{}})}),l==null||l.events.toggleMacromoleculesPropertiesVisibility.add(function(){a($f({}))})},[l]),S.useEffect(function(){return l==null||l.zoomTool.observeCanvasResize(),function(){l==null||l.zoomTool.destroy()}},[l]);var $=function(){a(n6())},F=S.useCallback(function(){h(function(R){return!R})},[]);return P(K,{children:[P(ke,{children:[P(ke.Top,{shortened:p,"data-testid":"top-toolbar",children:[v(a_,{}),P(sT,{children:[v(w_,{}),v(NT,{}),v(SN,{}),v(lT,{className:m?"toggler-component-wrapper--disabled":"",children:r}),v(xT,{}),v(Rv,{}),v(p_,{})]})]}),v(ke.Left,{children:v(i_,{})}),P(ke.Main,{children:[v(y_,{}),P(uT,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas",preserveAspectRatio:"xMidYMid meet",ref:i,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[P("defs",{children:[v(Z9,{}),v(Y9,{}),v(Q9,{}),v(X9,{}),v(J9,{}),v(eT,{}),v(tT,{}),v(nT,{}),v(rT,{})]}),v("g",{className:"drawn-structures"}),u&&v("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),c&&v(hT,{})]}),v(ke.Right,{hide:p,children:v(w7,{toggleLibraryVisibility:F})}),v(ke.Bottom,{children:v(e_,{})}),v(ke.InsideRoot,{children:p&&v(M7,{onClick:F})})]}),v(MN,{}),v(HT,{selections:b}),v(h_,{}),v(b_,{selectedMonomers:A}),v(W9,{}),v(aT,{}),v(Cm,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!s,onClose:$,autoHideDuration:6e3,children:P(G9,{id:"error-tooltip",children:[v(V9,{"data-testid":"error-tooltip",children:s}),v(K9,{testId:"error-tooltip-close",iconName:"close",onClick:$})]})})]})}export{P_ as default};
