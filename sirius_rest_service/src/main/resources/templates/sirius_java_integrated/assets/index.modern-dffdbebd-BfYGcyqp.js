import{s as qd,k as Hd,r as S,m as Ud,n as Ou,a as Pe,j as J,_,o as it,p as Ke,q as xe,v as Z,u as Ve,w as _e,x as Ye,h as Tu,y as Gd,C as Wd,z as Kd,A as Vd,B as Yd,D as Zd,E as Qd,M as Xd,F as ao,H as Nu,I as Jd,J as ef,K as tf,L as ai,N as nf,O as oi,Q as rf,R as af,S as of,U as ii,V as si,W as sf,X as uf,Y as ju,Z as lf,$ as Kn,a0 as cf,g as Ma,f as Ge,a1 as ur,a2 as Lu,i as W,a3 as tt,a4 as mt,a5 as df,a6 as w,a7 as Du,a8 as _u,a9 as At,aa as Aa,ab as Or,ac as bt,ad as lr,ae as oo,af as ui,l as xt,ag as ff,ah as pf,T as hf,P as vf,ai as j,aj as Jn,ak as mf,al as Ru,am as Se,an as ge,ao as li,ap as $u,aq as Fu,ar as Tr,as as Bu,at as ye,au as gf,av as yf,aw as Nr,ax as zu,ay as bf,az as xf,aA as wf,aB as qu,aC as Hu,aD as Cf,aE as Sf,aF as Kt,aG as Uu,aH as jr,aI as Gu,aJ as $t,aK as Mf,aL as io,aM as so,aN as Af,c as Ef,b as If,d as Pf,aO as Wu,aP as Ku,aQ as kf,aR as Of,aS as Tf,aT as Nf,aU as Lt,aV as ci,aW as uo,aX as Vu,aY as Lr,aZ as cr,a_ as me,a$ as jf,b0 as Fe,b1 as Lf,b2 as Df,b3 as Yu,b4 as wt,b5 as In,b6 as Pn,e as Ea,b7 as _f,b8 as Rf,b9 as nt,ba as kn,bb as dr,bc as fr,bd as $f,be as Ia,bf as Ff,bg as Bf,bh as zf,bi as qf,t as di,bj as fn,bk as Hf,bl as Uf,bm as Gf,bn as Wf,bo as Kf,bp as Zu,bq as Vf,br as Qu,bs as Yf,bt as Zf,bu as fi,bv as Qf,bw as Xf,bx as Jf,by as ep}from"./index-3v6slhO0.js";import{j as f,a as E,F as ee}from"./emotion-react-jsx-runtime.browser.esm-DQrYs5MG.js";function Xu(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Xu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tp(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Xu(e))&&(r&&(r+=" "),r+=t);return r}const np=["className","component"];function rp(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=e,o=qd("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Hd);return S.forwardRef(function(u,l){const c=Ud(n),d=Ou(u),{className:p,component:v="div"}=d,h=Pe(d,np);return J.jsx(o,_({as:v,ref:l,className:tp(p,a?a(r):r),theme:t&&c[t]||c},h))})}function Xr(e,t){var n,r;return S.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ap(e){return it("MuiTypography",e)}Ke("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const op=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ip=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:a,variant:o,classes:i}=e,s={root:["root",o,e.align!=="inherit"&&`align${Z(t)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Ye(s,ap,i)},sp=xe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Z(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>_({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),pi={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},up={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},lp=e=>up[e]||e,gn=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiTypography"}),a=lp(r.color),o=Ou(_({},r,{color:a})),{align:i="inherit",className:s,component:u,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:p="body1",variantMapping:v=pi}=o,h=Pe(o,op),m=_({},o,{align:i,color:a,className:s,component:u,gutterBottom:l,noWrap:c,paragraph:d,variant:p,variantMapping:v}),g=u||(d?"p":v[p]||pi[p])||"span",b=ip(m);return J.jsx(sp,_({as:g,ref:n,ownerState:m,className:_e(b.root,s)},h))}),cp=Ke("MuiBox",["root"]),dp=Tu(),Ju=rp({themeId:Gd,defaultTheme:dp,defaultClassName:cp.root,generateClassName:Wd.generate});function fp(e){return it("MuiButtonGroup",e)}const pe=Ke("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),pp=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],hp=(e,t)=>{const{ownerState:n}=e;return[{[`& .${pe.grouped}`]:t.grouped},{[`& .${pe.grouped}`]:t[`grouped${Z(n.orientation)}`]},{[`& .${pe.grouped}`]:t[`grouped${Z(n.variant)}`]},{[`& .${pe.grouped}`]:t[`grouped${Z(n.variant)}${Z(n.orientation)}`]},{[`& .${pe.grouped}`]:t[`grouped${Z(n.variant)}${Z(n.color)}`]},{[`& .${pe.firstButton}`]:t.firstButton},{[`& .${pe.lastButton}`]:t.lastButton},{[`& .${pe.middleButton}`]:t.middleButton},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},vp=e=>{const{classes:t,color:n,disabled:r,disableElevation:a,fullWidth:o,orientation:i,variant:s}=e,u={root:["root",s,i==="vertical"&&"vertical",o&&"fullWidth",a&&"disableElevation"],grouped:["grouped",`grouped${Z(i)}`,`grouped${Z(s)}`,`grouped${Z(s)}${Z(i)}`,`grouped${Z(s)}${Z(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Ye(u,fp,t)},mp=xe("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:hp})(({theme:e,ownerState:t})=>_({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${pe.grouped}`]:_({minWidth:40,"&:hover":_({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${pe.firstButton},& .${pe.middleButton}`]:_({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${pe.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${pe.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Kd(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${pe.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${pe.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":_({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${pe.lastButton},& .${pe.middleButton}`]:_({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),gp=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiButtonGroup"}),{children:a,className:o,color:i="primary",component:s="div",disabled:u=!1,disableElevation:l=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:p=!1,orientation:v="horizontal",size:h="medium",variant:m="outlined"}=r,g=Pe(r,pp),b=_({},r,{color:i,component:s,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:p,orientation:v,size:h,variant:m}),y=vp(b),C=S.useMemo(()=>({className:y.grouped,color:i,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:p,size:h,variant:m}),[i,u,l,c,d,p,h,m,y.grouped]),x=Vd(a),M=x.length,A=I=>{const P=I===0,k=I===M-1;return P&&k?"":P?y.firstButton:k?y.lastButton:y.middleButton};return J.jsx(mp,_({as:s,role:"group",className:_e(y.root,o),ref:n,ownerState:b},g,{children:J.jsx(Yd.Provider,{value:C,children:x.map((I,P)=>J.jsx(Zd.Provider,{value:A(P),children:I},P))})}))});function yp(e){return it("MuiDialog",e)}const Jr=Ke("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),el=S.createContext({}),bp=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],xp=xe(Qd,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),wp=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:a,fullScreen:o}=e,i={root:["root"],container:["container",`scroll${Z(n)}`],paper:["paper",`paperScroll${Z(n)}`,`paperWidth${Z(String(r))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return Ye(i,yp,t)},Cp=xe(Xd,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Sp=xe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Z(n.scroll)}`]]}})(({ownerState:e})=>_({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Mp=xe(ao,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Z(n.scroll)}`],t[`paperWidth${Z(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>_({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Jr.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Jr.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Jr.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ap=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiDialog"}),a=Nu(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:u,BackdropProps:l,children:c,className:d,disableEscapeKeyDown:p=!1,fullScreen:v=!1,fullWidth:h=!1,maxWidth:m="sm",onBackdropClick:g,onClick:b,onClose:y,open:C,PaperComponent:x=ao,PaperProps:M={},scroll:A="paper",TransitionComponent:I=ef,transitionDuration:P=o,TransitionProps:k}=r,N=Pe(r,bp),O=_({},r,{disableEscapeKeyDown:p,fullScreen:v,fullWidth:h,maxWidth:m,scroll:A}),B=wp(O),G=S.useRef(),D=L=>{G.current=L.target===L.currentTarget},R=L=>{b&&b(L),G.current&&(G.current=null,g&&g(L),y&&y(L,"backdropClick"))},$=Jd(s),q=S.useMemo(()=>({titleId:$}),[$]);return J.jsx(Cp,_({className:_e(B.root,d),closeAfterTransition:!0,components:{Backdrop:xp},componentsProps:{backdrop:_({transitionDuration:P,as:u},l)},disableEscapeKeyDown:p,onClose:y,open:C,ref:n,onClick:R,ownerState:O},N,{children:J.jsx(I,_({appear:!0,in:C,timeout:P,role:"presentation"},k,{children:J.jsx(Sp,{className:_e(B.container),onMouseDown:D,ownerState:O,children:J.jsx(Mp,_({as:x,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":$},M,{className:_e(B.paper,M.className),ownerState:O,children:J.jsx(el.Provider,{value:q,children:c})}))})}))}))});function Ep(e){return it("MuiDialogActions",e)}Ke("MuiDialogActions",["root","spacing"]);const Ip=["className","disableSpacing"],Pp=e=>{const{classes:t,disableSpacing:n}=e;return Ye({root:["root",!n&&"spacing"]},Ep,t)},kp=xe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>_({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Op=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:o=!1}=r,i=Pe(r,Ip),s=_({},r,{disableSpacing:o}),u=Pp(s);return J.jsx(kp,_({className:_e(u.root,a),ownerState:s,ref:n},i))});function Tp(e){return it("MuiDialogContent",e)}Ke("MuiDialogContent",["root","dividers"]);function Np(e){return it("MuiDialogTitle",e)}const jp=Ke("MuiDialogTitle",["root"]),Lp=["className","dividers"],Dp=e=>{const{classes:t,dividers:n}=e;return Ye({root:["root",n&&"dividers"]},Tp,t)},_p=xe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>_({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${jp.root} + &`]:{paddingTop:0}})),Rp=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiDialogContent"}),{className:a,dividers:o=!1}=r,i=Pe(r,Lp),s=_({},r,{dividers:o}),u=Dp(s);return J.jsx(_p,_({className:_e(u.root,a),ownerState:s,ref:n},i))}),$p=["className","id"],Fp=e=>{const{classes:t}=e;return Ye({root:["root"]},Np,t)},Bp=xe(gn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),zp=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiDialogTitle"}),{className:a,id:o}=r,i=Pe(r,$p),s=r,u=Fp(s),{titleId:l=o}=S.useContext(el);return J.jsx(Bp,_({component:"h2",className:_e(u.root,a),ownerState:s,ref:n,variant:"h6",id:o??l},i))});function qp(e){return it("MuiFormControl",e)}Ke("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hp=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Up=e=>{const{classes:t,margin:n,fullWidth:r}=e,a={root:["root",n!=="none"&&`margin${Z(n)}`,r&&"fullWidth"]};return Ye(a,qp,t)},Gp=xe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>_({},t.root,t[`margin${Z(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>_({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Wp=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiFormControl"}),{children:a,className:o,color:i="primary",component:s="div",disabled:u=!1,error:l=!1,focused:c,fullWidth:d=!1,hiddenLabel:p=!1,margin:v="none",required:h=!1,size:m="medium",variant:g="outlined"}=r,b=Pe(r,Hp),y=_({},r,{color:i,component:s,disabled:u,error:l,fullWidth:d,hiddenLabel:p,margin:v,required:h,size:m,variant:g}),C=Up(y),[x,M]=S.useState(()=>{let G=!1;return a&&S.Children.forEach(a,D=>{if(!Xr(D,["Input","Select"]))return;const R=Xr(D,["Select"])?D.props.input:D;R&&tf(R.props)&&(G=!0)}),G}),[A,I]=S.useState(()=>{let G=!1;return a&&S.Children.forEach(a,D=>{Xr(D,["Input","Select"])&&(ai(D.props,!0)||ai(D.props.inputProps,!0))&&(G=!0)}),G}),[P,k]=S.useState(!1);u&&P&&k(!1);const N=c!==void 0&&!u?c:P;let O;const B=S.useMemo(()=>({adornedStart:x,setAdornedStart:M,color:i,disabled:u,error:l,filled:A,focused:N,fullWidth:d,hiddenLabel:p,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{k(!0)},registerEffect:O,required:h,variant:g}),[x,i,u,l,A,N,d,p,O,h,m,g]);return J.jsx(nf.Provider,{value:B,children:J.jsx(Gp,_({as:s,ownerState:y,className:_e(C.root,o),ref:n},b,{children:a}))})}),Kp=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Vp=e=>{const{classes:t,inset:n,primary:r,secondary:a,dense:o}=e;return Ye({root:["root",n&&"inset",o&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},af,t)},Yp=xe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${oi.primary}`]:t.primary},{[`& .${oi.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>_({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Zp=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiListItemText"}),{children:a,className:o,disableTypography:i=!1,inset:s=!1,primary:u,primaryTypographyProps:l,secondary:c,secondaryTypographyProps:d}=r,p=Pe(r,Kp),{dense:v}=S.useContext(rf);let h=u??a,m=c;const g=_({},r,{disableTypography:i,inset:s,primary:!!h,secondary:!!m,dense:v}),b=Vp(g);return h!=null&&h.type!==gn&&!i&&(h=J.jsx(gn,_({variant:v?"body2":"body1",className:b.primary,component:l!=null&&l.variant?void 0:"span",display:"block"},l,{children:h}))),m!=null&&m.type!==gn&&!i&&(m=J.jsx(gn,_({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},d,{children:m}))),J.jsxs(Yp,_({className:_e(b.root,o),ownerState:g,ref:n},p,{children:[h,m]}))});function Qp(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:a,resumeHideDuration:o}=e,i=of();S.useEffect(()=>{if(!a)return;function b(y){y.defaultPrevented||(y.key==="Escape"||y.key==="Esc")&&(r==null||r(y,"escapeKeyDown"))}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,r]);const s=ii((b,y)=>{r==null||r(b,y)}),u=ii(b=>{!r||b==null||i.start(b,()=>{s(null,"timeout")})});S.useEffect(()=>(a&&u(t),i.clear),[a,t,u,i]);const l=b=>{r==null||r(b,"clickaway")},c=i.clear,d=S.useCallback(()=>{t!=null&&u(o??t*.5)},[t,o,u]),p=b=>y=>{const C=b.onBlur;C==null||C(y),d()},v=b=>y=>{const C=b.onFocus;C==null||C(y),c()},h=b=>y=>{const C=b.onMouseEnter;C==null||C(y),c()},m=b=>y=>{const C=b.onMouseLeave;C==null||C(y),d()};return S.useEffect(()=>{if(!n&&a)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,a,d,c]),{getRootProps:(b={})=>{const y=_({},si(e),si(b));return _({role:"presentation"},b,y,{onBlur:p(y),onFocus:v(y),onMouseEnter:h(y),onMouseLeave:m(y)})},onClickAway:l}}function Xp(e){return it("MuiSnackbarContent",e)}Ke("MuiSnackbarContent",["root","message","action"]);const Jp=["action","className","message","role"],eh=e=>{const{classes:t}=e;return Ye({root:["root"],action:["action"],message:["message"]},Xp,t)},th=xe(ao,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=sf(e.palette.background.default,t);return _({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),nh=xe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),rh=xe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ah=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiSnackbarContent"}),{action:a,className:o,message:i,role:s="alert"}=r,u=Pe(r,Jp),l=r,c=eh(l);return J.jsxs(th,_({role:s,square:!0,elevation:6,className:_e(c.root,o),ownerState:l,ref:n},u,{children:[J.jsx(nh,{className:c.message,ownerState:l,children:i}),a?J.jsx(rh,{className:c.action,ownerState:l,children:a}):null]}))});function oh(e){return it("MuiSnackbar",e)}Ke("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const ih=["onEnter","onExited"],sh=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],uh=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Z(n.vertical)}${Z(n.horizontal)}`]};return Ye(r,oh,t)},hi=xe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Z(n.anchorOrigin.vertical)}${Z(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return _({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:_({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),lh=S.forwardRef(function(t,n){const r=Ve({props:t,name:"MuiSnackbar"}),a=Nu(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:c,className:d,ClickAwayListenerProps:p,ContentProps:v,disableWindowBlurListener:h=!1,message:m,open:g,TransitionComponent:b=lf,transitionDuration:y=o,TransitionProps:{onEnter:C,onExited:x}={}}=r,M=Pe(r.TransitionProps,ih),A=Pe(r,sh),I=_({},r,{anchorOrigin:{vertical:s,horizontal:u},autoHideDuration:l,disableWindowBlurListener:h,TransitionComponent:b,transitionDuration:y}),P=uh(I),{getRootProps:k,onClickAway:N}=Qp(_({},I)),[O,B]=S.useState(!0),G=uf({elementType:hi,getSlotProps:k,externalForwardedProps:A,ownerState:I,additionalProps:{ref:n},className:[P.root,d]}),D=$=>{B(!0),x&&x($)},R=($,q)=>{B(!1),C&&C($,q)};return!g&&O?null:J.jsx(ju,_({onClickAway:N},p,{children:J.jsx(hi,_({},G,{children:J.jsx(b,_({appear:!0,in:g,timeout:y,direction:s==="top"?"down":"up",onEnter:R,onExited:D},M,{children:c||J.jsx(ah,_({message:m,action:i},v))}))}))}))});function ch(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var tl=ch;function dh(){this.__data__=[],this.size=0}var fh=dh;function ph(e,t){return e===t||e!==e&&t!==t}var nl=ph,hh=nl;function vh(e,t){for(var n=e.length;n--;)if(hh(e[n][0],t))return n;return-1}var Dr=vh,mh=Dr,gh=Array.prototype,yh=gh.splice;function bh(e){var t=this.__data__,n=mh(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():yh.call(t,n,1),--this.size,!0}var xh=bh,wh=Dr;function Ch(e){var t=this.__data__,n=wh(t,e);return n<0?void 0:t[n][1]}var Sh=Ch,Mh=Dr;function Ah(e){return Mh(this.__data__,e)>-1}var Eh=Ah,Ih=Dr;function Ph(e,t){var n=this.__data__,r=Ih(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var kh=Ph,Oh=fh,Th=xh,Nh=Sh,jh=Eh,Lh=kh;function en(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}en.prototype.clear=Oh;en.prototype.delete=Th;en.prototype.get=Nh;en.prototype.has=jh;en.prototype.set=Lh;var _r=en,Dh=_r;function _h(){this.__data__=new Dh,this.size=0}var Rh=_h;function $h(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Fh=$h;function Bh(e){return this.__data__.get(e)}var zh=Bh;function qh(e){return this.__data__.has(e)}var Hh=qh,Uh=typeof Kn=="object"&&Kn&&Kn.Object===Object&&Kn,rl=Uh,Gh=rl,Wh=typeof self=="object"&&self&&self.Object===Object&&self,Kh=Gh||Wh||Function("return this")(),Ze=Kh,Vh=Ze,Yh=Vh.Symbol,Bn=Yh,vi=Bn,al=Object.prototype,Zh=al.hasOwnProperty,Qh=al.toString,pn=vi?vi.toStringTag:void 0;function Xh(e){var t=Zh.call(e,pn),n=e[pn];try{e[pn]=void 0;var r=!0}catch{}var a=Qh.call(e);return r&&(t?e[pn]=n:delete e[pn]),a}var Jh=Xh,ev=Object.prototype,tv=ev.toString;function nv(e){return tv.call(e)}var rv=nv,mi=Bn,av=Jh,ov=rv,iv="[object Null]",sv="[object Undefined]",gi=mi?mi.toStringTag:void 0;function uv(e){return e==null?e===void 0?sv:iv:gi&&gi in Object(e)?av(e):ov(e)}var tn=uv;function lv(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zn=lv,cv=tn,dv=zn,fv="[object AsyncFunction]",pv="[object Function]",hv="[object GeneratorFunction]",vv="[object Proxy]";function mv(e){if(!dv(e))return!1;var t=cv(e);return t==pv||t==hv||t==fv||t==vv}var ol=mv,gv=Ze,yv=gv["__core-js_shared__"],bv=yv,ea=bv,yi=function(){var e=/[^.]+$/.exec(ea&&ea.keys&&ea.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xv(e){return!!yi&&yi in e}var wv=xv,Cv=Function.prototype,Sv=Cv.toString;function Mv(e){if(e!=null){try{return Sv.call(e)}catch{}try{return e+""}catch{}}return""}var il=Mv,Av=ol,Ev=wv,Iv=zn,Pv=il,kv=/[\\^$.*+?()[\]{}|]/g,Ov=/^\[object .+?Constructor\]$/,Tv=Function.prototype,Nv=Object.prototype,jv=Tv.toString,Lv=Nv.hasOwnProperty,Dv=RegExp("^"+jv.call(Lv).replace(kv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _v(e){if(!Iv(e)||Ev(e))return!1;var t=Av(e)?Dv:Ov;return t.test(Pv(e))}var Rv=_v;function $v(e,t){return e==null?void 0:e[t]}var Fv=$v,Bv=Rv,zv=Fv;function qv(e,t){var n=zv(e,t);return Bv(n)?n:void 0}var Dt=qv,Hv=Dt,Uv=Ze,Gv=Hv(Uv,"Map"),lo=Gv,Wv=Dt,Kv=Wv(Object,"create"),Rr=Kv,bi=Rr;function Vv(){this.__data__=bi?bi(null):{},this.size=0}var Yv=Vv;function Zv(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Qv=Zv,Xv=Rr,Jv="__lodash_hash_undefined__",em=Object.prototype,tm=em.hasOwnProperty;function nm(e){var t=this.__data__;if(Xv){var n=t[e];return n===Jv?void 0:n}return tm.call(t,e)?t[e]:void 0}var rm=nm,am=Rr,om=Object.prototype,im=om.hasOwnProperty;function sm(e){var t=this.__data__;return am?t[e]!==void 0:im.call(t,e)}var um=sm,lm=Rr,cm="__lodash_hash_undefined__";function dm(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=lm&&t===void 0?cm:t,this}var fm=dm,pm=Yv,hm=Qv,vm=rm,mm=um,gm=fm;function nn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nn.prototype.clear=pm;nn.prototype.delete=hm;nn.prototype.get=vm;nn.prototype.has=mm;nn.prototype.set=gm;var ym=nn,xi=ym,bm=_r,xm=lo;function wm(){this.size=0,this.__data__={hash:new xi,map:new(xm||bm),string:new xi}}var Cm=wm;function Sm(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mm=Sm,Am=Mm;function Em(e,t){var n=e.__data__;return Am(t)?n[typeof t=="string"?"string":"hash"]:n.map}var $r=Em,Im=$r;function Pm(e){var t=Im(this,e).delete(e);return this.size-=t?1:0,t}var km=Pm,Om=$r;function Tm(e){return Om(this,e).get(e)}var Nm=Tm,jm=$r;function Lm(e){return jm(this,e).has(e)}var Dm=Lm,_m=$r;function Rm(e,t){var n=_m(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var $m=Rm,Fm=Cm,Bm=km,zm=Nm,qm=Dm,Hm=$m;function rn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rn.prototype.clear=Fm;rn.prototype.delete=Bm;rn.prototype.get=zm;rn.prototype.has=qm;rn.prototype.set=Hm;var sl=rn,Um=_r,Gm=lo,Wm=sl,Km=200;function Vm(e,t){var n=this.__data__;if(n instanceof Um){var r=n.__data__;if(!Gm||r.length<Km-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wm(r)}return n.set(e,t),this.size=n.size,this}var Ym=Vm,Zm=_r,Qm=Rh,Xm=Fh,Jm=zh,eg=Hh,tg=Ym;function an(e){var t=this.__data__=new Zm(e);this.size=t.size}an.prototype.clear=Qm;an.prototype.delete=Xm;an.prototype.get=Jm;an.prototype.has=eg;an.prototype.set=tg;var ng=an;function rg(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var ag=rg,og=Dt,ig=function(){try{var e=og(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ul=ig,wi=ul;function sg(e,t,n){t=="__proto__"&&wi?wi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ll=sg,ug=ll,lg=nl,cg=Object.prototype,dg=cg.hasOwnProperty;function fg(e,t,n){var r=e[t];(!(dg.call(e,t)&&lg(r,n))||n===void 0&&!(t in e))&&ug(e,t,n)}var cl=fg,pg=cl,hg=ll;function vg(e,t,n,r){var a=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;u===void 0&&(u=e[s]),a?hg(n,s,u):pg(n,s,u)}return n}var qn=vg;function mg(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gg=mg;function yg(e){return e!=null&&typeof e=="object"}var _t=yg,bg=tn,xg=_t,wg="[object Arguments]";function Cg(e){return xg(e)&&bg(e)==wg}var Sg=Cg,Ci=Sg,Mg=_t,dl=Object.prototype,Ag=dl.hasOwnProperty,Eg=dl.propertyIsEnumerable,Ig=Ci(function(){return arguments}())?Ci:function(e){return Mg(e)&&Ag.call(e,"callee")&&!Eg.call(e,"callee")},fl=Ig,Pg=Array.isArray,Rt=Pg,pr={exports:{}};function kg(){return!1}var Og=kg;pr.exports;(function(e,t){var n=Ze,r=Og,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,s=i?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;e.exports=l})(pr,pr.exports);var pl=pr.exports,Tg=9007199254740991,Ng=/^(?:0|[1-9]\d*)$/;function jg(e,t){var n=typeof e;return t=t??Tg,!!t&&(n=="number"||n!="symbol"&&Ng.test(e))&&e>-1&&e%1==0&&e<t}var Lg=jg,Dg=9007199254740991;function _g(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dg}var hl=_g,Rg=tn,$g=hl,Fg=_t,Bg="[object Arguments]",zg="[object Array]",qg="[object Boolean]",Hg="[object Date]",Ug="[object Error]",Gg="[object Function]",Wg="[object Map]",Kg="[object Number]",Vg="[object Object]",Yg="[object RegExp]",Zg="[object Set]",Qg="[object String]",Xg="[object WeakMap]",Jg="[object ArrayBuffer]",e1="[object DataView]",t1="[object Float32Array]",n1="[object Float64Array]",r1="[object Int8Array]",a1="[object Int16Array]",o1="[object Int32Array]",i1="[object Uint8Array]",s1="[object Uint8ClampedArray]",u1="[object Uint16Array]",l1="[object Uint32Array]",X={};X[t1]=X[n1]=X[r1]=X[a1]=X[o1]=X[i1]=X[s1]=X[u1]=X[l1]=!0;X[Bg]=X[zg]=X[Jg]=X[qg]=X[e1]=X[Hg]=X[Ug]=X[Gg]=X[Wg]=X[Kg]=X[Vg]=X[Yg]=X[Zg]=X[Qg]=X[Xg]=!1;function c1(e){return Fg(e)&&$g(e.length)&&!!X[Rg(e)]}var d1=c1;function f1(e){return function(t){return e(t)}}var co=f1,hr={exports:{}};hr.exports;(function(e,t){var n=rl,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,i=o&&n.process,s=function(){try{var u=a&&a.require&&a.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();e.exports=s})(hr,hr.exports);var fo=hr.exports,p1=d1,h1=co,Si=fo,Mi=Si&&Si.isTypedArray,v1=Mi?h1(Mi):p1,m1=v1,g1=gg,y1=fl,b1=Rt,x1=pl,w1=Lg,C1=m1,S1=Object.prototype,M1=S1.hasOwnProperty;function A1(e,t){var n=b1(e),r=!n&&y1(e),a=!n&&!r&&x1(e),o=!n&&!r&&!a&&C1(e),i=n||r||a||o,s=i?g1(e.length,String):[],u=s.length;for(var l in e)(t||M1.call(e,l))&&!(i&&(l=="length"||a&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||w1(l,u)))&&s.push(l);return s}var vl=A1,E1=Object.prototype;function I1(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||E1;return e===n}var po=I1;function P1(e,t){return function(n){return e(t(n))}}var ml=P1,k1=ml,O1=k1(Object.keys,Object),T1=O1,N1=po,j1=T1,L1=Object.prototype,D1=L1.hasOwnProperty;function _1(e){if(!N1(e))return j1(e);var t=[];for(var n in Object(e))D1.call(e,n)&&n!="constructor"&&t.push(n);return t}var R1=_1,$1=ol,F1=hl;function B1(e){return e!=null&&F1(e.length)&&!$1(e)}var gl=B1,z1=vl,q1=R1,H1=gl;function U1(e){return H1(e)?z1(e):q1(e)}var ho=U1,G1=qn,W1=ho;function K1(e,t){return e&&G1(t,W1(t),e)}var V1=K1;function Y1(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Z1=Y1,Q1=zn,X1=po,J1=Z1,ey=Object.prototype,ty=ey.hasOwnProperty;function ny(e){if(!Q1(e))return J1(e);var t=X1(e),n=[];for(var r in e)r=="constructor"&&(t||!ty.call(e,r))||n.push(r);return n}var ry=ny,ay=vl,oy=ry,iy=gl;function sy(e){return iy(e)?ay(e,!0):oy(e)}var vo=sy,uy=qn,ly=vo;function cy(e,t){return e&&uy(t,ly(t),e)}var dy=cy,vr={exports:{}};vr.exports;(function(e,t){var n=Ze,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,i=o?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,p=s?s(d):new l.constructor(d);return l.copy(p),p}e.exports=u})(vr,vr.exports);var fy=vr.exports;function py(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var hy=py;function vy(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}var my=vy;function gy(){return[]}var yl=gy,yy=my,by=yl,xy=Object.prototype,wy=xy.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,Cy=Ai?function(e){return e==null?[]:(e=Object(e),yy(Ai(e),function(t){return wy.call(e,t)}))}:by,mo=Cy,Sy=qn,My=mo;function Ay(e,t){return Sy(e,My(e),t)}var Ey=Ay;function Iy(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var go=Iy,Py=ml,ky=Py(Object.getPrototypeOf,Object),yo=ky,Oy=go,Ty=yo,Ny=mo,jy=yl,Ly=Object.getOwnPropertySymbols,Dy=Ly?function(e){for(var t=[];e;)Oy(t,Ny(e)),e=Ty(e);return t}:jy,bl=Dy,_y=qn,Ry=bl;function $y(e,t){return _y(e,Ry(e),t)}var Fy=$y,By=go,zy=Rt;function qy(e,t,n){var r=t(e);return zy(e)?r:By(r,n(e))}var xl=qy,Hy=xl,Uy=mo,Gy=ho;function Wy(e){return Hy(e,Gy,Uy)}var Ky=Wy,Vy=xl,Yy=bl,Zy=vo;function Qy(e){return Vy(e,Zy,Yy)}var wl=Qy,Xy=Dt,Jy=Ze,e0=Xy(Jy,"DataView"),t0=e0,n0=Dt,r0=Ze,a0=n0(r0,"Promise"),o0=a0,i0=Dt,s0=Ze,u0=i0(s0,"Set"),l0=u0,c0=Dt,d0=Ze,f0=c0(d0,"WeakMap"),p0=f0,Pa=t0,ka=lo,Oa=o0,Ta=l0,Na=p0,Cl=tn,on=il,Ei="[object Map]",h0="[object Object]",Ii="[object Promise]",Pi="[object Set]",ki="[object WeakMap]",Oi="[object DataView]",v0=on(Pa),m0=on(ka),g0=on(Oa),y0=on(Ta),b0=on(Na),Et=Cl;(Pa&&Et(new Pa(new ArrayBuffer(1)))!=Oi||ka&&Et(new ka)!=Ei||Oa&&Et(Oa.resolve())!=Ii||Ta&&Et(new Ta)!=Pi||Na&&Et(new Na)!=ki)&&(Et=function(e){var t=Cl(e),n=t==h0?e.constructor:void 0,r=n?on(n):"";if(r)switch(r){case v0:return Oi;case m0:return Ei;case g0:return Ii;case y0:return Pi;case b0:return ki}return t});var bo=Et,x0=Object.prototype,w0=x0.hasOwnProperty;function C0(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&w0.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var S0=C0,M0=Ze,A0=M0.Uint8Array,E0=A0,Ti=E0;function I0(e){var t=new e.constructor(e.byteLength);return new Ti(t).set(new Ti(e)),t}var xo=I0,P0=xo;function k0(e,t){var n=t?P0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var O0=k0,T0=/\w*$/;function N0(e){var t=new e.constructor(e.source,T0.exec(e));return t.lastIndex=e.lastIndex,t}var j0=N0,Ni=Bn,ji=Ni?Ni.prototype:void 0,Li=ji?ji.valueOf:void 0;function L0(e){return Li?Object(Li.call(e)):{}}var D0=L0,_0=xo;function R0(e,t){var n=t?_0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $0=R0,F0=xo,B0=O0,z0=j0,q0=D0,H0=$0,U0="[object Boolean]",G0="[object Date]",W0="[object Map]",K0="[object Number]",V0="[object RegExp]",Y0="[object Set]",Z0="[object String]",Q0="[object Symbol]",X0="[object ArrayBuffer]",J0="[object DataView]",eb="[object Float32Array]",tb="[object Float64Array]",nb="[object Int8Array]",rb="[object Int16Array]",ab="[object Int32Array]",ob="[object Uint8Array]",ib="[object Uint8ClampedArray]",sb="[object Uint16Array]",ub="[object Uint32Array]";function lb(e,t,n){var r=e.constructor;switch(t){case X0:return F0(e);case U0:case G0:return new r(+e);case J0:return B0(e,n);case eb:case tb:case nb:case rb:case ab:case ob:case ib:case sb:case ub:return H0(e,n);case W0:return new r;case K0:case Z0:return new r(e);case V0:return z0(e);case Y0:return new r;case Q0:return q0(e)}}var cb=lb,db=zn,Di=Object.create,fb=function(){function e(){}return function(t){if(!db(t))return{};if(Di)return Di(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),pb=fb,hb=pb,vb=yo,mb=po;function gb(e){return typeof e.constructor=="function"&&!mb(e)?hb(vb(e)):{}}var yb=gb,bb=bo,xb=_t,wb="[object Map]";function Cb(e){return xb(e)&&bb(e)==wb}var Sb=Cb,Mb=Sb,Ab=co,_i=fo,Ri=_i&&_i.isMap,Eb=Ri?Ab(Ri):Mb,Ib=Eb,Pb=bo,kb=_t,Ob="[object Set]";function Tb(e){return kb(e)&&Pb(e)==Ob}var Nb=Tb,jb=Nb,Lb=co,$i=fo,Fi=$i&&$i.isSet,Db=Fi?Lb(Fi):jb,_b=Db,Rb=ng,$b=ag,Fb=cl,Bb=V1,zb=dy,qb=fy,Hb=hy,Ub=Ey,Gb=Fy,Wb=Ky,Kb=wl,Vb=bo,Yb=S0,Zb=cb,Qb=yb,Xb=Rt,Jb=pl,ex=Ib,tx=zn,nx=_b,rx=ho,ax=vo,ox=1,ix=2,sx=4,Sl="[object Arguments]",ux="[object Array]",lx="[object Boolean]",cx="[object Date]",dx="[object Error]",Ml="[object Function]",fx="[object GeneratorFunction]",px="[object Map]",hx="[object Number]",Al="[object Object]",vx="[object RegExp]",mx="[object Set]",gx="[object String]",yx="[object Symbol]",bx="[object WeakMap]",xx="[object ArrayBuffer]",wx="[object DataView]",Cx="[object Float32Array]",Sx="[object Float64Array]",Mx="[object Int8Array]",Ax="[object Int16Array]",Ex="[object Int32Array]",Ix="[object Uint8Array]",Px="[object Uint8ClampedArray]",kx="[object Uint16Array]",Ox="[object Uint32Array]",Y={};Y[Sl]=Y[ux]=Y[xx]=Y[wx]=Y[lx]=Y[cx]=Y[Cx]=Y[Sx]=Y[Mx]=Y[Ax]=Y[Ex]=Y[px]=Y[hx]=Y[Al]=Y[vx]=Y[mx]=Y[gx]=Y[yx]=Y[Ix]=Y[Px]=Y[kx]=Y[Ox]=!0;Y[dx]=Y[Ml]=Y[bx]=!1;function er(e,t,n,r,a,o){var i,s=t&ox,u=t&ix,l=t&sx;if(n&&(i=a?n(e,r,a,o):n(e)),i!==void 0)return i;if(!tx(e))return e;var c=Xb(e);if(c){if(i=Yb(e),!s)return Hb(e,i)}else{var d=Vb(e),p=d==Ml||d==fx;if(Jb(e))return qb(e,s);if(d==Al||d==Sl||p&&!a){if(i=u||p?{}:Qb(e),!s)return u?Gb(e,zb(i,e)):Ub(e,Bb(i,e))}else{if(!Y[d])return a?e:{};i=Zb(e,d,s)}}o||(o=new Rb);var v=o.get(e);if(v)return v;o.set(e,i),nx(e)?e.forEach(function(g){i.add(er(g,t,n,g,e,o))}):ex(e)&&e.forEach(function(g,b){i.set(b,er(g,t,n,b,e,o))});var h=l?u?Kb:Wb:u?ax:rx,m=c?void 0:h(e);return $b(m||e,function(g,b){m&&(b=g,g=e[b]),Fb(i,b,er(g,t,n,b,e,o))}),i}var Tx=er,Nx=tn,jx=_t,Lx="[object Symbol]";function Dx(e){return typeof e=="symbol"||jx(e)&&Nx(e)==Lx}var wo=Dx,_x=Rt,Rx=wo,$x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fx=/^\w*$/;function Bx(e,t){if(_x(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Rx(e)?!0:Fx.test(e)||!$x.test(e)||t!=null&&e in Object(t)}var zx=Bx,El=sl,qx="Expected a function";function Co(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qx);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(Co.Cache||El),n}Co.Cache=El;var Hx=Co,Ux=Hx,Gx=500;function Wx(e){var t=Ux(e,function(r){return n.size===Gx&&n.clear(),r}),n=t.cache;return t}var Kx=Wx,Vx=Kx,Yx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zx=/\\(\\)?/g,Qx=Vx(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yx,function(n,r,a,o){t.push(a?o.replace(Zx,"$1"):r||n)}),t}),Xx=Qx,Bi=Bn,Jx=tl,ew=Rt,tw=wo,zi=Bi?Bi.prototype:void 0,qi=zi?zi.toString:void 0;function Il(e){if(typeof e=="string")return e;if(ew(e))return Jx(e,Il)+"";if(tw(e))return qi?qi.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nw=Il,rw=nw;function aw(e){return e==null?"":rw(e)}var ow=aw,iw=Rt,sw=zx,uw=Xx,lw=ow;function cw(e,t){return iw(e)?e:sw(e,t)?[e]:uw(lw(e))}var So=cw;function dw(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fw=dw,pw=wo;function hw(e){if(typeof e=="string"||pw(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Pl=hw,vw=So,mw=Pl;function gw(e,t){t=vw(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mw(t[n++])];return n&&n==r?e:void 0}var yw=gw;function bw(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}var xw=bw,ww=yw,Cw=xw;function Sw(e,t){return t.length<2?e:ww(e,Cw(t,0,-1))}var Mw=Sw,Aw=So,Ew=fw,Iw=Mw,Pw=Pl;function kw(e,t){return t=Aw(t,e),e=Iw(e,t),e==null||delete e[Pw(Ew(t))]}var Ow=kw,Tw=tn,Nw=yo,jw=_t,Lw="[object Object]",Dw=Function.prototype,_w=Object.prototype,kl=Dw.toString,Rw=_w.hasOwnProperty,$w=kl.call(Object);function Fw(e){if(!jw(e)||Tw(e)!=Lw)return!1;var t=Nw(e);if(t===null)return!0;var n=Rw.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kl.call(n)==$w}var Bw=Fw,zw=Bw;function qw(e){return zw(e)?void 0:e}var Hw=qw,Hi=Bn,Uw=fl,Gw=Rt,Ui=Hi?Hi.isConcatSpreadable:void 0;function Ww(e){return Gw(e)||Uw(e)||!!(Ui&&e&&e[Ui])}var Kw=Ww,Vw=go,Yw=Kw;function Ol(e,t,n,r,a){var o=-1,i=e.length;for(n||(n=Yw),a||(a=[]);++o<i;){var s=e[o];t>0&&n(s)?t>1?Ol(s,t-1,n,r,a):Vw(a,s):r||(a[a.length]=s)}return a}var Zw=Ol,Qw=Zw;function Xw(e){var t=e==null?0:e.length;return t?Qw(e,1):[]}var Jw=Xw;function eC(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var tC=eC,nC=tC,Gi=Math.max;function rC(e,t,n){return t=Gi(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=Gi(r.length-t,0),i=Array(o);++a<o;)i[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(i),nC(e,this,s)}}var aC=rC;function oC(e){return function(){return e}}var iC=oC;function sC(e){return e}var uC=sC,lC=iC,Wi=ul,cC=uC,dC=Wi?function(e,t){return Wi(e,"toString",{configurable:!0,enumerable:!1,value:lC(t),writable:!0})}:cC,fC=dC,pC=800,hC=16,vC=Date.now;function mC(e){var t=0,n=0;return function(){var r=vC(),a=hC-(r-n);if(n=r,a>0){if(++t>=pC)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gC=mC,yC=fC,bC=gC,xC=bC(yC),wC=xC,CC=Jw,SC=aC,MC=wC;function AC(e){return MC(SC(e,void 0,CC),e+"")}var EC=AC,IC=tl,PC=Tx,kC=Ow,OC=So,TC=qn,NC=Hw,jC=EC,LC=wl,DC=1,_C=2,RC=4,$C=jC(function(e,t){var n={};if(e==null)return n;var r=!1;t=IC(t,function(o){return o=OC(o,e),r||(r=o.length>1),o}),TC(e,LC(e),n),r&&(n=PC(n,DC|_C|RC,NC));for(var a=t.length;a--;)kC(n,t[a]);return n}),FC=$C;const BC=cf(FC);function Le(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ct(e){return!!e&&!!e[re]}function rt(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===YC}(e)||Array.isArray(e)||!!e[Ji]||!!(!((t=e.constructor)===null||t===void 0)&&t[Ji])||Mo(e)||Ao(e))}function Nt(e,t,n){n===void 0&&(n=!1),sn(e)===0?(n?Object.keys:zt)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,a){return t(a,r,e)})}function sn(e){var t=e[re];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Mo(e)?2:Ao(e)?3:0}function Bt(e,t){return sn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zC(e,t){return sn(e)===2?e.get(t):e[t]}function Tl(e,t,n){var r=sn(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Nl(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Mo(e){return KC&&e instanceof Map}function Ao(e){return VC&&e instanceof Set}function It(e){return e.o||e.t}function Eo(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ll(e);delete t[re];for(var n=zt(t),r=0;r<n.length;r++){var a=n[r],o=t[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function Io(e,t){return t===void 0&&(t=!1),Po(e)||Ct(e)||!rt(e)||(sn(e)>1&&(e.set=e.add=e.clear=e.delete=qC),Object.freeze(e),t&&Nt(e,function(n,r){return Io(r,!0)},!0)),e}function qC(){Le(2)}function Po(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function qe(e){var t=_a[e];return t||Le(18,e),t}function HC(e,t){_a[e]||(_a[e]=t)}function ja(){return On}function ta(e,t){t&&(qe("Patches"),e.u=[],e.s=[],e.v=t)}function mr(e){La(e),e.p.forEach(UC),e.p=null}function La(e){e===On&&(On=e.l)}function Ki(e){return On={p:[],l:On,h:e,m:!0,_:0}}function UC(e){var t=e[re];t.i===0||t.i===1?t.j():t.g=!0}function na(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||qe("ES5").S(t,e,r),r?(n[re].P&&(mr(t),Le(4)),rt(e)&&(e=gr(t,e),t.l||yr(t,e)),t.u&&qe("Patches").M(n[re].t,e,t.u,t.s)):e=gr(t,n,[]),mr(t),t.u&&t.v(t.u,t.s),e!==jl?e:void 0}function gr(e,t,n){if(Po(t))return t;var r=t[re];if(!r)return Nt(t,function(s,u){return Vi(e,r,t,s,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return yr(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=r.i===4||r.i===5?r.o=Eo(r.k):r.o,o=a,i=!1;r.i===3&&(o=new Set(a),a.clear(),i=!0),Nt(o,function(s,u){return Vi(e,r,a,s,u,n,i)}),yr(e,a,!1),n&&e.u&&qe("Patches").N(r,n,e.u,e.s)}return r.o}function Vi(e,t,n,r,a,o,i){if(Ct(a)){var s=gr(e,a,o&&t&&t.i!==3&&!Bt(t.R,r)?o.concat(r):void 0);if(Tl(n,r,s),!Ct(s))return;e.m=!1}else i&&n.add(a);if(rt(a)&&!Po(a)){if(!e.h.D&&e._<1)return;gr(e,a),t&&t.A.l||yr(e,a)}}function yr(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Io(t,n)}function ra(e,t){var n=e[re];return(n?It(n):e)[t]}function Yi(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function pt(e){e.P||(e.P=!0,e.l&&pt(e.l))}function aa(e){e.o||(e.o=Eo(e.t))}function Da(e,t,n){var r=Mo(t)?qe("MapSet").F(t,n):Ao(t)?qe("MapSet").T(t,n):e.O?function(a,o){var i=Array.isArray(a),s={i:i?1:0,A:o?o.A:ja(),P:!1,I:!1,R:{},l:o,t:a,k:null,o:null,j:null,C:!1},u=s,l=Tn;i&&(u=[s],l=yn);var c=Proxy.revocable(u,l),d=c.revoke,p=c.proxy;return s.k=p,s.j=d,p}(t,n):qe("ES5").J(t,n);return(n?n.A:ja()).p.push(r),r}function GC(e){return Ct(e)||Le(22,e),function t(n){if(!rt(n))return n;var r,a=n[re],o=sn(n);if(a){if(!a.P&&(a.i<4||!qe("ES5").K(a)))return a.t;a.I=!0,r=Zi(n,o),a.I=!1}else r=Zi(n,o);return Nt(r,function(i,s){a&&zC(a.t,i)===s||Tl(r,i,t(s))}),o===3?new Set(r):r}(e)}function Zi(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Eo(e)}function WC(){function e(o,i){var s=a[o];return s?s.enumerable=i:a[o]=s={configurable:!0,enumerable:i,get:function(){var u=this[re];return Tn.get(u,o)},set:function(u){var l=this[re];Tn.set(l,o,u)}},s}function t(o){for(var i=o.length-1;i>=0;i--){var s=o[i][re];if(!s.P)switch(s.i){case 5:r(s)&&pt(s);break;case 4:n(s)&&pt(s)}}}function n(o){for(var i=o.t,s=o.k,u=zt(s),l=u.length-1;l>=0;l--){var c=u[l];if(c!==re){var d=i[c];if(d===void 0&&!Bt(i,c))return!0;var p=s[c],v=p&&p[re];if(v?v.t!==d:!Nl(p,d))return!0}}var h=!!i[re];return u.length!==zt(i).length+(h?0:1)}function r(o){var i=o.k;if(i.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(i,i.length-1);if(s&&!s.get)return!0;for(var u=0;u<i.length;u++)if(!i.hasOwnProperty(u))return!0;return!1}var a={};HC("ES5",{J:function(o,i){var s=Array.isArray(o),u=function(c,d){if(c){for(var p=Array(d.length),v=0;v<d.length;v++)Object.defineProperty(p,""+v,e(v,!0));return p}var h=Ll(d);delete h[re];for(var m=zt(h),g=0;g<m.length;g++){var b=m[g];h[b]=e(b,c||!!h[b].enumerable)}return Object.create(Object.getPrototypeOf(d),h)}(s,o),l={i:s?5:4,A:i?i.A:ja(),P:!1,I:!1,R:{},l:i,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,re,{value:l,writable:!0}),u},S:function(o,i,s){s?Ct(i)&&i[re].A===o&&t(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var c=l[re];if(c){var d=c.t,p=c.k,v=c.R,h=c.i;if(h===4)Nt(p,function(C){C!==re&&(d[C]!==void 0||Bt(d,C)?v[C]||u(p[C]):(v[C]=!0,pt(c)))}),Nt(d,function(C){p[C]!==void 0||Bt(p,C)||(v[C]=!1,pt(c))});else if(h===5){if(r(c)&&(pt(c),v.length=!0),p.length<d.length)for(var m=p.length;m<d.length;m++)v[m]=!1;else for(var g=d.length;g<p.length;g++)v[g]=!0;for(var b=Math.min(p.length,d.length),y=0;y<b;y++)p.hasOwnProperty(y)||(v[y]=!0),v[y]===void 0&&u(p[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var Qi,On,ko=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",KC=typeof Map<"u",VC=typeof Set<"u",Xi=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",jl=ko?Symbol.for("immer-nothing"):((Qi={})["immer-nothing"]=!0,Qi),Ji=ko?Symbol.for("immer-draftable"):"__$immer_draftable",re=ko?Symbol.for("immer-state"):"__$immer_state",YC=""+Object.prototype.constructor,zt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ll=Object.getOwnPropertyDescriptors||function(e){var t={};return zt(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},_a={},Tn={get:function(e,t){if(t===re)return e;var n=It(e);if(!Bt(n,t))return function(a,o,i){var s,u=Yi(o,i);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(a.k):void 0}(e,n,t);var r=n[t];return e.I||!rt(r)?r:r===ra(e.t,t)?(aa(e),e.o[t]=Da(e.A.h,r,e)):r},has:function(e,t){return t in It(e)},ownKeys:function(e){return Reflect.ownKeys(It(e))},set:function(e,t,n){var r=Yi(It(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=ra(It(e),t),o=a==null?void 0:a[re];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Nl(n,a)&&(n!==void 0||Bt(e.t,t)))return!0;aa(e),pt(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return ra(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,aa(e),pt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=It(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Le(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Le(12)}},yn={};Nt(Tn,function(e,t){yn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),yn.deleteProperty=function(e,t){return yn.set.call(this,e,t,void 0)},yn.set=function(e,t,n){return Tn.set.call(this,e[0],t,n,e[0])};var ZC=function(){function e(n){var r=this;this.O=Xi,this.D=!0,this.produce=function(a,o,i){if(typeof a=="function"&&typeof o!="function"){var s=o;o=a;var u=r;return function(m){var g=this;m===void 0&&(m=s);for(var b=arguments.length,y=Array(b>1?b-1:0),C=1;C<b;C++)y[C-1]=arguments[C];return u.produce(m,function(x){var M;return(M=o).call.apply(M,[g,x].concat(y))})}}var l;if(typeof o!="function"&&Le(6),i!==void 0&&typeof i!="function"&&Le(7),rt(a)){var c=Ki(r),d=Da(r,a,void 0),p=!0;try{l=o(d),p=!1}finally{p?mr(c):La(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return ta(c,i),na(m,c)},function(m){throw mr(c),m}):(ta(c,i),na(l,c))}if(!a||typeof a!="object"){if((l=o(a))===void 0&&(l=a),l===jl&&(l=void 0),r.D&&Io(l,!0),i){var v=[],h=[];qe("Patches").M(a,l,v,h),i(v,h)}return l}Le(21,a)},this.produceWithPatches=function(a,o){if(typeof a=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return r.produceWithPatches(l,function(v){return a.apply(void 0,[v].concat(d))})};var i,s,u=r.produce(a,o,function(l,c){i=l,s=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,i,s]}):[u,i,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){rt(n)||Le(8),Ct(n)&&(n=GC(n));var r=Ki(this),a=Da(this,n,void 0);return a[re].C=!0,La(r),a},t.finishDraft=function(n,r){var a=n&&n[re],o=a.A;return ta(o,r),na(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Xi&&Le(20),this.O=n},t.applyPatches=function(n,r){var a;for(a=r.length-1;a>=0;a--){var o=r[a];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}a>-1&&(r=r.slice(a+1));var i=qe("Patches").$;return Ct(n)?i(n,r):this.produce(n,function(s){return i(s,r)})},e}(),ke=new ZC,Dl=ke.produce;ke.produceWithPatches.bind(ke);ke.setAutoFreeze.bind(ke);ke.setUseProxies.bind(ke);ke.applyPatches.bind(ke);ke.createDraft.bind(ke);ke.finishDraft.bind(ke);var _l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QC=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,a=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],a=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Vt=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},XC=Object.defineProperty,JC=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,tS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,ts=function(e,t,n){return t in e?XC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},gt=function(e,t){for(var n in t||(t={}))tS.call(t,n)&&ts(e,n,t[n]);if(es)for(var r=0,a=es(t);r<a.length;r++){var n=a[r];nS.call(t,n)&&ts(e,n,t[n])}return e},oa=function(e,t){return JC(e,eS(t))},rS=function(e,t,n){return new Promise(function(r,a){var o=function(u){try{s(n.next(u))}catch(l){a(l)}},i=function(u){try{s(n.throw(u))}catch(l){a(l)}},s=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(o,i)};s((n=n.apply(e,t)).next())})},aS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ea:Ea.apply(null,arguments)};function oS(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function yt(e,t){function n(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return gt(gt({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var iS=function(e){_l(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Vt([void 0],n[0].concat(this)))):new(t.bind.apply(t,Vt([void 0],n.concat(this))))},t}(Array),sS=function(e){_l(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Vt([void 0],n[0].concat(this)))):new(t.bind.apply(t,Vt([void 0],n.concat(this))))},t}(Array);function Ra(e){return rt(e)?Dl(e,function(){}):e}function uS(e){return typeof e=="boolean"}function lS(){return function(t){return cS(t)}}function cS(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new iS;return n&&(uS(n)?r.push(di):r.push(di.withExtraArgument(n.extraArgument))),r}function dS(e){var t=lS(),n=e,r=n.reducer,a=r===void 0?void 0:r,o=n.middleware,i=o===void 0?t():o,s=n.devTools,u=s===void 0?!0:s,l=n.preloadedState,c=l===void 0?void 0:l,d=n.enhancers,p=d===void 0?void 0:d,v;if(typeof a=="function")v=a;else if(oS(a))v=Ef(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var h=i;typeof h=="function"&&(h=h(t));var m=If.apply(void 0,h),g=Ea;u&&(g=aS(gt({trace:!1},typeof u=="object"&&u)));var b=new sS(m),y=b;Array.isArray(p)?y=Vt([m],p):typeof p=="function"&&(y=p(b));var C=g.apply(void 0,y);return Pf(v,c,C)}function Rl(e){var t={},n=[],r,a={addCase:function(o,i){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=i,a},addMatcher:function(o,i){return n.push({matcher:o,reducer:i}),a},addDefaultCase:function(o){return r=o,a}};return e(a),[t,n,r]}function fS(e){return typeof e=="function"}function pS(e,t,n,r){n===void 0&&(n=[]);var a=typeof t=="function"?Rl(t):[t,n,r],o=a[0],i=a[1],s=a[2],u;if(fS(e))u=function(){return Ra(e())};else{var l=Ra(e);u=function(){return l}}function c(d,p){d===void 0&&(d=u());var v=Vt([o[p.type]],i.filter(function(h){var m=h.matcher;return m(p)}).map(function(h){var m=h.reducer;return m}));return v.filter(function(h){return!!h}).length===0&&(v=[s]),v.reduce(function(h,m){if(m)if(Ct(h)){var g=h,b=m(g,p);return b===void 0?h:b}else{if(rt(h))return Dl(h,function(y){return m(y,p)});var b=m(h,p);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return h},d)}return c.getInitialState=u,c}function hS(e,t){return e+"/"+t}function Fr(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n=typeof e.initialState=="function"?e.initialState:Ra(e.initialState),r=e.reducers||{},a=Object.keys(r),o={},i={},s={};a.forEach(function(c){var d=r[c],p=hS(t,c),v,h;"reducer"in d?(v=d.reducer,h=d.prepare):v=d,o[c]=v,i[p]=v,s[c]=h?yt(p,h):yt(p)});function u(){var c=typeof e.extraReducers=="function"?Rl(e.extraReducers):[e.extraReducers],d=c[0],p=d===void 0?{}:d,v=c[1],h=v===void 0?[]:v,m=c[2],g=m===void 0?void 0:m,b=gt(gt({},p),i);return pS(n,function(y){for(var C in b)y.addCase(C,b[C]);for(var x=0,M=h;x<M.length;x++){var A=M[x];y.addMatcher(A.matcher,A.reducer)}g&&y.addDefaultCase(g)})}var l;return{name:t,reducer:function(c,d){return l||(l=u()),l(c,d)},actions:s,caseReducers:o,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var vS="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mS=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=vS[Math.random()*64|0];return t},gS=["name","message","stack","code"],ia=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),ns=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),yS=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=gS;n<r.length;n++){var a=r[n];typeof e[a]=="string"&&(t[a]=e[a])}return t}return{message:String(e)}};(function(){function e(t,n,r){var a=yt(t+"/fulfilled",function(l,c,d,p){return{payload:l,meta:oa(gt({},p||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=yt(t+"/pending",function(l,c,d){return{payload:void 0,meta:oa(gt({},d||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),i=yt(t+"/rejected",function(l,c,d,p,v){return{payload:p,error:(r&&r.serializeError||yS)(l||"Rejected"),meta:oa(gt({},v||{}),{arg:d,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,d,p){var v=r!=null&&r.idGenerator?r.idGenerator(l):mS(),h=new s,m;function g(y){m=y,h.abort()}var b=function(){return rS(this,null,function(){var y,C,x,M,A,I,P;return QC(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),M=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:d,extra:p}),xS(M)?[4,M]:[3,2];case 1:M=k.sent(),k.label=2;case 2:if(M===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(N,O){return h.signal.addEventListener("abort",function(){return O({name:"AbortError",message:m||"Aborted"})})}),c(o(v,l,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:v,arg:l},{getState:d,extra:p}))),[4,Promise.race([A,Promise.resolve(n(l,{dispatch:c,getState:d,extra:p,requestId:v,signal:h.signal,abort:g,rejectWithValue:function(N,O){return new ia(N,O)},fulfillWithValue:function(N,O){return new ns(N,O)}})).then(function(N){if(N instanceof ia)throw N;return N instanceof ns?a(N.payload,v,l,N.meta):a(N,v,l)})])];case 3:return x=k.sent(),[3,5];case 4:return I=k.sent(),x=I instanceof ia?i(null,v,l,I.payload,I.meta):i(I,v,l),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&i.match(x)&&x.meta.condition,P||c(x),[2,x]}})})}();return Object.assign(b,{abort:g,requestId:v,arg:l,unwrap:function(){return b.then(bS)}})}}return Object.assign(u,{pending:o,rejected:i,fulfilled:a,typePrefix:t})}return e.withTypes=function(){return e},e})();function bS(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function xS(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Oo="listenerMiddleware";yt(Oo+"/add");yt(Oo+"/removeAll");yt(Oo+"/remove");var rs;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof Ma<"u"?Ma:globalThis);WC();var Re=function(t){return"@@redux-saga/"+t},wS=Re("CANCEL_PROMISE"),$l=Re("CHANNEL_END"),Fl=Re("IO"),as=Re("MATCH"),Bl=Re("MULTICAST"),zl=Re("SAGA_ACTION"),CS=Re("SELF_CANCELLATION"),SS=Re("TASK"),qt=Re("TASK_CANCEL"),ql=Re("TERMINATE"),MS=Re("LOCATION"),Hl=function(t){return t==null},tr=function(t){return t!=null},Ee=function(t){return typeof t=="function"},To=function(t){return typeof t=="string"},St=Array.isArray,Br=function(t){return t&&Ee(t.then)},No=function(t){return t&&Ee(t.next)&&Ee(t.throw)},os=function e(t){return t&&(To(t)||Gl(t)||Ee(t)||St(t)&&t.every(e))},jo=function(t){return t&&Ee(t.take)&&Ee(t.close)},Ul=function(t){return Ee(t)&&t.hasOwnProperty("toString")},Gl=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},AS=function(t){return jo(t)&&t[Bl]},ES=function(t){return function(){return t}},IS=ES(!0),be=function(){},PS=function(t){return t},Lo=function(t,n){_(t,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){t[r]=n[r]})},kS=function(t,n){var r;return(r=[]).concat.apply(r,n.map(t))};function zr(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function OS(e){var t=!1;return function(){t||(t=!0,e())}}var TS=function(t){throw t},NS=function(t){return{value:t,done:!0}};function $a(e,t,n){t===void 0&&(t=TS),n===void 0&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:NS,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function jS(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Wl=function(t){return Array.apply(null,new Array(t))},LS=function(t){return function(n){return t(Object.defineProperty(n,zl,{value:!0}))}},Kl=function(t){return t===ql},Vl=function(t){return t===qt},Yl=function(t){return Kl(t)||Vl(t)};function Zl(e,t){var n=Object.keys(e),r=n.length,a=0,o,i=St(e)?Wl(r):{},s={};function u(){a===r&&(o=!0,t(i))}return n.forEach(function(l){var c=function(p,v){o||(v||Yl(p)?(t.cancel(),t(p,v)):(i[l]=p,a++,u()))};c.cancel=be,s[l]=c}),t.cancel=function(){o||(o=!0,n.forEach(function(l){return s[l].cancel()}))},s}function Do(e){return{name:e.name||"anonymous",location:Ql(e)}}function Ql(e){return e[MS]}function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}var _S="Channel's Buffer overflow!",RS=1,$S=3,Xl=4;function FS(e,t){e===void 0&&(e=10);var n=new Array(e),r=0,a=0,o=0,i=function(c){n[a]=c,a=(a+1)%e,r++},s=function(){if(r!=0){var c=n[o];return n[o]=null,r--,o=(o+1)%e,c}},u=function(){for(var c=[];r;)c.push(s());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<e)i(c);else{var d;switch(t){case RS:throw new Error(_S);case $S:n[a]=c,a=(a+1)%e,o=a;break;case Xl:d=2*e,n=u(),r=n.length,a=n.length,o=0,n.length=d,e=d,i(c);break}}},take:s,flush:u}}var BS=function(t){return FS(t,Xl)},nr="TAKE",Jl="PUT",zS="ALL",qS="RACE",ec="CALL",HS="CPS",_o="FORK",US="JOIN",GS="CANCEL",WS="SELECT",KS="ACTION_CHANNEL",VS="CANCELLED",YS="FLUSH",ZS="GET_CONTEXT",QS="SET_CONTEXT",Ot=function(t,n){var r;return r={},r[Fl]=!0,r.combinator=!1,r.type=t,r.payload=n,r},XS=function(t){return Ot(_o,_({},t.payload,{detached:!0}))};function JS(e,t){if(e===void 0&&(e="*"),os(e))return tr(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Ot(nr,{pattern:e});if(AS(e)&&tr(t)&&os(t))return Ot(nr,{channel:e,pattern:t});if(jo(e))return tr(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Ot(nr,{channel:e})}function sa(e,t){return Hl(t)&&(t=e,e=void 0),Ot(Jl,{channel:e,action:t})}function tc(e,t){var n=null,r;return Ee(e)?r=e:(St(e)?(n=e[0],r=e[1]):(n=e.context,r=e.fn),n&&To(r)&&Ee(n[r])&&(r=n[r])),{context:n,fn:r,args:t}}function eM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(ec,tc(e,n))}function Ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(_o,tc(e,n))}function tM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XS(Ro.apply(void 0,[e].concat(n)))}var is=function(t){return{done:!0,value:t}},ua={};function nM(e){return jo(e)?"channel":Ul(e)?String(e):Ee(e)?e.name:String(e)}function rM(e,t,n){var r,a,o,i=t;function s(u,l){if(i===ua)return is(u);if(l&&!a)throw i=ua,l;r&&r(u);var c=l?e[a](l):e[i]();return i=c.nextState,o=c.effect,r=c.stateUpdater,a=c.errorState,i===ua?is(u):o}return $a(s,function(u){return s(null,u)},n)}function aM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o={done:!1,value:JS(e)},i=function(c){return{done:!1,value:Ro.apply(void 0,[t].concat(r,[c]))}},s,u=function(c){return s=c};return rM({q1:function(){return{nextState:"q2",effect:o,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:i(s)}}},"q1","takeEvery("+nM(e)+", "+t.name+")")}function oM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Ro.apply(void 0,[aM,e,t].concat(r))}function iM(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var nc=[],qr=0;function sM(e){try{$o(),e()}finally{oc()}}function rc(e){nc.push(e),qr||($o(),ic())}function ac(e){try{return $o(),e()}finally{ic()}}function $o(){qr++}function oc(){qr--}function ic(){oc();for(var e;!qr&&(e=nc.shift())!==void 0;)sM(e)}var uM=function(t){return function(n){return t.some(function(r){return Fo(r)(n)})}},lM=function(t){return function(n){return t(n)}},ss=function(t){return function(n){return n.type===String(t)}},cM=function(t){return function(n){return n.type===t}},sc=function(){return IS};function Fo(e){var t=e==="*"?sc:To(e)?ss:St(e)?uM:Ul(e)?ss:Ee(e)?lM:Gl(e)?cM:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var Cn={type:$l},Bo=function(t){return t&&t.type===$l};function dM(e){e===void 0&&(e=BS());var t=!1,n=[];function r(s){if(!t){if(n.length===0)return e.put(s);var u=n.shift();u(s)}}function a(s){t&&e.isEmpty()?s(Cn):e.isEmpty()?(n.push(s),s.cancel=function(){zr(n,s)}):s(e.take())}function o(s){if(t&&e.isEmpty()){s(Cn);return}s(e.flush())}function i(){if(!t){t=!0;var s=n;n=[];for(var u=0,l=s.length;u<l;u++){var c=s[u];c(Cn)}}}return{take:a,put:r,flush:o,close:i}}function fM(){var e,t=!1,n=[],r=n,a=function(){r===n&&(r=n.slice())},o=function(){t=!0;var s=n=r;r=[],s.forEach(function(u){u(Cn)})};return e={},e[Bl]=!0,e.put=function(s){if(!t){if(Bo(s)){o();return}for(var u=n=r,l=0,c=u.length;l<c;l++){var d=u[l];d[as](s)&&(d.cancel(),d(s))}}},e.take=function(s,u){if(u===void 0&&(u=sc),t){s(Cn);return}s[as]=u,a(),r.push(s),s.cancel=OS(function(){a(),zr(r,s)})},e.close=o,e}function uc(){var e=fM(),t=e.put;return e.put=function(n){if(n[zl]){t(n);return}rc(function(){t(n)})},e}var Pt=0,et=1,rr=2,lc=3;function zo(e,t){var n=e[wS];Ee(n)&&(t.cancel=n),e.then(t,function(r){t(r,!0)})}var Hn=0,cc=function(){return++Hn},de;function pM(e,t){return e.isSagaIterator?{name:e.meta.name}:Do(t)}function hM(e){var t=e.context,n=e.fn,r=e.args;try{var a=n.apply(t,r);if(No(a))return a;var o=!1,i=function(u){return o?{value:u,done:!0}:(o=!0,{value:a,done:!Br(a)})};return $a(i)}catch(s){return $a(function(){throw s})}}function vM(e,t,n){var r=t.channel,a=t.action,o=t.resolve;rc(function(){var i;try{i=(r?r.put:e.dispatch)(a)}catch(s){n(s,!0);return}o&&Br(i)?zo(i,n):n(i)})}function mM(e,t,n){var r=t.channel,a=r===void 0?e.channel:r,o=t.pattern,i=t.maybe,s=function(l){if(l instanceof Error){n(l,!0);return}if(Bo(l)&&!i){n(ql);return}n(l)};try{a.take(s,tr(o)?Fo(o):null)}catch(u){n(u,!0);return}n.cancel=s.cancel}function gM(e,t,n,r){var a=t.context,o=t.fn,i=t.args,s=r.task;try{var u=o.apply(a,i);if(Br(u)){zo(u,n);return}if(No(u)){Hr(e,u,s.context,Hn,Do(o),!1,n);return}n(u)}catch(l){n(l,!0)}}function yM(e,t,n){var r=t.context,a=t.fn,o=t.args;try{var i=function(u,l){Hl(u)?n(l):n(u,!0)};a.apply(r,o.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(s){n(s,!0)}}function bM(e,t,n,r){var a=t.context,o=t.fn,i=t.args,s=t.detached,u=r.task,l=hM({context:a,fn:o,args:i}),c=pM(l,o);ac(function(){var d=Hr(e,l,u.context,Hn,c,s,void 0);s?n(d):d.isRunning()?(u.queue.addTask(d),n(d)):d.isAborted()?u.queue.abort(d.error()):n(d)})}function xM(e,t,n,r){var a=r.task,o=function(u,l){if(u.isRunning()){var c={task:a,cb:l};l.cancel=function(){u.isRunning()&&zr(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if(St(t)){if(t.length===0){n([]);return}var i=Zl(t,n);t.forEach(function(s,u){o(s,i[u])})}else o(t,n)}function la(e){e.isRunning()&&e.cancel()}function wM(e,t,n,r){var a=r.task;t===CS?la(a):St(t)?t.forEach(la):la(t),n()}function CM(e,t,n,r){var a=r.digestEffect,o=Hn,i=Object.keys(t);if(i.length===0){n(St(t)?[]:{});return}var s=Zl(t,n);i.forEach(function(u){a(t[u],o,s[u],u)})}function SM(e,t,n,r){var a=r.digestEffect,o=Hn,i=Object.keys(t),s=St(t)?Wl(i.length):{},u={},l=!1;i.forEach(function(c){var d=function(v,h){l||(h||Yl(v)?(n.cancel(),n(v,h)):(n.cancel(),l=!0,s[c]=v,n(s)))};d.cancel=be,u[c]=d}),n.cancel=function(){l||(l=!0,i.forEach(function(c){return u[c].cancel()}))},i.forEach(function(c){l||a(t[c],o,u[c],c)})}function MM(e,t,n){var r=t.selector,a=t.args;try{var o=r.apply(void 0,[e.getState()].concat(a));n(o)}catch(i){n(i,!0)}}function AM(e,t,n){var r=t.pattern,a=t.buffer,o=dM(a),i=Fo(r),s=function l(c){Bo(c)||e.channel.take(l,i),o.put(c)},u=o.close;o.close=function(){s.cancel(),u()},e.channel.take(s,i),n(o)}function EM(e,t,n,r){var a=r.task;n(a.isCancelled())}function IM(e,t,n){t.flush(n)}function PM(e,t,n,r){var a=r.task;n(a.context[t])}function kM(e,t,n,r){var a=r.task;Lo(a.context,t),n()}var OM=(de={},de[nr]=mM,de[Jl]=vM,de[zS]=CM,de[qS]=SM,de[ec]=gM,de[HS]=yM,de[_o]=bM,de[US]=xM,de[GS]=wM,de[WS]=MM,de[KS]=AM,de[VS]=EM,de[YS]=IM,de[ZS]=PM,de[QS]=kM,de);function TM(e,t,n){var r=[],a,o=!1;u(e);var i=function(){return r};function s(c){t(),l(),n(c,!0)}function u(c){r.push(c),c.cont=function(d,p){o||(zr(r,c),c.cont=be,p?s(d):(c===e&&(a=d),r.length||(o=!0,n(a))))}}function l(){o||(o=!0,r.forEach(function(c){c.cont=be,c.cancel()}),r=[])}return{addTask:u,cancelAll:l,abort:s,getTasks:i}}function dc(e,t){return e+"?"+t}function NM(e){var t=Ql(e);if(t){var n=t.code,r=t.fileName,a=t.lineNumber,o=n+"  "+dc(r,a);return o}return""}function us(e){var t=e.name,n=e.location;return n?t+"  "+dc(n.fileName,n.lineNumber):t}function jM(e){var t=kS(function(n){return n.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var qo=null,Sn=[],LM=function(t){t.crashedEffect=qo,Sn.push(t)},fc=function(){qo=null,Sn.length=0},DM=function(t){qo=t},_M=function(){var t=Sn[0],n=Sn.slice(1),r=t.crashedEffect?NM(t.crashedEffect):null,a="The above error occurred in task "+us(t.meta)+(r?` 
 when executing effect `+r:"");return[a].concat(n.map(function(o){return"    created by "+us(o.meta)}),[jM(Sn)]).join(`
`)};function RM(e,t,n,r,a,o,i){var s;i===void 0&&(i=be);var u=Pt,l,c,d=null,p=[],v=Object.create(n),h=TM(t,function(){p.push.apply(p,h.getTasks().map(function(M){return M.meta.name}))},g);function m(){u===Pt&&(u=et,h.cancelAll(),g(qt,!1))}function g(x,M){if(!M)x===qt?u=et:u!==et&&(u=lc),l=x,d&&d.resolve(x);else{if(u=rr,LM({meta:a,cancelledTasks:p}),C.isRoot){var A=_M();fc(),e.onError(x,{sagaStack:A})}c=x,d&&d.reject(x)}C.cont(x,M),C.joiners.forEach(function(I){I.cb(x,M)}),C.joiners=null}function b(x){Lo(v,x)}function y(){return d||(d=iM(),u===rr?d.reject(c):u!==Pt&&d.resolve(l)),d.promise}var C=(s={},s[SS]=!0,s.id=r,s.meta=a,s.isRoot=o,s.context=v,s.joiners=[],s.queue=h,s.cancel=m,s.cont=i,s.end=g,s.setContext=b,s.toPromise=y,s.isRunning=function(){return u===Pt},s.isCancelled=function(){return u===et||u===Pt&&t.status===et},s.isAborted=function(){return u===rr},s.result=function(){return l},s.error=function(){return c},s);return C}function Hr(e,t,n,r,a,o,i){var s=e.finalizeRunEffect(v);p.cancel=be;var u={meta:a,cancel:d,status:Pt},l=RM(e,u,n,r,a,o,i),c={task:l,digestEffect:h};function d(){u.status===Pt&&(u.status=et,p(qt))}return i&&(i.cancel=l.cancel),p(),l;function p(m,g){try{var b;g?(b=t.throw(m),fc()):Vl(m)?(u.status=et,p.cancel(),b=Ee(t.return)?t.return(qt):{done:!0,value:qt}):Kl(m)?b=Ee(t.return)?t.return():{done:!0}:b=t.next(m),b.done?(u.status!==et&&(u.status=lc),u.cont(b.value)):h(b.value,r,p)}catch(y){if(u.status===et)throw y;u.status=rr,u.cont(y,!0)}}function v(m,g,b){if(Br(m))zo(m,b);else if(No(m))Hr(e,m,l.context,g,a,!1,b);else if(m&&m[Fl]){var y=OM[m.type];y(e,m.payload,b,c)}else b(m)}function h(m,g,b,y){y===void 0&&(y="");var C=cc();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:C,parentEffectId:g,label:y,effect:m});var x;function M(A,I){x||(x=!0,b.cancel=be,e.sagaMonitor&&(I?e.sagaMonitor.effectRejected(C,A):e.sagaMonitor.effectResolved(C,A)),I&&DM(m),b(A,I))}M.cancel=be,b.cancel=function(){x||(x=!0,M.cancel(),M.cancel=be,e.sagaMonitor&&e.sagaMonitor.effectCancelled(C))},s(m,C,M)}}function $M(e,t){for(var n=e.channel,r=n===void 0?uc():n,a=e.dispatch,o=e.getState,i=e.context,s=i===void 0?{}:i,u=e.sagaMonitor,l=e.effectMiddlewares,c=e.onError,d=c===void 0?jS:c,p=arguments.length,v=new Array(p>2?p-2:0),h=2;h<p;h++)v[h-2]=arguments[h];var m=t.apply(void 0,v),g=cc();u&&(u.rootSagaStarted=u.rootSagaStarted||be,u.effectTriggered=u.effectTriggered||be,u.effectResolved=u.effectResolved||be,u.effectRejected=u.effectRejected||be,u.effectCancelled=u.effectCancelled||be,u.actionDispatched=u.actionDispatched||be,u.rootSagaStarted({effectId:g,saga:t,args:v}));var b;if(l){var y=DS.apply(void 0,l);b=function(M){return function(A,I,P){var k=function(O){return M(O,I,P)};return y(k)(A)}}}else b=PS;var C={channel:r,dispatch:LS(a),getState:o,sagaMonitor:u,onError:d,finalizeRunEffect:b};return ac(function(){var x=Hr(C,m,s,g,Do(t),!0,void 0);return u&&u.effectResolved(g,x),x})}function FM(e){var t={},n=t.context,r=n===void 0?{}:n,a=t.channel,o=a===void 0?uc():a,i=t.sagaMonitor,s=Pe(t,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,p=c.dispatch;return u=$M.bind(null,_({},s,{context:r,channel:o,dispatch:p,getState:d,sagaMonitor:i})),function(v){return function(h){i&&i.actionDispatched&&i.actionDispatched(h);var m=v(h);return o.put(h),m}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){Lo(r,c)},l}var he;(function(e){e.Monomer="monomer",e.Preset="preset",e.Bond="bond",e.AmbiguousMonomer="ambiguousMonomer"})(he||(he={}));var ze;(function(e){e.Library="library",e.ChainStart="chainStart",e.ChainMiddle="chainMiddle",e.ChainEnd="chainEnd"})(ze||(ze={}));var BM={isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,preview:{type:he.Monomer,monomer:void 0,style:{}},position:void 0},Mn=Fr({name:"editor",initialState:BM,reducers:{init:function(t){t.isReady=!1},initSuccess:function(t){t.isReady=!0},initFailure:function(t){t.isReady=!1},selectTool:function(t,n){t.activeTool=n.payload},setPosition:function(t,n){t.position=n.payload},createEditor:function(t,n){t.editor=new Or({theme:n.payload.theme,canvas:n.payload.canvas,mode:t.editorLayoutMode?new mf[t.editorLayoutMode]:void 0,monomersLibraryUpdate:n.payload.monomersLibraryUpdate})},destroyEditor:function(t){t.editorLayoutMode=t.editor.mode.modeName,t.editor.switchToMicromolecules(),t.editor=void 0},showPreview:function(t,n){t.preview=n.payload||{monomer:void 0,style:""}}}}),Mt=Mn.actions,zM=Mt.init,qM=Mt.initSuccess,HM=Mt.initFailure,dt=Mt.selectTool,UM=Mt.createEditor,Yt=Mt.showPreview,GM=Mt.destroyEditor;Mt.setPosition;var Un=function(t){return t.editor.preview},Ur=function(t){return t.editor.activeTool},WM=function(t){return t.editor.position},se=function(t){return t.editor.editor},Qe=function(t){var n;return(n=t.editor.editor)===null||n===void 0?void 0:n.isSequenceEditInRNABuilderMode},KM=function(t){return t.editor.editorLayoutMode},VM=function(t){var n;return(n=t.editor.editor)===null||n===void 0?void 0:n.isHandToolSelected},pc=function(t){var n;return(n=t.editor.editor)===null||n===void 0||(n=n.drawingEntitiesManager)===null||n===void 0?void 0:n.hasAntisenseChains},YM=Mn.reducer,ZM=Ge.mark(hc),QM=Ge.mark(vc),XM="editor/fetchData",JM=function(){return new Promise(function(t){setTimeout(function(){return t("some data")},1e3)})};function hc(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sa(zM(Mn));case 2:return t.prev=2,t.next=5,eM(JM);case 5:return t.next=7,sa(qM(Mn));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(2),ur.error("editorSaga.ts::fetchData",t.t0),t.next=14,sa(HM(Mn));case 14:case"end":return t.stop()}},ZM,null,[[2,9]])}function vc(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oM(XM,hc);case 2:case"end":return t.stop()}},QM)}var mc="FAVORITES",e5="PEPTIDE",An={PEPTIDE:"PEPTIDE",CHEM:"CHEM",RNA:"RNA"},K;(function(e){e.SUGARS="Sugars",e.BASES="Bases",e.PHOSPHATES="Phosphates",e.PEPTIDES="Amino acids",e.NUCLEOTIDES="Nucleotides"})(K||(K={}));var ls;(function(e){e.R="R",e.A="A",e.C="C",e.G="G",e.T="T",e.U="U",e.X="X",e.P="P"})(ls||(ls={}));var ca={R:K.SUGARS,A:K.BASES,C:K.BASES,G:K.BASES,T:K.BASES,U:K.BASES,X:K.BASES,P:K.PHOSPHATES},ht="favoriteItemsUniqueKeys",Zt="ketcher_custom_presets",cs="Z",t5="No natural analogue",ds="thymine",fs="uracil",Nn={FAVORITES:0,PEPTIDES:1,RNA:2,CHEM:3},n5=function(){function e(){Ru(this,e),this.localStorage=window.localStorage}return Lu(e,[{key:"getItem",value:function(n){var r=this.localStorage.getItem(n);return r?JSON.parse(r):null}},{key:"setItem",value:function(n,r){this.localStorage.setItem(n,JSON.stringify(r))}},{key:"removeItem",value:function(n){this.localStorage.removeItem(n)}}]),e}(),Me=new n5;function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var r5=W(W({},mt.PEPTIDES,tt.AminoAcid),mt.BASES,tt.Base),a5={monomers:[],favorites:{},searchFilter:"",selectedTabIndex:Nn.RNA};function We(e){var t;return Se(e)?e.id||e.label:"".concat(e.props.MonomerName,"___").concat((t=e.props)===null||t===void 0?void 0:t.Name)}function o5(e){var t,n,r;return"".concat(e.name,"_").concat(((t=e.base)===null||t===void 0?void 0:t.label)||".","_").concat(((n=e.sugar)===null||n===void 0?void 0:n.label)||".","_").concat(((r=e.phosphate)===null||r===void 0?void 0:r.label)||".")}var gc=Fr({name:"library",initialState:a5,reducers:{loadMonomerLibrary:function(t,n){var r=n.payload.map(function(a){return Ce(Ce({},a),{},{props:Ce({},a.props)})});t.monomers=r},setFavoriteMonomersFromLocalStorage:function(t){var n={},r=Me.getItem(ht);!r||!Array.isArray(r)||(t.monomers.forEach(function(a){var o=We(a),i=r.find(function(s){return s===o});i&&(n[o]=Ce(Ce({},a),{},{favorite:!0}))}),t.favorites=n)},clearFavorites:function(t){t.favorites={}},toggleMonomerFavorites:function(t,n){var r=We(n.payload),a=Me.getItem(ht)||[];t.favorites[r]?(delete t.favorites[r],Me.setItem(ht,a.filter(function(o){return o!==r}))):(t.favorites[r]=Ce(Ce({},n.payload),{},{favorite:!0}),a.push(r),Me.setItem(ht,a))},setSearchFilter:function(t,n){t.searchFilter=n.payload},setSelectedTabIndex:function(t,n){t.selectedTabIndex=n.payload}}}),yc=function(t,n){return t.filter(function(r){var a;return!r.isAmbiguous&&((a=r.props)===null||a===void 0?void 0:a.MonomerType)===n})},Ho=function(t,n){var r=t.filter(function(i){if(!Se(i))return!1;var s=new wt(i,void 0,!1);return r5[n]===s.monomerClass});if(r.length===0)return[];var a=[];n===mt.BASES?a=[{groupTitle:"Ambiguous DNA Bases",groupItems:r.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(ds)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:r.filter(function(i){return Se(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(fs)})})},{groupTitle:"Ambiguous Bases",groupItems:r.filter(function(i){return Se(i)&&i.options.every(function(s){return!s.templateId.toLowerCase().includes(ds)&&!s.templateId.toLowerCase().includes(fs)})})}]:a.push({groupTitle:"Ambiguous ".concat(n),groupItems:r});var o=["X","N"];return a.forEach(function(i){i.groupItems.sort(function(s,u){return s.label.localeCompare(u.label)}),i.groupItems.sort(function(s){return o.includes(s.label)?-1:1})}),a},i5=function(t){return t.filter(function(n){var r,a;return!n.isAmbiguous&&(((r=n.props)===null||r===void 0?void 0:r.MonomerClass)===tt.RNA||((a=n.props)===null||a===void 0?void 0:a.MonomerClass)===tt.DNA)})},s5=function(t){return t.filter(function(n){return n.favorite&&!n.isAmbiguous})},u5=function(t){var n=[];for(var r in mt){var a=Ho(t,mt[r]);n=[].concat(ge(n),ge(a))}return n.forEach(function(o){o.groupItems=o.groupItems.filter(function(i){return i.favorite})}),n.filter(function(o){return o.groupItems.length})},bc=df(function(e){return e.library},function(e){var t=e.searchFilter,n=e.monomers,r=e.favorites,a=t.toLowerCase(),o=function(){var s,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,p=u.toLowerCase(),v=l.toLowerCase(),h=c==null||(s=c.base)===null||s===void 0?void 0:s.toLowerCase(),m=c!=null&&c.modifications?Object.values(c.modifications).map(function(D){return D.toLowerCase()}).join(" "):"";if(d==="/")return!!(h||m);if(d.includes("/")){var g=d.split("/");if(g.length>3||g.length===3&&g[2]!=="")return!1;if(g.length===3&&g[1]!==""){var b=g[1],y=h&&h.length===b.length&&Array.from(h).every(function(D,R){return D===b[R]}),C=m?m.split(" ").some(function(D){return D.length===b.length&&Array.from(D).every(function(R,$){return R===b[$]})}):!1;return y||C}var x=g[0],M=g[1];if(d.startsWith("/")&&d.length>1){var A=d.slice(1);return h&&h.startsWith(A)||m&&m.split(" ").some(function(D){return D.startsWith(A)})}if(d.endsWith("/")&&d.length>1){var I=d.slice(0,-1),P=d[d.length-2];return h&&h.endsWith(I)&&h[h.length-1]===P||m&&m.split(" ").some(function(D){return D.endsWith(I)&&D[D.length-1]===P})}var k=h&&h.startsWith(M)&&h.endsWith(x),N=m?m.split(" ").some(function(D){return D.startsWith(M)&&D.endsWith(x)}):!1;return k||N}var O=h?h.includes(d):!1,B=m?m.includes(d):!1,G=p.includes(d)||v.includes(d)||O||B;return G};return n.filter(function(i){if(i.isAmbiguous){var s=i.label,u=i.id,l=i.idtAliases,c=i.monomers,d=o(s,u,l,a);return d||c.some(function(g){var b=g.monomerItem.props,y=b.Name,C=b.MonomerName,x=b.idtAliases;return o(y,C,x,a)})}else{var p=i.props,v=p.Name,h=p.MonomerName,m=p.idtAliases;return o(v,h,m,a)}}).map(function(i){return Ce(Ce({},i),{},{favorite:!!r[We(i)]})})}),Fa=function(t){var n=t.reduce(function(o,i){var s=i.props.MonomerNaturalAnalogCode||cs;return o[s]||(o[s]=[]),o[s].push(Ce(Ce({},i),{},{label:i.props.MonomerName})),o},{}),r=Object.entries(n).reduce(function(o,i){var s=j(i,2),u=s[0],l=s[1],c=l.sort(function(v,h){return v.label.localeCompare(h.label)}),d=c.findIndex(function(v){return v.label===u});if(d!==-1){var p=c.splice(d,1);c.unshift(p[0])}return o[u]=c,o},{}),a=[];return Object.keys(r).sort(function(o,i){return o.localeCompare(i)}).reduce(function(o,i){var s={groupTitle:i===cs?t5:i,groupItems:[]};return r[i].forEach(function(u){s.groupItems.push(Ce(Ce({},u),{},{props:Ce({},u.props)}))}),s.groupItems.length&&o.push(s),o},a)},xc=function(t){return t.library.selectedTabIndex},un=gc.actions,Ba=un.loadMonomerLibrary,l5=un.setFavoriteMonomersFromLocalStorage;un.clearFavorites;var c5=un.toggleMonomerFavorites,hs=un.setSearchFilter,jn=un.setSelectedTabIndex,d5=gc.reducer,f5=Ge.mark(wc);function wc(){return Ge.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tM(vc);case 2:case"end":return t.stop()}},f5)}var p5={name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},Cc=Fr({name:"modal",initialState:p5,reducers:{openModal:function(t,n){typeof n.payload=="string"?t.name=n.payload:(t.name=n.payload.name,t.additionalProps=n.payload.additionalProps),t.isOpen=!0},closeModal:function(t){t.name=null,t.isOpen=!1,t.additionalProps=null},openErrorTooltip:function(t,n){t.errorTooltipText=n.payload},closeErrorTooltip:function(t){t.errorTooltipText=""},openErrorModal:function(t,n){if(typeof n.payload=="string")t.errorModalText=n.payload;else{var r=n.payload,a=r.errorMessage,o=r.errorTitle;t.errorModalText=a,t.errorModalTitle=o}},closeErrorModal:function(t){t.errorModalText=""}}}),ln=Cc.actions,Ht=ln.openModal,h5=ln.closeModal,vs=ln.openErrorTooltip,v5=ln.closeErrorTooltip,Ln=ln.openErrorModal,m5=ln.closeErrorModal,g5=function(t){return t.modal.name},y5=function(t){return t.modal.isOpen},b5=function(t){return t.modal.additionalProps},x5=function(t){return t.modal.errorTooltipText},w5=function(t){return t.modal.errorModalText},C5=function(t){return t.modal.errorModalTitle},S5=Cc.reducer;function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ms(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Qt=function(){return Me.getItem(Zt)},Uo=function(t){var n,r=Qt();return(n=r==null?void 0:r.findIndex(function(a){return a.name===t}))!==null&&n!==void 0?n:-1},Sc=function(t){var n=M5({},t),r=Qt()||[],a=Uo(n.nameInList);n.nameInList=n.name,a>-1?(r.splice(a,1,n),Me.setItem(Zt,r)):Me.setItem(Zt,[].concat(ge(r),[n]))},A5=function(t){if(t){var n=Qt(),r=Uo(t);n&&(n.splice(r,1),n.length?Me.setItem(Zt,n):Me.removeItem(Zt))}},E5=function(t){if(t){var n=Qt(),r=Uo(t);n&&r>-1&&(n[r].favorite=!n[r].favorite,Me.setItem(Zt,n))}},I5=function(t){var n=["sugar","base","phosphate"],r=BC(t,n);r.templates=[];for(var a=0,o=n;a<o.length;a++){var i,s=o[a],u=t[s],l=(u==null||(i=u.props)===null||i===void 0?void 0:i.id)||(u==null?void 0:u.id);l&&r.templates.push({$ref:u.isAmbiguous?Wu(l):Ku(l)})}return r},P5=function(t,n){var r,a,o=[],i=[],s=[];return!n||!(t!=null&&t.sugar)&&!(t!=null&&t.phosphate)&&!(t!=null&&t.base)?{sugarValidations:o,phosphateValidations:i,baseValidations:s}:(t!=null&&t.phosphate&&o.push("R2"),t!=null&&t.base&&o.push("R3"),s.push("R1"),t!=null&&(r=t.sugar)!==null&&r!==void 0&&(r=r.props)!==null&&r!==void 0&&r.MonomerCaps&&!("R3"in t.sugar.props.MonomerCaps)&&s.push("DISABLED"),i.push("R1"),t!=null&&(a=t.sugar)!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.MonomerCaps&&!("R2"in t.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:o,phosphateValidations:i,baseValidations:s})};function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ie;(function(e){e.Presets="Presets"})(Ie||(Ie={}));var k5={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:W(W(W({},K.BASES,[]),K.SUGARS,[]),K.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},En=W(W(W({},K.BASES,"base"),K.SUGARS,"sugar"),K.PHOSPHATES,"phosphate"),Mc=Fr({name:"rna-builder",initialState:k5,reducers:{createNewPreset:function(t){t.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(t,n){t.activePreset=hn(hn({},n.payload),{},{nameInList:n.payload.name})},setSequenceSelection:function(t,n){t.sequenceSelection=ge(n.payload)},setSequenceSelectionName:function(t,n){t.sequenceSelectionName=n.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(t,n){t.isSequenceFirstsOnlyNucleoelementsSelected=n.payload},setActivePresetForContextMenu:function(t,n){t.activePresetForContextMenu=n.payload},setActivePresetName:function(t,n){t.activePreset.name=n.payload},setActiveRnaBuilderItem:function(t,n){t.activeRnaBuilderItem=n.payload},recalculateRnaBuilderValidations:function(t,n){var r=P5(n.payload.rnaPreset,n.payload.isEditMode),a=r.sugarValidations,o=r.phosphateValidations,i=r.baseValidations;t.groupItemValidations[K.SUGARS]=a,t.groupItemValidations[K.BASES]=i,t.groupItemValidations[K.PHOSPHATES]=o},setActivePresetMonomerGroup:function(t,n){t.activePresetMonomerGroup=n.payload},savePreset:function(t,n){var r=n.payload,a=hn({},r);if(Sc(I5(a)),a.nameInList){var o=t.presetsCustom.findIndex(function(i){return i.name===a.nameInList});a.nameInList=a.name,o===-1?t.presetsCustom.push(a):t.presetsCustom.splice(o,1,a)}else t.presetsCustom.push(a);t.activePreset&&(t.activePreset.nameInList=a.name)},deletePreset:function(t,n){var r=n.payload;A5(r.name);var a=t.presetsCustom.findIndex(function(o){return o.name===r.name});t.presetsCustom.splice(a,1),r.nameInList&&(t.activePreset=null)},setIsEditMode:function(t,n){t.isEditMode=n.payload},setUniqueNameError:function(t,n){t.uniqueNameError=n.payload},setInvalidPresetError:function(t,n){t.invalidPresetError=n.payload},setDefaultPresets:function(t,n){var r=n.payload[0];if(r){var a=t.presetsDefault.find(function(o){return o.name===r.name});a||(t.presetsDefault=n.payload)}},setCustomPresets:function(t,n){t.presetsCustom=n.payload},setFavoritePresetsFromLocalStorage:function(t){var n=Me.getItem(ht);!n||!Array.isArray(n)||(t.presetsDefault=t.presetsDefault.map(function(r){var a="".concat(r.name,"_").concat(li.RNA),o=n.find(function(i){return i===a});return o?hn(hn({},r),{},{favorite:!0}):r}))},clearFavorites:function(t){t.presetsDefault=[]},togglePresetFavorites:function(t,n){var r=t.presetsDefault.findIndex(function(c){return c.name===n.payload.name}),a=t.presetsCustom.findIndex(function(c){return c.name===n.payload.name});if(r>=0){var o=t.presetsDefault[r].favorite;t.presetsDefault[r].favorite=!o}else if(a>=0){E5(t.presetsCustom[a].name);var i=t.presetsCustom[a].favorite;t.presetsCustom[a].favorite=!i;return}var s="".concat(n.payload.name,"_").concat(li.RNA),u=Me.getItem(ht)||[],l=u.some(function(c){return c===s});l?Me.setItem(ht,u.filter(function(c){return c!==s})):(u.push(s),Me.setItem(ht,u))}}}),Ac=function(t){return t.rnaBuilder.activeRnaBuilderItem},O5=function(t){return t.rnaBuilder.groupItemValidations},Gr=function(t){return t.rnaBuilder.activePreset},Ec=function(t){return t.rnaBuilder.sequenceSelection},T5=function(t){return t.rnaBuilder.sequenceSelectionName},N5=function(t){return t.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},da=function(t,n){if(!(!En[n]||!t))return t[En[n]]},j5=function(t){return t.rnaBuilder.activePresetMonomerGroup},ys=function(t){return!!(t.name&&t.sugar&&(t.base||t.phosphate))},Go=function(t){return t.rnaBuilder.isEditMode},Ic=function(t){var n,r,a,o,i,s;if(!t)return"";var u=((n=t.sugar)===null||n===void 0?void 0:n.label)||((r=t.sugar)===null||r===void 0?void 0:r.props.MonomerName)||"",l=((a=t.base)===null||a===void 0?void 0:a.label)||((o=t.base)===null||o===void 0?void 0:o.props.MonomerName)||"",c=((i=t.phosphate)===null||i===void 0?void 0:i.label)||((s=t.phosphate)===null||s===void 0?void 0:s.props.MonomerName)||"",d=u;return u&&c||(u||c)&&l?d+="(".concat(l,")"):d+=l,d+=c,d},L5=function(t){return t.rnaBuilder.uniqueNameError},D5=function(t){return t.rnaBuilder.invalidPresetError},Pc=function(t){var n=t.rnaBuilder.activePreset;return n&&!n.nameInList&&!n.name&&!n.sugar&&!n.base&&!n.phosphate},kc=function(t){return t.rnaBuilder.activePresetForContextMenu},_5=function(t){return t.filter(function(n){return n.favorite})},Wr=function(t){var n=t.rnaBuilder,r=n.presetsDefault,a=r===void 0?[]:r,o=n.presetsCustom,i=o===void 0?[]:o;return[].concat(ge(a),ge(i))},Oc=function(t){var n,r=t.library.searchFilter,a=Wr(t),o=(n=WM(t))!==null&&n!==void 0?n:fn.Library,i=r.toLowerCase();return a.filter(function(s){var u,l,c,d,p,v,h,m,g=(u=s.name)===null||u===void 0?void 0:u.toLowerCase(),b=(l=s.sugar)===null||l===void 0||(l=l.label)===null||l===void 0?void 0:l.toLowerCase(),y=(c=s.phosphate)===null||c===void 0||(c=c.label)===null||c===void 0?void 0:c.toLowerCase(),C=(d=s.base)===null||d===void 0||(d=d.label)===null||d===void 0?void 0:d.toLowerCase(),x=(p=s.idtAliases)===null||p===void 0||(p=p.base)===null||p===void 0?void 0:p.toLowerCase(),M=(v=s.idtAliases)===null||v===void 0?void 0:v.modifications,A=x;if((h=s.name)!==null&&h!==void 0&&h.includes("MOE")&&x){var I,P,k,N=x,O=(I=M==null?void 0:M.endpoint5)!==null&&I!==void 0?I:"5".concat(N),B=(P=M==null?void 0:M.internal)!==null&&P!==void 0?P:"i".concat(N),G=(k=M==null?void 0:M.endpoint3)!==null&&k!==void 0?k:"3".concat(N);switch(o){case fn.Library:A="".concat(O,", ").concat(B);break;case fn.ChainStart:A=O;break;case fn.ChainMiddle:A=B;break;case fn.ChainEnd:A=G;break}}var D=(i.match(/\//g)||[]).length,R=i.split("/");if(D>=2&&R[2]!==void 0&&R[2]!=="")return!1;if(i.startsWith("/")&&i.length>1){var $,q=i.slice(1);return(($=A)===null||$===void 0?void 0:$.toLowerCase().startsWith(q))||(x==null?void 0:x.startsWith(q))||M&&Object.values(M).some(function(te){return te==null?void 0:te.toLowerCase().startsWith(q)})}if(i.endsWith("/")&&i.length>1){var L,U=i.slice(0,-1),ie=i[i.length-2];return((L=A)===null||L===void 0?void 0:L.toLowerCase().endsWith(U))&&A[A.length-1]===ie||(x==null?void 0:x.endsWith(U))&&x[x.length-1]===ie||M&&Object.values(M).some(function(te){return(te==null?void 0:te.toLowerCase().endsWith(U))&&te[te.length-1]===ie})}if(i==="/")return!!s.idtAliases;var ve=(g==null?void 0:g.includes(i))||(b==null?void 0:b.includes(i))||(y==null?void 0:y.includes(i))||(C==null?void 0:C.includes(i))||((m=A)===null||m===void 0?void 0:m.toLowerCase().includes(i));return ve})},ue=Mc.actions,Dn=ue.setActivePreset,Wo=ue.setSequenceSelection,Tc=ue.setSequenceSelectionName,R5=ue.setIsSequenceFirstsOnlyNucleoelementsSelected;ue.setActivePresetName;var Ut=ue.setActiveRnaBuilderItem,Ko=ue.recalculateRnaBuilderValidations,Nc=ue.setActivePresetMonomerGroup,$5=ue.savePreset,F5=ue.deletePreset,Vo=ue.createNewPreset,at=ue.setIsEditMode,Yo=ue.setUniqueNameError,jc=ue.setInvalidPresetError,B5=ue.setDefaultPresets,z5=ue.setCustomPresets,q5=ue.setActivePresetForContextMenu,H5=ue.togglePresetFavorites,U5=ue.setFavoritePresetsFromLocalStorage,G5=ue.clearFavorites,W5=Mc.reducer;function K5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=FM(),n=dS({reducer:{editor:YM,modal:S5,library:d5,rnaBuilder:W5},middleware:function(a){return a({thunk:!1,serializableCheck:!1}).concat(t)},preloadedState:e});return t.run(wc),n}var V5=K5(),ne={colorA:{regular:"#CCCBD6",hover:"#B8BBCC"},colorCM:{regular:"#FFE34C",hover:"#FFD700"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#E1E6ED",hover:"#CAD3E0"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FFC44C",hover:"#FFAA00"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#99458B",hover:"#7F006B"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},oe={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},bs={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#EFF2F5",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:`Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',
Arial, sans-serif`,roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:ne.colorA,C:ne.colorCM,M:ne.colorCM,D:ne.colorDQ,Q:ne.colorDQ,E:ne.colorEN,N:ne.colorEN,F:ne.colorFY,Y:ne.colorFY,G:ne.colorGX,X:ne.colorGX,H:ne.colorH,I:ne.colorILV,L:ne.colorILV,V:ne.colorILV,K:ne.colorKR,R:ne.colorKR,P:ne.colorP,S:ne.colorST,T:ne.colorST,W:ne.colorW,U:ne.colorU,CHEM:ne.chem,default:ne.default}},peptide:{color:{D:oe.D,E:oe.E,K:oe.K,H:oe.H,O:oe.O,R:oe.R,Q:oe.Q,Y:oe.Y,U:oe.U,S:oe.S,C:oe.C,N:oe.N,T:oe.T,L:oe.L,I:oe.I,F:oe.F,A:oe.A,P:oe.P,G:oe.G,M:oe.M,V:oe.V}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"}},Y5={},Z5=function(t){return $u({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:t.ketcher.font.size.medium,fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:t.ketcher.font.family.inter,fontWeight:t.ketcher.font.weight.regular,fontSize:t.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:t.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:t.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:t.ketcher.font.weight.bold}},"","")},Lc="254px",Q5=w(Fu,{target:"e1vkl5kv4"})({name:"4b23tt",styles:"outline:0;:hover{outline:none;}"}),X5=w("div",{target:"e1vkl5kv3"})(function(e){var t=e.theme;return{width:Lc,height:"calc(100% - 16px)",backgroundColor:t.ketcher.color.background.primary,boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",display:"flex",flexDirection:"column",borderRadius:"4px"}},""),J5=w("h3",{target:"e1vkl5kv2"})(function(e){var t=e.theme;return{margin:0,padding:0,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular}},""),e4=w("div",{target:"e1vkl5kv1"})(function(){return{padding:"12px",position:"relative"}},""),t4=w("div",{target:"e1vkl5kv0"})(function(e){var t=e.theme;return{padding:"12px 0","& > div":{background:t.ketcher.color.input.background.default,display:"flex",height:"24px",flexDirection:"row",border:"1px solid transparent",borderRadius:"4px",padding:"0 4px","& > span":{display:"flex",alignItems:"center",justifyContent:"center"},"&:has(input:focus)":{outline:"1px solid ".concat(t.ketcher.color.input.border.focus)},"& > input":{background:"transparent",border:"none",padding:"0 0 0 8px",margin:0,flex:1,"&:focus":{outline:"none"}}}}},""),xs=w("div",{target:"e1pv9pa9"})(function(e){var t=e.fullWidth,n=e.withPaddingRight;return{width:t?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:n?"12px":0}},""),n4=w("div",{target:"e1pv9pa8"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"hidden"}},""),r4=w("div",{target:"e1pv9pa7"})(function(e){var t=e.theme;return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:t.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),Dc=w("div",{target:"e1pv9pa6"})(function(e){var t=e.hide,n=t===void 0?!1:t;return{height:"100%",width:"fit-content",display:n?"none":"flex",flexDirection:"column"}},""),_c=w(Dc,{target:"e1pv9pa5"})(""),Rc=w(Dc,{target:"e1pv9pa4"})(""),$c=w("div",{target:"e1pv9pa3"})(function(e){var t=e.shortened,n=t===void 0?!1:t;return{height:"36px",width:n?"calc(100% - ".concat(Lc,")"):"100%",marginBottom:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)",borderRadius:"4px"}},""),Fc=w("div",{target:"e1pv9pa2"})({name:"149k9u4",styles:"height:100%;width:100%;position:relative"}),Bc=w("div",{target:"e1pv9pa1"})({name:"0",styles:""}),a4=w("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),je=function(t){var n=t.children,r={Left:null,Main:null,Right:null,Top:null,InsideRoot:null};return bt.Children.forEach(n,function(a){a.type===_c?r.Left=a:a.type===Rc?r.Right=a:a.type===$c?r.Top=a:a.type===Fc?r.Main=a:a.type===Bc&&(r.InsideRoot=a)}),E(n4,{children:[E(xs,{fullWidth:!0,withPaddingRight:!0,children:[r.Top,E(r4,{children:[r.Left,f(a4,{}),r.Main]})]}),f(xs,{children:r.Right}),r.InsideRoot]})};je.Left=_c;je.Top=$c;je.Right=Rc;je.Main=Fc;je.InsideRoot=Bc;var le=function(){return Tr()},T=Bu;function cn(){var e,t=Gu.getKetcher(),n=t==null||(e=t.editor)===null||e===void 0?void 0:e.struct().isBlank(),r=n?_f:Rf,a=T(se),o=T(KM),i=S.useState(o||r),s=j(i,2),u=s[0],l=s[1],c=S.useCallback(function(d){l(d)},[l]);return S.useEffect(function(){return a==null||a.events.layoutModeChange.add(c),function(){a==null||a.events.layoutModeChange.remove(c)}},[c,a==null?void 0:a.events.layoutModeChange]),u}function o4(){var e=T(se),t=T(Qe),n=S.useState(t),r=j(n,2),a=r[0],o=r[1],i=function(u){o(u)};return S.useEffect(function(){return e==null||e.events.toggleSequenceEditInRNABuilderMode.add(i),function(){e==null||e.events.toggleSequenceEditInRNABuilderMode.remove(i)}},[i,e==null?void 0:e.events.toggleSequenceEditInRNABuilderMode]),a}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ws(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var i4=w("div",{target:"e1fsnjs54"})(function(){return{backgroundColor:"#eef2f5",flexGrow:1,overflowY:"auto"}},""),s4=w(Ju,{target:"e1fsnjs53"})({name:"jwg7h4",styles:"height:100%;width:100%;align-items:start"});function u4(e){var t=e.children,n=e.value,r=e.index;return f(i4,{role:"tabpanel",hidden:n!==r,id:r.toString(),children:n===r&&f(s4,{children:t})})}function l4(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function c4(e){var t=le(),n=T(xc),r=e.tabs,a=r[n],o=a==null?void 0:a.component,i=a==null?void 0:a.props,s=function(p,v){t(jn(v))},u=w(kf,{target:"e1fsnjs52"})({name:"1oug8xv",styles:"height:24px;min-height:24px;list-style-type:none;margin:0;padding:0;& .MuiTabs-indicator{display:none;}"}),l=w(Of,{target:"e1fsnjs51"})(function(d){var p=d.theme;return{minHeight:24,minWidth:0,height:1,padding:0,fontSize:p.ketcher.font.size.regular,textTransform:"none",cursor:"pointer",textAlign:"center",backgroundColor:p.ketcher.color.tab.regular,color:p.ketcher.color.text.light,listStyleType:"none",margin:0,flex:"1 1 auto",border:"1px solid transparent",borderBottom:"1px solid ".concat(p.ketcher.color.border.primary),borderRadius:"4px 4px 0 0","&:first-of-type":{borderLeftColor:"transparent !important",borderRadius:"0 4px 0 0 "},"&:last-of-type":{borderRightColor:"transparent !important",borderRadius:"4px 0 0 0"},"&:hover":{backgroundColor:p.ketcher.color.tab.regular,color:p.ketcher.color.text.primary,border:"1px solid ".concat(p.ketcher.color.border.primary)},"&.Mui-selected":{backgroundColor:p.ketcher.color.tab.active,color:p.ketcher.color.text.primary,border:"1px solid ".concat(p.ketcher.color.border.primary),borderBottom:"1px solid transparent"}}},""),c=w("div",{target:"e1fsnjs50"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});return E(ee,{children:[f(u,{value:n,onChange:s,children:r.map(function(d,p){return f(l,Cs({label:d.caption,"data-testid":d.testId},l4(p)),p)})}),a&&f(u4,{value:n,index:n,children:f(c,{children:f(o,Cs({},i))})})]})}var vt=function(){};function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ss(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ms=function(t,n,r){var a=new Map(t.map(function(o){var i=Se(o)?Wu(o.id):Ku(We(o));return[i,o]}));return n.filter(function(o){return o.templates.every(function(i){return!!a.get(i.$ref)})}).map(function(o){var i=new Map(o.templates.map(function(d){var p=a.get(d.$ref),v=Tf(p),h=j(v,3),m=h[2];return[m,p]})),s=i.get(tt.Sugar),u=i.get(tt.Base),l=i.get(tt.Phosphate),c={base:u?st(st({},u),{},{label:u.label}):void 0,name:o.name,phosphate:l?st(st({},l),{},{label:l.label}):void 0,sugar:s?st(st({},s),{},{label:s.label}):void 0,favorite:o.favorite,default:r||o.default};return o.idtAliases?st(st({},c),{},{idtAliases:o.idtAliases}):c})},fa=function(t){return Object.entries(t).filter(function(n){var r=j(n,2);r[0];var a=r[1];return!!a}).map(function(n){var r=j(n,1),a=r[0];return a})},zc=w("div",{target:"e719szw2"})("background:white;height:48px;text-align:center;cursor:",function(e){var t=e.disabled;return t?"default":"pointer"},";opacity:",function(e){var t=e.disabled;return t?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;padding:0 5px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 4px rgba(0, 0, 0, 0.15);margin:0;user-select:none;border-color:#167782;border-width:",function(e){var t=e.selected;return t?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(e){var t=e.selected;return t?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(e){var t=e.isVariantMonomer;return t?"1px solid #CAD3DD":"none"},";background:",function(e){var t,n,r,a,o,i=e.code,s=e.theme,u=e.item;if(!u)return(t=s.ketcher.monomer.color.default)===null||t===void 0?void 0:t.regular;var l=u,c=((n=l.props)===null||n===void 0?void 0:n.MonomerType)==="PEPTIDE";if(c&&(r=s.ketcher.peptide.color[i])!==null&&r!==void 0&&r.regular){var d;return(d=s.ketcher.peptide.color[i])===null||d===void 0?void 0:d.regular}var p=((a=s.ketcher.monomer.color[i])===null||a===void 0?void 0:a.regular)||((o=s.ketcher.monomer.color.default)===null||o===void 0?void 0:o.regular);return p},";},>span{position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#e1e5ea;position:absolute;top:12px;right:3px;font-size:15px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),d4=w("div",{target:"e719szw1"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(e){var t=e.monomersAmount;return t>=10?"20px":"15px"},";border-radius:",function(e){var t=e.monomersAmount;return t>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(e){var t=e.selected;return t?"4px":"6px"},";left:",function(e){var t=e.selected;return t?"18px":"20px"},";font-size:12px;line-height:12px;"),f4=w("span",{target:"e719szw0"})({name:"rnnx2x",styles:"font-size:12px"}),p4=function(t,n){var r,a,o,i=T(Qe),s=Bu(N5),u=S.useState(!1),l=j(u,2),c=l[0],d=l[1];return S.useEffect(function(){if(!i)return d(!1);if(n===mt.BASES){var p;d(!(t!=null&&(p=t.props)!==null&&p!==void 0&&(p=p.MonomerCaps)!==null&&p!==void 0&&p.R1))}else if(n===mt.PHOSPHATES){var v,h;d(!(t!=null&&(v=t.props)!==null&&v!==void 0&&(v=v.MonomerCaps)!==null&&v!==void 0&&v.R1&&t!==null&&t!==void 0&&(h=t.props)!==null&&h!==void 0&&(h=h.MonomerCaps)!==null&&h!==void 0&&h.R2))}else if(n===mt.SUGARS)if(s){var m,g;d(!(t!=null&&(m=t.props)!==null&&m!==void 0&&(m=m.MonomerCaps)!==null&&m!==void 0&&m.R3&&t!==null&&t!==void 0&&(g=t.props)!==null&&g!==void 0&&(g=g.MonomerCaps)!==null&&g!==void 0&&g.R2))}else{var b,y,C;d(!(t!=null&&(b=t.props)!==null&&b!==void 0&&(b=b.MonomerCaps)!==null&&b!==void 0&&b.R3&&t!==null&&t!==void 0&&(y=t.props)!==null&&y!==void 0&&(y=y.MonomerCaps)!==null&&y!==void 0&&y.R2&&t!==null&&t!==void 0&&(C=t.props)!==null&&C!==void 0&&(C=C.MonomerCaps)!==null&&C!==void 0&&C.R1))}},[n,i,s,t==null||(r=t.props)===null||r===void 0||(r=r.MonomerCaps)===null||r===void 0?void 0:r.R1,t==null||(a=t.props)===null||a===void 0||(a=a.MonomerCaps)===null||a===void 0?void 0:a.R2,t==null||(o=t.props)===null||o===void 0||(o=o.MonomerCaps)===null||o===void 0?void 0:o.R3,d]),c};function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?As(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var h4=function(t){var n=t.item,r=t.groupName,a=t.onMouseLeave,o=t.onMouseMove,i=t.isSelected,s=t.disabled,u=t.onClick,l=u===void 0?vt:u,c=S.useState(n.favorite),d=j(c,2),p=d[0],v=d[1],h=le(),m=p4(n,r)||s,g=Se(n)?"":n.props.MonomerType===An.CHEM?n.props.MonomerType:n.props.MonomerNaturalAnalogCode,b=We(n),y=Se(n)?void 0:n;return E(zc,Es(Es({selected:i,disabled:m,"data-testid":b,"data-monomer-item-id":b,item:y,isVariantMonomer:n.isAmbiguous,code:g,onMouseLeave:a,onMouseMove:o},m?{}:{onClick:l}),{},{children:[f(f4,{children:n.label}),!m&&f("div",{onClick:function(x){x.stopPropagation(),v(!p),h(c5(n))},className:"star ".concat(p?"visible":""),children:"★"}),Se(n)&&f(d4,{selected:i,monomersAmount:n.monomers.length,children:n.monomers.length})]}))},qc=w("div",{target:"e10tnh3n3"})({name:"183ulj8",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:8px;&::after{content:'';flex:auto;}"}),Hc=w("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.divider},";margin:0;gap:8px;"),v4=w(Hc,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),m4=w("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";font-family:",function(e){var t=e.theme;return t.ketcher.font.family.roboto},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";margin:0;"),br=function(t){var n=t.items,r=t.title,a=t.groupName,o=t.selectedMonomerUniqueKey,i=t.libraryName,s=t.disabled,u=t.onItemClick,l=u===void 0?vt:u,c=le(),d=T(se),p=T(O5),v=function(M){var A=!1;if(Se(M))return!1;if(s)A=s;else{var I,P,k=p["".concat((I=M.props)===null||I===void 0?void 0:I.MonomerClass,"s")];if((k==null?void 0:k.length)>0&&(P=M.props)!==null&&P!==void 0&&P.MonomerCaps)for(var N=0;N<k.length;N++)k[N]in M.props.MonomerCaps||(A=!0)}return A},h=S.useCallback(function(x){return c(Yt(x))},[c]),m=S.useCallback(xt.debounce(function(x){return h(x)},500),[h]),g=function(){m.cancel(),c(Yt(void 0))},b=function(M,A){g();var I=A.currentTarget.getBoundingClientRect(),P,k,N;if(Se(M)){N=M?Qu(M)(I):"";var O="".concat(I.left+I.width/2,"px");k=he.AmbiguousMonomer,P={left:O,top:N,transform:"translate(-50%, 0)"}}else N=M?Yf(I):"",P={right:"-88px",top:N,transform:"translate(-50%, 0)"},k=he.Monomer;var B={type:k,monomer:M,style:P};m(B)},y=function(M){c(dt("monomer")),["FAVORITES","PEPTIDE","CHEM"].includes(i??"")&&d.events.selectMonomer.dispatch(M),l(M)},C=function(M){return o===We(M)};return E(v4,{children:[r&&f(m4,{children:r}),f(qc,{children:n.map(function(x){return f(h4,{disabled:v(x),item:x,groupName:a,isSelected:C(x),onMouseLeave:g,onMouseMove:function(A){return b(x,A)},onClick:function(){return y(x)}},We(x))})})]})},g4=w("div",{target:"e1bp6il60"})({name:"jewv9i",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:24px;padding:16px 12px"}),y4=w(zc,{target:"e1txcvj90"})("&::after{content:'';background:",function(e){var t=e.theme,n=e.selected;return n?t.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:visible;position:absolute;right:2px;top:10px;}.hidden{visibility:hidden!important;}>.star{right:0;left:4px;top:10px;width:min-content;}"),b4=w("div",{target:"ernj46o2"})(function(e){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:e.theme.ketcher.border.small}},""),x4=w("span",{target:"ernj46o1"})(function(e){return{flexGrow:1,fontSize:e.theme.ketcher.font.size.regular}},""),za=w(ye,{target:"ernj46o0"})(function(e){return{width:"16px",height:"16px",color:e.theme.ketcher.color.icon.grey,transition:e.theme.ketcher.transition.regular,transform:e.expanded?"rotate(180deg)":"none"}},""),w4=function(t){var n=t.preset,r=t.isSelected,a=t.onClick,o=a===void 0?vt:a,i=t.onContextMenu,s=i===void 0?vt:i,u=t.onMouseLeave,l=u===void 0?vt:u,c=t.onMouseMove,d=c===void 0?vt:c,p=S.useState(!1),v=j(p,2),h=v[0],m=v[1],g=S.useState(n.favorite),b=j(g,2),y=b[0],C=b[1],x=le(),M=function(){m(!0)},A=function(){m(!1)},I=function(k){k.stopPropagation(),C(!y),x(H5(n))};return E(y4,{"data-testid":o5(n),onClick:o,onContextMenu:s,onMouseLeave:l,onMouseMove:d,onMouseOver:M,onMouseOut:A,selected:r,code:n.name,"data-rna-preset-item-name":n.name,children:[f("span",{children:n.name}),f(za,{name:"vertical-dots",className:h?"dots":"dots hidden",onClick:s}),f("div",{"aria-hidden":!0,onClick:I,className:"star ".concat(y?"visible":""),children:"★"})]})},He;(function(e){e.FOR_RNA="context-menu-for-RNA",e.FOR_SEQUENCE="context-menu-for-sequence",e.FOR_POLYMER_BOND="context-menu-for-polymer-bond",e.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"})(He||(He={}));var C4=w(gf,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);.contexify_itemContent{font-family:",function(e){var t=e.theme;return t.ketcher.font.family.inter},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}.contexify_separator{color:rgba(225, 229, 234, 1);}.contexify_item-title{opacity:1;font-weight:bold;}"),S4=function(t,n){var r=[];return t.forEach(function(a,o){var i=a.name,s=a.title,u=a.hidden,l=a.disabled,c=a.isMenuTitle,d=a.separator,p=f(Hf,{id:i,onClick:n,"data-testid":i,hidden:u,disabled:l,className:c?"contexify_item-title":"",children:f("span",{children:s})},i);r.push(p),d&&r.push(f(Uf,{},o))}),r},Kr=function(t){var n=t.id,r=t.handleMenuChange,a=t.menuItems;return f(C4,{id:n,children:S4(a,r)})},M4=function(){var t=Nn.RNA,n=le(),r=T(kc),a=T(xc),o=T(Qe),i=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:r==null?void 0:r.default},{name:"deletepreset",title:"Delete Preset",disabled:r==null?void 0:r.default}],s=function(c){var d=c.id,p=c.props;switch(d){case"duplicateandedit":p.duplicatePreset(r),a!==t&&n(jn(t));break;case"edit":p.editPreset(r),a!==t&&n(jn(t));break;case"deletepreset":n(Ht("delete"));break}},u=document.querySelector(Lt);return u&&!o?Lr.createPortal(f(Kr,{id:He.FOR_RNA,menuItems:i,handleMenuChange:s}),u):null},Uc=function(t){var n=t.presets,r=t.duplicatePreset,a=t.editPreset,o=T(Gr),i=T(se),s=Jn({id:He.FOR_RNA}),u=s.show,l=Tr(),c=function(x){var M,A,I,P=!0,k=!0,N=!0;if(x!=null&&(M=x.base)!==null&&M!==void 0&&(M=M.props)!==null&&M!==void 0&&M.MonomerCaps&&(P="R1"in x.base.props.MonomerCaps),x!=null&&(A=x.sugar)!==null&&A!==void 0&&(A=A.props)!==null&&A!==void 0&&A.MonomerCaps){var O;P&&x!==null&&x!==void 0&&(O=x.base)!==null&&O!==void 0&&(O=O.props)!==null&&O!==void 0&&O.MonomerCaps&&(k="R3"in x.sugar.props.MonomerCaps)}if(x!=null&&(I=x.phosphate)!==null&&I!==void 0&&(I=I.props)!==null&&I!==void 0&&I.MonomerCaps){var B;N="R1"in x.phosphate.props.MonomerCaps,k&&x!==null&&x!==void 0&&(B=x.sugar)!==null&&B!==void 0&&(B=B.props)!==null&&B!==void 0&&B.MonomerCaps&&(k="R2"in x.sugar.props.MonomerCaps)}return P&&k&&N},d=function(x){return function(){var M=c(x);if(!M&&x.name){l(jc(x.name));return}l(Dn(x)),i.events.selectPreset.dispatch(x),x.name!==o.name&&l(at(!1))}},p=function(x){var M,A=x instanceof HTMLDivElement;!A&&x.parentElement&&(x=x.parentElement);var I=x.getBoundingClientRect(),P=(M=x.offsetParent)===null||M===void 0?void 0:M.getBoundingClientRect(),k=140,N=I.right-k,O=I.y+I.height/2;return P!=null&&P.x&&(P==null?void 0:P.x)>N&&(N=I.x),{x:N,y:O}},v=T(Un),h=S.useCallback(function(C){return l(Yt(C))},[l]),m=S.useCallback(xt.debounce(function(C){return h(C)},500),[h]),g=function(){m.cancel(),l(Yt(void 0))},b=function(x,M){if(g(),!(v.type===he.Preset||!M.currentTarget)){var A=[x.sugar,x.base,x.phosphate],I=M.currentTarget.getBoundingClientRect(),P={left:"".concat(I.left+I.width,"px"),top:Se(x.base)?Qu(x.base)(I):Zf(I),transform:"translate(-100%, 0)"},k=Se(x.base)?{type:he.AmbiguousMonomer,monomer:x.base,presetMonomers:A,style:P}:{type:he.Preset,monomers:A,name:x.name,idtAliases:x.idtAliases,position:ze.Library,style:P};m(k)}},y=function(x){return function(M){M.stopPropagation(),l(q5(x)),u({event:M,props:{duplicatePreset:r,editPreset:a},position:p(M.currentTarget)})}};return E(Hc,{"data-testid":"rna-preset-group",children:[f(qc,{children:n.map(function(C,x){return f(w4,{isSelected:(o==null?void 0:o.name)===C.name,preset:C,onClick:d(C),onContextMenu:y(C),onMouseMove:function(A){return b(C,A)},onMouseLeave:g},"".concat(C.name).concat(x))})}),f(M4,{})]})},pa=function(t){var n=t.onItemClick,r=t.libraryName,a=t.duplicatePreset,o=t.editPreset,i=T(bc),s=T(Oc),u=T(Ur),l=r===mc,c=l?{monomers:s5(i),presets:_5(s)}:yc(i,r),d=Fa(l?c.monomers:c),p=l?u5(i):Ho(i,K.PEPTIDES),v=S.useState(""),h=j(v,2),m=h[0],g=h[1],b=function(C){g(We(C))};return S.useEffect(function(){u!=="monomer"&&g("")},[u]),E(g4,{children:[l&&d.length>0&&f("div",{children:"Monomers"}),d.map(function(y,C,x){var M=y.groupItems,A=y.groupTitle;return f(br,{title:x.length===1?void 0:A,items:M,libraryName:r,onItemClick:n||b,selectedMonomerUniqueKey:m},A)}),l&&c.presets.length>0&&E(ee,{children:[f("div",{children:"Presets"}),f(Uc,{duplicatePreset:a,editPreset:o,presets:c.presets})]}),f(ee,{children:(r===e5||l)&&p.map(function(y){return f(br,{title:y.groupTitle,items:y.groupItems,libraryName:r,onItemClick:n||b,selectedMonomerUniqueKey:m},y.groupTitle)})})]})},A4=w("div",{target:"e1hdfnag5"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Is=w(yf,{target:"e1hdfnag4"})({name:"u6kpdv",styles:"min-height:32px"}),E4=w("div",{target:"e1hdfnag3"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),Ps=w("div",{target:"e1hdfnag2"})({name:"gs2evd",styles:"position:relative;width:100%;display:flex;flex-direction:column;gap:24px;justify-content:start;padding:16px 12px"}),Gc=w(Nr,{target:"e1hdfnag1"})(function(e){return{backgroundColor:e.theme.ketcher.color.button.transparent.active,color:e.theme.ketcher.color.text.light,borderColor:e.theme.ketcher.color.text.light}},""),I4=w("div",{target:"e1hdfnag0"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),P4=function(t){var n=t.groupName,r=t.quantity,a=t.expanded,o=t.iconName;return E(b4,{"data-testid":"summary-".concat(n),children:[f(za,{name:o}),E(x4,{children:[n," (",r,")"]}),f(za,{name:"chevron",expanded:a})]})};function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ks(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var k4=function(t){var n=t.libraryName,r=t.duplicatePreset,a=t.editPreset,o=T(bc),i=yc(o,n),s=T(Ac),u=T(Gr),l=Fa(i),c=T(Oc),d=i5(o),p=Fa(d),v=T(Go),h=T(se),m=T(Pc),g=T(Qe),b=S.useState(s),y=j(b,2),C=y[0],x=y[1],M=S.useState(u),A=j(M,2),I=A[0],P=A[1],k=S.useState(""),N=j(k,2),O=N[0],B=N[1],G=Tr(),D=function(U){C===U?x(null):(x(U),G(Ko({rnaPreset:I,isEditMode:v})))},R=[{groupName:Ie.Presets,iconName:"preset",groups:[{groupItems:c}]},{groupName:K.SUGARS,iconName:"sugar",groups:l.filter(function(L){return ca[L.groupTitle]===K.SUGARS})},{groupName:K.BASES,iconName:"base",groups:l.filter(function(L){return ca[L.groupTitle]===K.BASES}).map(function(L){return Vn(Vn({},L),{},{groupItems:L.groupItems.filter(function(U){var ie;return((ie=U.props)===null||ie===void 0?void 0:ie.MonomerClass)!==tt.RNA})})})},{groupName:K.PHOSPHATES,iconName:"phosphate",groups:l.filter(function(L){return ca[L.groupTitle]===K.PHOSPHATES})},{groupName:K.NUCLEOTIDES,iconName:"nucleotide",groups:p}],$=function(U,ie){var ve;if(B(We(U)),!g&&!v&&h.events.selectMonomer.dispatch(U),!!v){var te=Se(U)?(ve=U.monomers[0].monomerItem.props.MonomerClass)===null||ve===void 0?void 0:ve.toLowerCase():U.props.MonomerClass.toLowerCase(),V=Vn(Vn({},I),{},W({},te,U));P(V),G(Nc({groupName:ie,groupItem:U})),G(Ut(ie))}};S.useEffect(function(){x(s)},[s]),S.useEffect(function(){G(Ut(v&&u?s:Ie.Presets))},[v]);var q=function(){G(Vo()),G(Ut(Ie.Presets)),G(at(!0))};return f(A4,{"data-testid":"rna-accordion",children:R.map(function(L){var U=C===L.groupName,ie=Ho(o,L.groupName),ve=[].concat(ge(L.groups),ge(ie)).reduce(function(z,F){return z+F.groupItems.length||0},0),te=f(P4,{iconName:L.iconName,groupName:L.groupName,quantity:ve,expanded:U}),V=L.groupName===Ie.Presets?E(Ps,{children:[f(Gc,{onClick:function(){return q()},children:"New Preset"}),f(Uc,{duplicatePreset:r,editPreset:a,presets:c}),v&&!m&&f(I4,{})]}):f(Ps,{children:E(ee,{children:[L.groups.map(function(z){var F=z.groupItems,ce=z.groupTitle;return f(br,{title:L.groups.length>1?ce:void 0,groupName:L.groupName,items:F,selectedMonomerUniqueKey:O,onItemClick:function(Ne){return $(Ne,L.groupName)}},ce)}),ie.map(function(z){return f(br,{title:z.groupTitle,items:z.groupItems,libraryName:n,selectedMonomerUniqueKey:O,onItemClick:function(ce){return $(ce,L.groupName)}},z.groupTitle)})]})}),H=L.groupName===Ie.Presets&&U;return H?f(E4,{children:f(Is,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(L.groupName),summary:te,details:V,expanded:U,onSummaryClick:function(){return D(L.groupName)}})},L.groupName):f(Is,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(L.groupName),summary:te,details:V,expanded:U,onSummaryClick:function(){return D(L.groupName)}},L.groupName)})})},O4=w("div",{target:"e1fsx6x2"})({name:"2zz6af",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px"}),T4=w("span",{target:"e1fsx6x1"})(function(e){return{fontSize:e.theme.ketcher.font.size.medium,overflow:"hidden",textOverflow:"ellipsis",color:e.grey?e.theme.ketcher.color.text.lightgrey:e.theme.ketcher.color.text.primary}},""),N4=w("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),j4=function(t){var n=t.name,r=t.fullName;return n||r?f(O4,{children:f(N4,{children:f(T4,{grey:!n&&!r,children:n||r})})}):f(ee,{})},L4=w("div",{target:"e1ie5fzr4"})(function(e){return{height:"40px",position:"relative",marginLeft:e.isEditMode?"30px":"28.5px",display:"flex",alignItems:"center",border:e.isEditMode?"none":"1.5px solid ".concat(e.theme.ketcher.outline.color),backgroundColor:e.selected?e.theme.ketcher.color.button.primary.active:e.isEditMode?e.theme.ketcher.color.background.primary:"transparent",borderRadius:e.theme.ketcher.border.radius.regular,boxShadow:e.isEditMode?e.theme.ketcher.shadow.regular:"none",padding:"5px 10px",color:e.selected?"white":"black",gap:"14px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:e.theme.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:e.theme.ketcher.outline.medium,borderBottom:e.theme.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),D4=w("div",{target:"e1ie5fzr3"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),_4=w("span",{target:"e1ie5fzr2"})(function(e){return{fontSize:e.theme.ketcher.font.size.small}},""),R4=w("span",{target:"e1ie5fzr1"})(function(e){return{marginTop:"1px",fontSize:e.theme.ketcher.font.size.medium,color:e.selected?"white":e.empty?e.theme.ketcher.color.text.lightgrey:e.theme.ketcher.color.text.primary}},""),$4=w(ye,{target:"e1ie5fzr0"})(function(e){return{color:e.empty?"transparent":e.selected?e.theme.ketcher.color.background.primary:e.theme.ketcher.color.icon.grey,stroke:e.selected?e.theme.ketcher.color.background.primary:e.theme.ketcher.color.icon.grey,paddingRight:e.name==="sugar"?"5px":e.name==="phosphate"?"1px":0}},""),F4=W(W(W({},K.SUGARS,"Select sugar"),K.BASES,"Select base"),K.PHOSPHATES,"Select phosphate"),B4=W(W(W({},K.SUGARS,"Sugar"),K.BASES,"Base"),K.PHOSPHATES,"Phosphate"),z4=function(t){var n=t.groupName,r=t.iconName,a=t.monomerName,o=t.selected,i=t.onClick,s=t.testid,u=T(Go);return E(L4,{selected:o,onClick:i,empty:!a,isEditMode:u,"data-testid":s,children:[f($4,{empty:!a,selected:o,name:r}),E(D4,{children:[f(_4,{children:B4[n]}),f(R4,{empty:!a,selected:o,children:a||(o?F4[n]:"Not selected")})]})]})},q4=w("div",{target:"e18wzlbg7"})(function(e){return{display:"flex",flexDirection:"column",padding:"10px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(e.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px"}}},""),H4=w("div",{target:"e18wzlbg6"})({name:"1l5e953",styles:"margin-top:16px;width:100%;display:flex;flex-direction:column;gap:8px"}),U4=w("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),vn=w(Nr,{target:"e18wzlbg4"})(function(e){return{width:"100%",whiteSpace:"nowrap",fontSize:e.theme.ketcher.font.size.regular,backgroundColor:e.primary?e.theme.ketcher.color.button.primary.active:void 0,color:e.primary&&!e.disabled?e.theme.ketcher.color.button.text.primary:e.theme.ketcher.color.text.light,outline:e.primary&&!e.disabled?e.theme.ketcher.outline.selected.small:e.theme.ketcher.outline.grey.small}},""),G4=w("div",{target:"e18wzlbg3"})(function(e){return{position:"relative",borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:e.theme.ketcher.color.background.primary,boxShadow:e.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:e.selected?e.theme.ketcher.outline.selected.medium:"none",":hover":{outline:e.selected?void 0:e.theme.ketcher.outline.small}}},""),W4=w("span",{target:"e18wzlbg2"})(function(e){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:e.selected?e.theme.ketcher.outline.selected.color:e.theme.ketcher.outline.color}},""),K4=w(Fu,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),V4=w("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"}),ha=function(t){return t.size===0?"":t.size===1?ge(t)[0]:"[multiple]"},qa=function(t){if(t!=null&&t.length){for(var n={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},r=0;r<t.length;r++)for(var a=0,o=["sugarLabel","baseLabel","phosphateLabel"];a<o.length;a++){var i,s,u,l=o[a];((i=t[r])!==null&&i!==void 0&&i[l]||!((s=t[r])!==null&&s!==void 0&&s[l])&&t[r].type===nt.Nucleoside&&!t[r].isNucleosideConnectedAndSelectedWithPhosphate)&&n[l].add((u=t[r])===null||u===void 0?void 0:u[l])}return{Sugars:ha(n.sugarLabel),Bases:ha(n.baseLabel),Phosphates:ha(n.phosphateLabel)}}},Y4=function(t){var n=qa(t);return"".concat(n==null?void 0:n.Sugars,"(").concat(n==null?void 0:n.Bases,")").concat((n==null?void 0:n.Phosphates)||"")},Wc=function(t){t(Nc(null)),t(at(!1))},Os=function(t){Wc(t)},xr=function(t,n){Wc(t),t(Wo([])),n.events.turnOffSequenceEditInRNABuilderMode.dispatch(),n.mode instanceof Hu&&n.mode.turnOffEditMode()},wr=function(t){return t.filter(function(n){return n.type?n.type===nt.Nucleotide||n.type===nt.Nucleoside:n.node?n.node instanceof In||n.node instanceof Pn:!1}).length};function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ts(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Z4=function(t){var n=t.isEditMode,r=t.onDuplicate,a=[{groupName:K.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:K.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:K.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],o=Tr(),i=T(Gr),s=T(Pc),u=T(Ac),l=T(se),c=T(Wr),d=T(j5),p=S.useState(i),v=j(p,2),h=v[0],m=v[1],g=T(Ec),b=T(T5),y=T(Qe),C=S.useState(!1),x=j(C,2),M=x[0],A=x[1],I=S.useState(qa(g)),P=j(I,2),k=P[0],N=P[1],O=cn()===Kt.sequence,B=function(){if(d){var H=En[d.groupName],z=ut(ut({},h),{},W({},H,d.groupItem));return m(z),z}return h};S.useEffect(function(){m(i)},[i]),S.useEffect(function(){g&&(wr(g)===1&&o(Tc(Y4(g))),N(qa(g)))},[o,g]),S.useEffect(function(){if(u!==Ie.Presets&&n)if(y&&d){var V=En[d.groupName],H="".concat(V,"Label"),z=g.map(function(we){var Ne,dn=H==="baseLabel"&&(Ne=d.groupItem.props)!==null&&Ne!==void 0&&Ne.MonomerNaturalAnalogCode?d.groupItem.props.MonomerNaturalAnalogCode:d.groupItem.label;return we.isNucleosideConnectedAndSelectedWithPhosphate&&H==="phosphateLabel"||we.type===nt.Phosphate&&(H==="sugarLabel"||H==="baseLabel")?we:ut(ut({},we),{},W({},H,dn))});A(!0),o(Wo(z))}else{var F=B(),ce=h==null?void 0:h.name;F.editedName||(ce=Ic(F)),m(ut(ut({},F),{},{name:ce}))}},[d==null?void 0:d.groupItem,y]);var G=function(H){if(H===Ie.Presets){Ha(h==null?void 0:h.name),h&&l.events.selectPreset.dispatch(h);return}var z=h[En[H]];z&&tA(We(z))},D=function(H){return function(){var z=da(h,H);z&&!O&&l.events.selectMonomer.dispatch(z),G(H),o(Ut(H)),o(Ko({rnaPreset:h,isEditMode:n}))}},R=function(H){if(n){var z=H.target.value;m(ut(ut({},h),{},{name:z.trim(),editedName:!0}))}},$=function(){wr(g)>1?o(Ht("updateSequenceInRNABuilder")):(l.events.modifySequenceInRnaBuilder.dispatch(g),xr(o,l))},q=function(){if(h!=null&&h.name){var H=c.find(function(z){return z.name===h.name});if(H&&i.nameInList!==H.name){o(Yo(h.name));return}o($5(h)),o(Dn(h)),O||l.events.selectPreset.dispatch(h),setTimeout(function(){Ha(h.name)},0),Os(o)}},L=function(){y?xr(o,l):(m(i),Os(o))},U=function(){o(at(!0))},ie=function(H){var z,F;return d&&d.groupName===H?d.groupItem.label:((z=da(h,H))===null||z===void 0?void 0:z.label)||((F=da(h,H))===null||F===void 0?void 0:F.props.MonomerName)},ve=function(H){return k?k[H]:""};S.useEffect(function(){var V=function(z){z.key==="Escape"?(L(),z.preventDefault(),z.stopPropagation()):z.key==="Enter"&&(y?$():q(),z.preventDefault(),z.stopPropagation())};return l==null||l.events.keyDown.add(V),function(){l==null||l.events.keyDown.remove(V)}},[l,g]);var te;return s&&!y?te=f(vn,{disabled:!ys(h),primary:!0,"data-testid":"add-to-presets-btn",onClick:q,children:"Add to Presets"}):n?te=f(vn,{primary:!0,disabled:y?!M:!1,"data-testid":"save-btn",onClick:y?$:q,children:y?"Update":"Save"}):te=f(vn,{"data-testid":"edit-btn",onClick:U,disabled:i.default,children:"Edit"}),E(q4,{"data-testid":"rna-editor-expanded",className:y?"rna-editor-expanded--sequence-edit-mode":"",children:[E(G4,{selected:u===Ie.Presets,onClick:function(){return D(Ie.Presets)},children:[n?f(K4,{value:y?b:h==null?void 0:h.name,placeholder:"Name your structure",disabled:y,onChange:R}):f(V4,{children:h==null?void 0:h.name}),f(W4,{selected:u===Ie.Presets})]}),f(H4,{children:a.map(function(V){var H=V.groupName,z=V.iconName,F=V.testId;return f(z4,{selected:u===H,groupName:H,monomerName:y?ve(H):ie(H),iconName:z,testid:F,onClick:D(H)},H)})}),E(U4,{children:[n?f(vn,{"data-testid":"cancel-btn",onClick:L,children:"Cancel"}):f(vn,{"data-testid":"duplicate-btn",disabled:!ys(h),onClick:function(){return r(h)},children:"Duplicate and Edit"}),te]})]})},Q4=w("div",{target:"e1ms1w5g3"})(function(e){return{borderRadius:e.theme.ketcher.border.radius.regular,backgroundColor:"#F7F9FA",boxShadow:e.theme.ketcher.shadow.regular,overflow:"hidden",margin:"12px",flexShrink:0}},""),X4=w("div",{target:"e1ms1w5g2"})(function(e){return{height:"32px",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"10px",fontSize:e.theme.ketcher.font.size.regular,"&.styled-header--sequence-edit-mode":{backgroundColor:e.theme.ketcher.color.editMode.sequenceInRNABuilder}}},""),J4=w(Nr,{target:"e1ms1w5g1"})({name:"nqk7pj",styles:"background:transparent;width:32px;height:100%;outline:none;border-radius:0;padding:0"}),eA=w(ye,{target:"e1ms1w5g0"})("height:16px;width:16px;",function(e){var t=e.expanded;return{transform:t?"rotate(180deg)":"none"}},""),Kc=function(t){var n=document.body.querySelector(t);n==null||n.scrollIntoView({behavior:"smooth"})},Ha=function(t){Kc('[data-rna-preset-item-name="'.concat(t,'"]'))},tA=function(t){Kc('[data-monomer-item-id="'.concat(t,'"]'))},nA=function(t){var n=t.duplicatePreset,r=T(Gr),a=T(Go),o=T(Qe),i=Ic(r),s=le(),u=S.useState(!1),l=j(u,2),c=l[0],d=l[1];S.useEffect(function(){if(r){(r.name||a)&&d(!0);return}s(Vo()),s(Ut(Ie.Presets))},[r]),S.useEffect(function(){s(Ko({rnaPreset:r,isEditMode:a}))},[a]);var p=function(){d(!c),r!=null&&r.nameInList||s(at(!0))};return E(Q4,{"data-testid":"rna-editor",children:[E(X4,{className:o?"styled-header--sequence-edit-mode":"",children:["RNA Builder",f(J4,{onClick:p,"data-testid":"rna-builder-expand-button",children:f(eA,{expanded:c,name:"chevron"})})]}),r?c?f(Z4,{isEditMode:a,onDuplicate:n}):f(j4,{name:r.name,fullName:i}):f(ee,{})]})},rA=w("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),Vc=function(t){var n=t.ketcher;return $u("scrollbar-width:thin;scrollbar-color:",n.color.scroll.regular," ",n.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",n.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",n.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",n.color.scroll.regular,";}","")},aA={expandButton:"Modal-module_expandButton__J1QYl"};function Ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ns(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var iA=w(Ap,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),sA=w(zp,{target:"e45wfhi4"})(function(e){var t=e.theme;return{padding:"2px 4px 2px 12px;",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(t.ketcher.font.family.inter),fontSize:"".concat(t.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:"1px solid rgba(202, 211, 221, 1)"}},""),uA=w("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),js=w(ye,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),Yc=w(Rp,{target:"e45wfhi1"})("padding:0;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(e){var t=e.theme;return Vc(t)},";"),Zc=w(Op,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(e){var t=e.theme,n=e.withborder;return n==="true"?t.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";}"),Q=function(t){var n=t.children,r=t.title,a=t.isOpen,o=t.showCloseButton,i=o===void 0?!0:o,s=t.showExpandButton,u=s===void 0?!1:s,l=t.onClose,c=t.className,d=t.modalWidth,p=t.expanded,v=p===void 0?!1:p,h=t.setExpanded,m=h===void 0?vt:h,g=Nf(),b=S.useMemo(function(){return{style:oA({background:g.ketcher.color.background.primary,borderRadius:"8px",color:g.ketcher.color.text.primary},u&&{margin:"auto",width:v?"100%":d,height:v?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})}},[g.ketcher.color.text.primary,g.ketcher.color.background.canvas,v]),y=S.useMemo(function(){return{style:{background:g.ketcher.color.background.overlay,opacity:.4}}},[g.ketcher.color.background.overlay]),C={Content:null,Footer:null};return bt.Children.forEach(n,function(x){x.type===Yc?C.Content=x:x.type===Zc&&(C.Footer=x)}),E(iA,{BackdropProps:y,PaperProps:b,open:a,onClose:l,container:document.querySelector(Lt),disableEscapeKeyDown:!i,className:c,sx:{padding:"24px"},children:[r||i||u?E(sA,{children:[f(uA,{children:r}),E("span",{children:[u&&f(ci,{title:"expand window",className:aA.expandButton,onClick:function(){m(!v)},children:f(js,{name:v?"minimize-expansion":"expand"})}),i&&f(ci,{title:"Close window",onClick:l,children:f(js,{name:"close"})})]})]}):"",C.Content,C.Footer]})};Q.Content=Yc;Q.Footer=Zc;var lA=function(t){var n=t.libraryName,r=t.duplicatePreset,a=t.editPreset,o=le(),i=T(L5),s=T(D5),u=function(){i.length>0&&o(Yo("")),s.length>0&&o(jc(""))};return E(rA,{children:[f(nA,{duplicatePreset:r}),f(k4,{libraryName:n,duplicatePreset:r,editPreset:a}),E(Q,{isOpen:!!i||!!s,title:"Error Message",onClose:u,children:[f(Q.Content,{children:E("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),s&&'Preset with name "'.concat(s,`" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.`)]})}),f(Q.Footer,{children:f(Gc,{onClick:u,children:"Close"})})]})]})},cA=function(t,n){return[{caption:"Favorites",component:pa,testId:"FAVORITES-TAB",props:{libraryName:mc,duplicatePreset:t,editPreset:n}},{caption:"Peptides",component:pa,testId:"PEPTIDES-TAB",props:{libraryName:An.PEPTIDE}},{caption:"RNA",testId:"RNA-TAB",component:lA,props:{libraryName:An.RNA,duplicatePreset:t,editPreset:n}},{caption:"CHEM",component:pa,testId:"CHEM-TAB",props:{libraryName:An.CHEM}}]};function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ls(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _s="_Copy",dA=function(){var t=S.useRef([]),n=le();S.useEffect(function(){n(hs(""))},[n]),T(Wr,function(i){return t.current=i,!0});var r=function(s){n(hs(s.target.value))},a=function(s){var u="".concat(s==null?void 0:s.name).concat(_s),l;do l=t.current.find(function(p){return p.name===u}),l&&(u+=_s);while(l);if(l){n(Yo(u));return}var c=l?"".concat(u,"_Copy"):u,d=Ds(Ds({},s),{},{name:c,nameInList:c,default:!1,favorite:!1});n(Dn(d)),n(at(!0)),Ha(s==null?void 0:s.name)},o=function(s){n(Dn(s)),n(at(!0))};return E(X5,{"data-testid":"monomer-library",children:[E(e4,{children:[f(J5,{children:"Library"}),f(t4,{children:E("div",{children:[f("span",{children:f(ye,{name:"search"})}),f(Q5,{type:"search","data-testid":"monomer-library-input",onChange:r,placeholder:"Search by name..."})]})})]}),f(c4,{tabs:cA(a,o)})]})},fA=w("div",{target:"emj253a0"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.regular,color:t.ketcher.color.text.secondary,position:"absolute",cursor:"pointer",top:"calc(8px + 12px)",right:"calc(4px + 12px)",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",lineHeight:1,padding:"5px 8px",borderRadius:"4px",userSelect:"none","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}},"&.hidden":{backgroundColor:t.ketcher.color.button.primary.active,color:t.ketcher.color.button.text.primary}}},""),pA=function(t){var n=t.isHidden,r=t.onClick;return E(fA,{className:n?"hidden":"",onClick:r,children:[f("span",{className:"icon",children:n?f(ye,{name:"arrows-left"}):f(ye,{name:"arrows-right"})}),f("span",{children:n?"Show Library":"Hide"})]})},hA=w("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(e){var t=e.theme;return t.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),Vr=function(){return E(hA,{className:"loading-spinner",children:[f("span",{}),f("span",{}),f("span",{})]})},vA="file-thumbnail",mA=w("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),gA=w("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),yA=function(t){var n=t.fileName;return E(mA,{children:[n&&E(gA,{children:[f(ye,{name:vA}),f("p",{children:n})]}),f(Vr,{})]})},bA=["textLabel","iconName","disabled","disabledText"];function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rs(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xA={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},wA=w(ye,{target:"erk2iw51"})("filter:",function(e){var t=e.disabled;return t?"grayscale(1)":""},";opacity:",function(e){var t=e.disabled;return t?"0.6":"1"},";"),CA={backgroundColor:"#F8FEFFFF"},SA=w("div",{target:"erk2iw50"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(e){var t=e.theme;return t.ketcher.font.size.small},";color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),$s=function(t){var n=t.textLabel,r=t.iconName,a=t.disabled,o=t.disabledText,i=uo(t,bA),s=ep(Ft({multiple:!1,noClick:!0,disabled:a},i)),u=s.getRootProps,l=s.getInputProps,c=s.isDragActive,d=s.open,p=S.useMemo(function(){return Ft(Ft({},xA),c?CA:{})},[c]);return E("div",Ft(Ft({},u({style:p})),{},{onClick:d,children:[f("input",Ft({},l())),f(wA,{name:r,disabled:a}),a?f(MA,{children:o}):E(ee,{children:[f(SA,{children:n&&f("span",{children:n})}),f(Qc,{children:"Open from file"})]})]}))},va={PASTE:"open-window-paste-icon",FILE:"open-window-upload-icon",IMAGE:"image-frame"},Qc=w("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),MA=w("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(e){var t=e.theme;return t.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),AA=w("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),ma=w("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(e){var t=e.theme;return t.ketcher.color.button.primary.active},";}"),EA=function(t){var n=t.selectClipboard,r=t.fileLoadHandler,a=t.errorHandler;return E(AA,{children:[E(ma,{"data-testid":"paste-from-clipboard-button",onClick:n,children:[f(ye,{name:va.PASTE}),f(Qc,{children:"Paste from clipboard"})]}),f(ma,{children:f($s,{onDropAccepted:r,onDropRejected:function(i){return a("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:va.FILE})}),f(ma,{children:f($s,{accept:"image/*",onDropAccepted:r,onDropRejected:function(i){return a("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:va.IMAGE,disabled:!0,disabledText:"Image Recognition service is not available"})})]})},IA=w("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(e){var t=e.theme;return t.ketcher.color.input.text.active},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";background-color:",function(e){var t=e.theme,n=e.readOnly;return n?t.ketcher.color.input.background.disabled:t.ketcher.color.input.background.primary},";",function(e){var t=e.theme;return Vc(t)},";"),Xc=function(t){var n=t.value,r=t.inputHandler,a=t.readonly,o=a===void 0?!1:a,i=t.selectOnInit,s=i===void 0?!1:i,u=t.className,l=t.testId,c=S.useRef(null);return S.useEffect(function(){if(s){var d;(d=c.current)===null||d===void 0||d.select()}},[c,n,s]),f(IA,{value:n,readOnly:o,onChange:r&&function(d){return r(d.target.value)},ref:c,className:u,"data-testid":l})};function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fs(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PA=w(Xc,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),kA=function(t){if(t.isAnalyzingFile)return f(yA,{fileName:t.fileName});switch(t.currentState){case t.states.openOptions:return f(EA,Bs({},t));case t.states.textEditor:return f(PA,Bs({testId:"open-structure-textarea"},t));default:return null}},OA=["label","clickHandler","children","styleType"];function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zs(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Jc={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},TA=w(zu,{target:"ejign8b1"})(function(e){var t=e.theme;return{backgroundColor:t.ketcher.color.button.primary.active,border:"1px solid ".concat(t.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:t.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:t.ketcher.color.button.primary.hover},"&:disabled":{background:t.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},Jc,""),NA=w(zu,{target:"ejign8b0"})(function(e){var t=e.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(t.ketcher.color.button.secondary.active),color:t.ketcher.color.button.secondary.active,fontWeight:t.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(t.ketcher.color.button.secondary.hover),color:t.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(t.ketcher.color.button.secondary.disabled),color:t.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(t.ketcher.color.button.secondary.clicked),color:t.ketcher.color.button.secondary.clicked}}},Jc,""),Oe=function(t){var n=t.label,r=t.clickHandler,a=t.children,o=t.styleType,i=uo(t,OA);return o==="secondary"?f(NA,Yn(Yn({onClick:r,title:i.title||n,role:"button"},i),{},{children:a||n})):f(TA,Yn(Yn({onClick:r,title:i.title||n,role:"button"},i),{},{children:a||n}))};function jA(){return new Promise(function(e,t){Ma.FileReader?e(LA):t(new Error("Your browser does not support opening files locally"))})}function LA(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){var a=r.result;e.msClose&&e.msClose(),t(a)},r.onerror=function(a){n(a)},r.readAsText(e,"UTF-8")})}var DA=w("div",{target:"efvrr8x1"})("position:relative;padding:",function(e){var t=e.currentState;return t===ct.openOptions?"10px 12px":"0"},";");w(Oe,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"});w(ye,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var _A=w(ye,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),RA=function(t){var n=t.className;return f(_A,{name:"chevron",className:n})};function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qs(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $A=w(Wp,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),FA={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},BA=w(bf,{target:"e944g1i1"})("height:24px;border:1px solid #5b6077;border-radius:4px;font-size:14px;",function(e){var t=e.open;return t&&FA}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;}& span{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),zA={width:"120px",backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},qA=w(xf,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:14px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(e){var t=e.theme;return"font-size: ".concat(t.ketcher.font.size.medium)},";}"),HA=function(t){var n=t.options,r=t.currentSelection,a=t.selectionHandler,o=t.className,i=t.label,s=t.testId,u=t.customStylesForExpanded,l=u===void 0?{}:u,c=t.disabled,d=c===void 0?!1:c,p=S.useState(!1),v=j(p,2),h=v[0],m=v[1],g=function(M){var A=n.filter(function(I){return I.id===M})[0];return f("span",{children:A.label})},b=function(M){a(M.target.value)},y=function(M){M.type!=="keydown"&&m(!0)},C=function(){m(!1)};return E($A,{className:o,children:[i&&f("label",{htmlFor:"fileformat",children:"File format:"}),f(BA,{value:r,onChange:b,open:h,onOpen:y,onClose:C,renderValue:g,IconComponent:RA,disabled:d,fullWidth:!0,"data-testid":s||"dropdown-select",MenuProps:{PaperProps:{style:Hs(Hs({},zA),l)},MenuListProps:{style:{padding:"0"}}},children:n.map(function(x){return f(qA,{value:x.id,children:f(Zp,{primary:x.label})},x.id)})})]})},UA=w("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),GA=w("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),ed=w(HA,{target:"el6v3ot3"})(function(e){var t=e.theme;return{width:"calc(50% - 6px)",height:"28px","& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(t.ketcher.color.input.border.regular),backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary,fontFamily:t.ketcher.font.family.inter}}},""),Ua={border:"none"},td=w("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),WA=w("div",{target:"el6v3ot1"})(function(e){var t=e.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(t.ketcher.color.input.border.regular)}},""),KA=w("div",{target:"el6v3ot0"})(function(e){var t=e.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:t.ketcher.color.background.primary,color:t.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),VA=w(Q,{target:"e1oaegu38"})(function(e){var t=e.modalWidth;return`
    .MuiPaper-root {
      width: `.concat(t,`;
      max-width: `).concat(t,`;
    }`)},""),YA=w("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),ZA=w("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),Zo=w(ed,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),QA=w(Zo,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),XA=w(Zo,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),JA=w(Zo,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),e2=w("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),Us=w(Oe,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),Ga="ket",ar="seq",Wa="rna",nd="peptide",rd="fasta",ad="one-letter",Ka="three-letter",Gs=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"helm",label:"HELM"}],t2=[{id:Wa,label:"RNA"},{id:"dna",label:"DNA"},{id:nd,label:"Peptide"}],n2=[{id:ad,label:"1-letter code"},{id:Ka,label:"3-letter code"}],ga=wf,ct={openOptions:"openOptions",textEditor:"textEditor"},Ws=function(t){var n=t.ketSerializer,r=t.editor,a=t.struct,o=!r.drawingEntitiesManager.hasDrawingEntities,i=n.deserializeToDrawingEntities(a);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var s=i.drawingEntitiesManager.mergeInto(r.drawingEntitiesManager),u=s.command,l=new qu(r),c=r.mode instanceof Hu,d=r.mode instanceof Cf,p=r.mode instanceof Sf;p&&(r.drawingEntitiesManager.recalculateAntisenseChains(),r.drawingEntitiesManager.hasAntisenseChains&&(u.merge(r.drawingEntitiesManager.applySnakeLayout(r.canvas.width.baseVal.value,!0,!0,!0)),u.setUndoOperationsByPriority())),r.drawingEntitiesManager.detectBondsOverlappedByMonomers(),r.renderersContainer.update(u),l.update(u),c&&(u.setUndoOperationReverse(),r.events.selectMode.dispatch({mode:Kt.sequence,mergeWithLatestHistoryCommand:!0})),d&&(u.setUndoOperationReverse(),r.events.selectMode.dispatch({mode:Kt.snake,mergeWithLatestHistoryCommand:!0})),o&&r.zoomToStructuresIfNeeded()},Ks=function(){var e=Du(Ge.mark(function t(n){var r,a,o,i,s,u,l,c,d,p,v,h,m,g,b,y,C,x;return Ge.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(r=n.struct,a=n.formatSelection,o=n.additionalSelection,i=n.peptideLettersFormatSelection,s=n.onCloseCallback,u=n.setIsLoading,l=n.dispatch,c=a===Ga,d=a===ar,p=a===rd,v=new Aa,h=Or.provideEditorInstance(),g=r,b=function(P){var k="Convert error! "+P;l(Ln({errorMessage:k,errorTitle:d||p?"Unsupported symbols":""}))},!c){A.next=13;break}try{Ws({struct:r,ketSerializer:v,editor:h}),s()}catch{b("Error during file parsing.")}return A.abrupt("return");case 13:p||d&&i!==Ka?(m=ga[a][o],g=g.toUpperCase()):d&&i===Ka?m=ga.seq.peptide3Letter:m=ga[a];case 14:return y=_u.getIndigo(),A.prev=15,u(!0),A.next=19,y.convert({struct:g,output_format:At.KET,input_format:m});case 19:C=A.sent,Ws({struct:C.struct,ketSerializer:v,editor:h}),s(),A.next=29;break;case 24:A.prev=24,A.t0=A.catch(15),x=typeof A.t0=="string"?A.t0:JSON.stringify(A.t0),b(x),ur.error(A.t0);case 29:return A.prev=29,u(!1),A.finish(29);case 32:case"end":return A.stop()}},t,null,[[15,24,29,32]])}));return function(n){return e.apply(this,arguments)}}(),r2=!1,Vs=function(t){},a2=function(t){var n=t.isModalOpen,r=t.onClose,a=le(),o=S.useState(""),i=j(o,2),s=i[0],u=i[1],l=S.useState(""),c=j(l,2),d=c[0],p=c[1],v=S.useState(!1),h=j(v,2),m=h[0],g=h[1],b=S.useState(),y=j(b,2),C=y[0],x=y[1],M=S.useState(ct.openOptions),A=j(M,2),I=A[0],P=A[1],k=S.useState(Ga),N=j(k,2),O=N[0],B=N[1],G=S.useState(Wa),D=j(G,2),R=D[0],$=D[1],q=S.useState(ad),L=j(q,2),U=L[0],ie=L[1];S.useEffect(function(){var F=d==null?void 0:d.split("."),ce=F[F.length-1];if(ce){var we=Gs.find(function(dn){return dn.id===ce}),Ne=we!=null&&we.id?we.id:ar;B(Ne)}},[d]),S.useEffect(function(){jA().then(function(F){x({chosenOpener:F})})},[]);var ve=S.useCallback(function(){P(ct.openOptions),u(""),B(Ga),$(Wa),r()},[r]),te=function(ce){var we=function(zd){u(zd),P(ct.textEditor)},Ne=function(){return Vs()};p(ce[0].name),C==null||C.chosenOpener(ce[0]).then(we,Ne)},V=function(){Ks({struct:s,formatSelection:O,additionalSelection:R,peptideLettersFormatSelection:U,onCloseCallback:ve,setIsLoading:g,dispatch:a})},H=function(){var ce=Or.provideEditorInstance(),we=new qu(ce),Ne=ce.drawingEntitiesManager.deleteAllEntities();we.update(Ne),ce.renderersContainer.update(Ne),ce.zoomToStructuresIfNeeded(),Ks({struct:s,formatSelection:O,additionalSelection:R,peptideLettersFormatSelection:U,onCloseCallback:ve,setIsLoading:g,dispatch:a})},z=function(){return E(YA,{children:[E(ZA,{children:[f(QA,{options:Gs,currentSelection:O,selectionHandler:B,customStylesForExpanded:Ua},O),O===ar||O===rd?f(XA,{options:t2,currentSelection:R,selectionHandler:$,customStylesForExpanded:Ua,testId:"dropdown-select-type"},R):null,O===ar&&R===nd?f(JA,{options:n2,currentSelection:U,selectionHandler:ie,testId:"dropdown-select-peptide-letters-format"}):null]}),E(e2,{children:[f(Us,{disabled:!s,clickHandler:H,label:"Open as New",styleType:"secondary"},"openButton"),f(Us,{disabled:!s,clickHandler:V,label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})};return E(VA,{isOpen:n,title:"Open Structure",onClose:ve,modalWidth:I===ct.textEditor?"620px":"",children:[f(Q.Content,{children:E(DA,{currentState:I,children:[f(kA,{isAnalyzingFile:r2,fileName:d,currentState:I,states:ct,selectClipboard:function(){return P(ct.textEditor)},fileLoadHandler:te,errorHandler:Vs,value:s,inputHandler:u}),m&&f(td,{children:f(Vr,{})})]})}),I===ct.textEditor?f(Q.Footer,{withborder:"true",children:z()}):f(ee,{})]})},o2=["value","id","onChange","label"];function Ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ys(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var s2=w("label",{target:"e10m4n7r1"})(function(e){var t=e.theme;return{display:"flex",flexDirection:"column",marginRight:"8px",color:t.ketcher.color.text.primary,fontSize:"12px"}},""),u2=w("input",{target:"e10m4n7r0"})(function(e){var t=e.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(t.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:t.ketcher.color.input.background.primary,color:t.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:t.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(t.ketcher.color.input.border.hover)}}},""),l2=function(t){var n=t.value,r=t.id,a=t.onChange,o=t.label,i=uo(t,o2),s=function(l){a(l.target.value)};return f(ee,{children:E(s2,{htmlFor:r,children:[o&&f("span",{children:o}),f(u2,i2({type:"text",id:r,value:n,onChange:s},i))]})})},Be;(function(e){e.Ket="chemical/x-ket",e.Mol="chemical/x-mdl-molfile",e.HELM="chemincal/x-helm",e.Fasta="chemical/x-fasta",e.Sequence="chemical/x-sequence",e.Idt="chemical/x-idt",e.Svg="image/svg+xml"})(Be||(Be={}));var lt=Lu(function e(t,n,r,a,o){Ru(this,e),this.name=t,this.mime=n,this.extensions=r,this.supportsCoords=a||!1,this.options=o||{}}),c2={ket:new lt("Ket file",Be.Ket,[".ket"],!0,{}),mol:new lt("MDL Molfile V3000",Be.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new lt("FASTA",Be.Fasta,[".fasta"],!1,{}),sequence:new lt("SEQUENCE",Be.Sequence,[".seq"],!1,{}),"sequence-3-letter":new lt("SEQUENCE (3-letter code)",Be.Sequence,[".seq"],!1,{}),idt:new lt("IDT",Be.Idt,[".idt"],!1,{}),helm:new lt("HELM",Be.HELM,[".helm"]),svg:new lt("SVG Document",Be.Svg,[".svg"])},Zs=function(t){return c2[t]},d2=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],f2={mol:At.Mol,fasta:At.FASTA,sequence:At.SEQUENCE,"sequence-3-letter":At.PeptideSequenceThreeLetter,idt:At.IDT,helm:At.HELM},p2=w(Q,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),h2=function(t){var n=t.onClose,r=t.isModalOpen,a=le(),o=S.useState("ket"),i=j(o,2),s=i[0],u=i[1],l=S.useState("ketcher"),c=j(l,2),d=c[0],p=c[1],v=S.useState(""),h=j(v,2),m=h[0],g=h[1],b=S.useState(!1),y=j(b,2),C=y[0],x=y[1],M=S.useState(),A=j(M,2),I=A[0],P=A[1],k=_u.getIndigo(),N=Or.provideEditorInstance(),O=function(){var R=Du(Ge.mark(function $(q){var L,U,ie,ve,te,V,H;return Ge.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(u(q),L=new Aa,U=L.serialize(N.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),N.drawingEntitiesManager),P(void 0),q!=="ket"){F.next=7;break}return g(U),F.abrupt("return");case 7:if(q!=="svg"){F.next=11;break}return ie=fi(N.canvas,"preview"),P(ie),F.abrupt("return");case 11:if(F.prev=11,x(!0),!(q==="fasta"||q==="sequence")){F.next=17;break}if(ve=N.drawingEntitiesManager.validateIfApplicableForFasta(),ve){F.next=17;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 17:return F.next=19,k.convert({struct:U,output_format:f2[q]});case 19:te=F.sent,g(te.struct),F.next=30;break;case 23:F.prev=23,F.t0=F.catch(11),F.t0 instanceof Error?V=F.t0.message:V=typeof F.t0=="string"?F.t0:JSON.stringify(F.t0),H="Convert error! "+V,a(Ln(H)),ur.error(H),u("ket");case 30:return F.prev=30,x(!1),F.finish(30);case 33:case"end":return F.stop()}},$,null,[[11,23,30,33]])}));return function(q){return R.apply(this,arguments)}}(),B=function($){p($)},G=function(){var $;if(s==="svg"){var q=fi(N.canvas,"file");if(!q){n();return}$=q}else $=m;var L=new Blob([$],{type:Zs(s).mime}),U=Zs(s);Qf.saveAs(L,"".concat(d).concat(U.extensions[0])),n()},D=function($){$.preventDefault();try{Xf()?navigator.clipboard.writeText(m):Jf($.clipboardData,{"text/plain":m})}catch(q){ur.error("copyAs.js::copyAs",q),a(Ln("This feature is not available in your browser"))}};return S.useEffect(function(){if(s==="ket"){var R=new Aa,$=R.serialize(N.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),N.drawingEntitiesManager);g($)}},[s]),E(p2,{title:"save structure",isOpen:r,onClose:n,children:[f(Q.Content,{children:E(UA,{onSubmit:G,id:"save",children:[E(GA,{style:{padding:"12px 12px 10px"},children:[f("div",{children:f(l2,{value:d,id:"filename",onChange:B,label:"File name:"})}),f(ed,{label:"File format:",options:d2,currentSelection:s,selectionHandler:O,customStylesForExpanded:Ua})]}),I?f(WA,{dangerouslySetInnerHTML:{__html:I}}):E(KA,{children:[f(Xc,{testId:"preview-area-text",value:m,readonly:!0}),f(jr,{onClick:D,iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),C&&f(td,{children:f(Vr,{})})]})]})}),E(Q.Footer,{children:[f(Oe,{label:"Cancel",styleType:"secondary",clickHandler:n}),f(Oe,{label:"Save",clickHandler:G,disabled:!d})]})]})},Qs=w(Oe,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),v2=w("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),m2=function(t){var n=t.isModalOpen,r=t.onClose,a=le(),o=T(kc),i=T(se),s=S.useCallback(function(){r()},[r]),u=function(){s()},l=function(){s(),a(F5(o)),a(at(!1)),a(Vo()),i.events.selectPreset.dispatch(null)};return E(Q,{isOpen:n,title:"Delete RNA Preset",onClose:s,children:[f(Q.Content,{children:E(v2,{"data-testid":"delete-preset-popup-content",children:[f("div",{children:"You are about to delete"}),E("div",{children:['"',o.name,'" RNA preset.']}),f("div",{children:"This operation cannot be undone."})]})}),E(Q.Footer,{children:[f(Qs,{clickHandler:u,label:"Cancel",styleType:"secondary"},"cancel"),f(Qs,{clickHandler:l,label:"Delete"},"delete")]})]})},g2=w("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),y2=function(t){var n=t.isModalOpen,r=t.onClose,a=le(),o=T(Ec),i=T(se),s=wr(o),u=S.useCallback(function(){r()},[r]),l=function(){xr(a,i)},c=function(){u()},d=function(){u(),i.events.modifySequenceInRnaBuilder.dispatch(o),l()};return E(Q,{isOpen:n,title:"Update sequence",onClose:u,children:[f(Q.Content,{children:E(g2,{children:["You are going to modify ",s," nucleotides. Are you sure?"]})}),E(Q.Footer,{children:[f(Oe,{clickHandler:c,label:"Cancel",styleType:"secondary"},"cancel"),f(Oe,{clickHandler:d,label:"Yes"},"update")]})]})},b2=w("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),x2=w("span",{target:"e1tvvbc91"})(function(e){return{margin:0,padding:0,textAlign:"center",display:"block",font:e.theme.ketcher.font.family.inter,fontSize:e.theme.ketcher.font.size.small,fontWeight:e.theme.ketcher.font.weight.regular,color:e.disabled?"rgba(180, 185, 214, 1)":e.theme.ketcher.color.text.light}},""),w2=w("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),od=function(t){return t==="O"?"OH":t},C2=w(Uu,{target:"e1huhxto1"})(function(e){var t=e.theme,n=e.isExpanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:n?"auto":"150px",width:n?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),S2=w("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),M2=w("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),id=function(){return E(M2,{children:[f(ye,{name:"questionMark"}),"Unknown structure"]})},A2={value:()=>{}};function sd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new or(n)}function or(e){this._=e}function E2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}or.prototype=sd.prototype={constructor:or,on:function(e,t){var n=this._,r=E2(e+"",n),a,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((a=(e=r[o]).type)&&(a=I2(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=r[o]).type)n[a]=Xs(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Xs(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new or(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function I2(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Xs(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=A2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Va="http://www.w3.org/1999/xhtml",Js={svg:"http://www.w3.org/2000/svg",xhtml:Va,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Js.hasOwnProperty(t)?{space:Js[t],local:e}:e}function P2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Va&&t.documentElement.namespaceURI===Va?t.createElement(e):t.createElementNS(n,e)}}function k2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ud(e){var t=Yr(e);return(t.local?k2:P2)(t)}function O2(){}function Qo(e){return e==null?O2:function(){return this.querySelector(e)}}function T2(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=new Array(i),u,l,c=0;c<i;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Te(r,this._parents)}function N2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function j2(){return[]}function ld(e){return e==null?j2:function(){return this.querySelectorAll(e)}}function L2(e){return function(){return N2(e.apply(this,arguments))}}function D2(e){typeof e=="function"?e=L2(e):e=ld(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i=t[o],s=i.length,u,l=0;l<s;++l)(u=i[l])&&(r.push(e.call(u,u.__data__,l,i)),a.push(u));return new Te(r,a)}function cd(e){return function(){return this.matches(e)}}function dd(e){return function(t){return t.matches(e)}}var _2=Array.prototype.find;function R2(e){return function(){return _2.call(this.children,e)}}function $2(){return this.firstElementChild}function F2(e){return this.select(e==null?$2:R2(typeof e=="function"?e:dd(e)))}var B2=Array.prototype.filter;function z2(){return Array.from(this.children)}function q2(e){return function(){return B2.call(this.children,e)}}function H2(e){return this.selectAll(e==null?z2:q2(typeof e=="function"?e:dd(e)))}function U2(e){typeof e!="function"&&(e=cd(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=[],u,l=0;l<i;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Te(r,this._parents)}function fd(e){return new Array(e.length)}function G2(){return new Te(this._enter||this._groups.map(fd),this._parents)}function Cr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cr.prototype={constructor:Cr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function W2(e){return function(){return e}}function K2(e,t,n,r,a,o){for(var i=0,s,u=t.length,l=o.length;i<l;++i)(s=t[i])?(s.__data__=o[i],r[i]=s):n[i]=new Cr(e,o[i]);for(;i<u;++i)(s=t[i])&&(a[i]=s)}function V2(e,t,n,r,a,o,i){var s,u,l=new Map,c=t.length,d=o.length,p=new Array(c),v;for(s=0;s<c;++s)(u=t[s])&&(p[s]=v=i.call(u,u.__data__,s,t)+"",l.has(v)?a[s]=u:l.set(v,u));for(s=0;s<d;++s)v=i.call(e,o[s],s,o)+"",(u=l.get(v))?(r[s]=u,u.__data__=o[s],l.delete(v)):n[s]=new Cr(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(p[s])===u&&(a[s]=u)}function Y2(e){return e.__data__}function Z2(e,t){if(!arguments.length)return Array.from(this,Y2);var n=t?V2:K2,r=this._parents,a=this._groups;typeof e!="function"&&(e=W2(e));for(var o=a.length,i=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=a[l],p=d.length,v=Q2(e.call(c,c&&c.__data__,l,r)),h=v.length,m=s[l]=new Array(h),g=i[l]=new Array(h),b=u[l]=new Array(p);n(c,d,m,g,b,v,t);for(var y=0,C=0,x,M;y<h;++y)if(x=m[y]){for(y>=C&&(C=y+1);!(M=g[C])&&++C<h;);x._next=M||null}}return i=new Te(i,r),i._enter=s,i._exit=u,i}function Q2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X2(){return new Te(this._exit||this._groups.map(fd),this._parents)}function J2(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function e3(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),s=new Array(a),u=0;u<i;++u)for(var l=n[u],c=r[u],d=l.length,p=s[u]=new Array(d),v,h=0;h<d;++h)(v=l[h]||c[h])&&(p[h]=v);for(;u<a;++u)s[u]=n[u];return new Te(s,this._parents)}function t3(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],i;--a>=0;)(i=r[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function n3(e){e||(e=r3);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i=n[o],s=i.length,u=a[o]=new Array(s),l,c=0;c<s;++c)(l=i[c])&&(u[c]=l);u.sort(t)}return new Te(a,this._parents).order()}function r3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function a3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function o3(){return Array.from(this)}function i3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null}function s3(){let e=0;for(const t of this)++e;return e}function u3(){return!this.node()}function l3(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,i=a.length,s;o<i;++o)(s=a[o])&&e.call(s,s.__data__,o,a);return this}function c3(e){return function(){this.removeAttribute(e)}}function d3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f3(e,t){return function(){this.setAttribute(e,t)}}function p3(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function h3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function v3(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function m3(e,t){var n=Yr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?d3:c3:typeof t=="function"?n.local?v3:h3:n.local?p3:f3)(n,t))}function pd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function g3(e){return function(){this.style.removeProperty(e)}}function y3(e,t,n){return function(){this.style.setProperty(e,t,n)}}function b3(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function x3(e,t,n){return arguments.length>1?this.each((t==null?g3:typeof t=="function"?b3:y3)(e,t,n??"")):Xt(this.node(),e)}function Xt(e,t){return e.style.getPropertyValue(t)||pd(e).getComputedStyle(e,null).getPropertyValue(t)}function w3(e){return function(){delete this[e]}}function C3(e,t){return function(){this[e]=t}}function S3(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function M3(e,t){return arguments.length>1?this.each((t==null?w3:typeof t=="function"?S3:C3)(e,t)):this.node()[e]}function hd(e){return e.trim().split(/^|\s+/)}function Xo(e){return e.classList||new vd(e)}function vd(e){this._node=e,this._names=hd(e.getAttribute("class")||"")}vd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function md(e,t){for(var n=Xo(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function gd(e,t){for(var n=Xo(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function A3(e){return function(){md(this,e)}}function E3(e){return function(){gd(this,e)}}function I3(e,t){return function(){(t.apply(this,arguments)?md:gd)(this,e)}}function P3(e,t){var n=hd(e+"");if(arguments.length<2){for(var r=Xo(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?I3:t?A3:E3)(n,t))}function k3(){this.textContent=""}function O3(e){return function(){this.textContent=e}}function T3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function N3(e){return arguments.length?this.each(e==null?k3:(typeof e=="function"?T3:O3)(e)):this.node().textContent}function j3(){this.innerHTML=""}function L3(e){return function(){this.innerHTML=e}}function D3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _3(e){return arguments.length?this.each(e==null?j3:(typeof e=="function"?D3:L3)(e)):this.node().innerHTML}function R3(){this.nextSibling&&this.parentNode.appendChild(this)}function $3(){return this.each(R3)}function F3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B3(){return this.each(F3)}function z3(e){var t=typeof e=="function"?e:ud(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function q3(){return null}function H3(e,t){var n=typeof e=="function"?e:ud(e),r=t==null?q3:typeof t=="function"?t:Qo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function U3(){var e=this.parentNode;e&&e.removeChild(this)}function G3(){return this.each(U3)}function W3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function V3(e){return this.select(e?K3:W3)}function Y3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Z3(e){return function(t){e.call(this,t,this.__data__)}}function Q3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function X3(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function J3(e,t,n){return function(){var r=this.__on,a,o=Z3(t);if(r){for(var i=0,s=r.length;i<s;++i)if((a=r[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function eE(e,t,n){var r=Q3(e+""),a,o=r.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(a=0,c=s[u];a<o;++a)if((i=r[a]).type===c.type&&i.name===c.name)return c.value}return}for(s=t?J3:X3,a=0;a<o;++a)this.each(s(r[a],t,n));return this}function yd(e,t,n){var r=pd(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function tE(e,t){return function(){return yd(this,e,t)}}function nE(e,t){return function(){return yd(this,e,t.apply(this,arguments))}}function rE(e,t){return this.each((typeof t=="function"?nE:tE)(e,t))}function*aE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,i;a<o;++a)(i=r[a])&&(yield i)}var bd=[null];function Te(e,t){this._groups=e,this._parents=t}function Gn(){return new Te([[document.documentElement]],bd)}function oE(){return this}Te.prototype=Gn.prototype={constructor:Te,select:T2,selectAll:D2,selectChild:F2,selectChildren:H2,filter:U2,data:Z2,enter:G2,exit:X2,join:J2,merge:e3,selection:oE,order:t3,sort:n3,call:a3,nodes:o3,node:i3,size:s3,empty:u3,each:l3,attr:m3,style:x3,property:M3,classed:P3,text:N3,html:_3,raise:$3,lower:B3,append:z3,insert:H3,remove:G3,clone:V3,datum:Y3,on:eE,dispatch:rE,[Symbol.iterator]:aE};function iE(e){return typeof e=="string"?new Te([[document.querySelector(e)]],[document.documentElement]):new Te([[e]],bd)}function Jo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wn(){}var _n=.7,Sr=1/_n,Gt="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sE=/^#([0-9a-f]{3,8})$/,uE=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),lE=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),cE=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${Rn}\\)$`),dE=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${Rn}\\)$`),fE=new RegExp(`^hsl\\(${Rn},${Ue},${Ue}\\)$`),pE=new RegExp(`^hsla\\(${Rn},${Ue},${Ue},${Rn}\\)$`),eu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jo(Wn,$n,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tu,formatHex:tu,formatHex8:hE,formatHsl:vE,formatRgb:nu,toString:nu});function tu(){return this.rgb().formatHex()}function hE(){return this.rgb().formatHex8()}function vE(){return wd(this).formatHsl()}function nu(){return this.rgb().formatRgb()}function $n(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ru(t):n===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uE.exec(e))?new Ae(t[1],t[2],t[3],1):(t=lE.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cE.exec(e))?Zn(t[1],t[2],t[3],t[4]):(t=dE.exec(e))?Zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fE.exec(e))?iu(t[1],t[2]/100,t[3]/100,1):(t=pE.exec(e))?iu(t[1],t[2]/100,t[3]/100,t[4]):eu.hasOwnProperty(e)?ru(eu[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function ru(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Zn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ae(e,t,n,r)}function mE(e){return e instanceof Wn||(e=$n(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Ya(e,t,n,r){return arguments.length===1?mE(e):new Ae(e,t,n,r??1)}function Ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Jo(Ae,Ya,xd(Wn,{brighter(e){return e=e==null?Sr:Math.pow(Sr,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_n:Math.pow(_n,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(Tt(this.r),Tt(this.g),Tt(this.b),Mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:au,formatHex:au,formatHex8:gE,formatRgb:ou,toString:ou}));function au(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function gE(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ou(){const e=Mr(this.opacity);return`${e===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${e===1?")":`, ${e})`}`}function Mr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kt(e){return e=Tt(e),(e<16?"0":"")+e.toString(16)}function iu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,n,r)}function wd(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof Wn||(e=$n(e)),!e)return new De;if(e instanceof De)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,u=(o+a)/2;return s?(t===o?i=(n-r)/s+(n<r)*6:n===o?i=(r-t)/s+2:i=(t-n)/s+4,s/=u<.5?o+a:2-o-a,i*=60):s=u>0&&u<1?0:i,new De(i,s,u,e.opacity)}function yE(e,t,n,r){return arguments.length===1?wd(e):new De(e,t,n,r??1)}function De(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Jo(De,yE,xd(Wn,{brighter(e){return e=e==null?Sr:Math.pow(Sr,e),new De(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_n:Math.pow(_n,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ae(ya(e>=240?e-240:e+120,a,r),ya(e,a,r),ya(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new De(su(this.h),Qn(this.s),Qn(this.l),Mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mr(this.opacity);return`${e===1?"hsl(":"hsla("}${su(this.h)}, ${Qn(this.s)*100}%, ${Qn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function su(e){return e=(e||0)%360,e<0?e+360:e}function Qn(e){return Math.max(0,Math.min(1,e||0))}function ya(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Cd=e=>()=>e;function bE(e,t){return function(n){return e+n*t}}function xE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wE(e){return(e=+e)==1?Sd:function(t,n){return n-t?xE(t,n,e):Cd(isNaN(t)?n:t)}}function Sd(e,t){var n=t-e;return n?bE(e,n):Cd(isNaN(e)?t:e)}var uu=function e(t){var n=wE(t);function r(a,o){var i=n((a=Ya(a)).r,(o=Ya(o)).r),s=n(a.g,o.g),u=n(a.b,o.b),l=Sd(a.opacity,o.opacity);return function(c){return a.r=i(c),a.g=s(c),a.b=u(c),a.opacity=l(c),a+""}}return r.gamma=e,r}(1);function ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ba=new RegExp(Za.source,"g");function CE(e){return function(){return e}}function SE(e){return function(t){return e(t)+""}}function ME(e,t){var n=Za.lastIndex=ba.lastIndex=0,r,a,o,i=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Za.exec(e))&&(a=ba.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),s[i]?s[i]+=o:s[++i]=o),(r=r[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,u.push({i,x:ft(r,a)})),n=ba.lastIndex;return n<t.length&&(o=t.slice(n),s[i]?s[i]+=o:s[++i]=o),s.length<2?u[0]?SE(u[0].x):CE(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}var lu=180/Math.PI,Qa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Md(e,t,n,r,a,o){var i,s,u;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*lu,skewX:Math.atan(u)*lu,scaleX:i,scaleY:s}}var Xn;function AE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qa:Md(t.a,t.b,t.c,t.d,t.e,t.f)}function EE(e){return e==null||(Xn||(Xn=document.createElementNS("http://www.w3.org/2000/svg","g")),Xn.setAttribute("transform",e),!(e=Xn.transform.baseVal.consolidate()))?Qa:(e=e.matrix,Md(e.a,e.b,e.c,e.d,e.e,e.f))}function Ad(e,t,n,r){function a(l){return l.length?l.pop()+" ":""}function o(l,c,d,p,v,h){if(l!==d||c!==p){var m=v.push("translate(",null,t,null,n);h.push({i:m-4,x:ft(l,d)},{i:m-2,x:ft(c,p)})}else(d||p)&&v.push("translate("+d+t+p+n)}function i(l,c,d,p){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),p.push({i:d.push(a(d)+"rotate(",null,r)-2,x:ft(l,c)})):c&&d.push(a(d)+"rotate("+c+r)}function s(l,c,d,p){l!==c?p.push({i:d.push(a(d)+"skewX(",null,r)-2,x:ft(l,c)}):c&&d.push(a(d)+"skewX("+c+r)}function u(l,c,d,p,v,h){if(l!==d||c!==p){var m=v.push(a(v)+"scale(",null,",",null,")");h.push({i:m-4,x:ft(l,d)},{i:m-2,x:ft(c,p)})}else(d!==1||p!==1)&&v.push(a(v)+"scale("+d+","+p+")")}return function(l,c){var d=[],p=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,p),i(l.rotate,c.rotate,d,p),s(l.skewX,c.skewX,d,p),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,p),l=c=null,function(v){for(var h=-1,m=p.length,g;++h<m;)d[(g=p[h]).i]=g.x(v);return d.join("")}}}var IE=Ad(AE,"px, ","px)","deg)"),PE=Ad(EE,", ",")",")"),Jt=0,bn=0,mn=0,Ed=1e3,Ar,xn,Er=0,jt=0,Zr=0,Fn=typeof performance=="object"&&performance.now?performance:Date,Id=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ei(){return jt||(Id(kE),jt=Fn.now()+Zr)}function kE(){jt=0}function Ir(){this._call=this._time=this._next=null}Ir.prototype=Pd.prototype={constructor:Ir,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ei():+n)+(t==null?0:+t),!this._next&&xn!==this&&(xn?xn._next=this:Ar=this,xn=this),this._call=e,this._time=n,Xa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xa())}};function Pd(e,t,n){var r=new Ir;return r.restart(e,t,n),r}function OE(){ei(),++Jt;for(var e=Ar,t;e;)(t=jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jt}function cu(){jt=(Er=Fn.now())+Zr,Jt=bn=0;try{OE()}finally{Jt=0,NE(),jt=0}}function TE(){var e=Fn.now(),t=e-Er;t>Ed&&(Zr-=t,Er=e)}function NE(){for(var e,t=Ar,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ar=n);xn=e,Xa(r)}function Xa(e){if(!Jt){bn&&(bn=clearTimeout(bn));var t=e-jt;t>24?(e<1/0&&(bn=setTimeout(cu,e-Fn.now()-Zr)),mn&&(mn=clearInterval(mn))):(mn||(Er=Fn.now(),mn=setInterval(TE,Ed)),Jt=1,Id(cu))}}function du(e,t,n){var r=new Ir;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var jE=sd("start","end","cancel","interrupt"),LE=[],kd=0,fu=1,Ja=2,ir=3,pu=4,eo=5,sr=6;function Qr(e,t,n,r,a,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;DE(e,n,{name:t,index:r,group:a,on:jE,tween:LE,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:kd})}function ti(e,t){var n=$e(e,t);if(n.state>kd)throw new Error("too late; already scheduled");return n}function Xe(e,t){var n=$e(e,t);if(n.state>ir)throw new Error("too late; already running");return n}function $e(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function DE(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Pd(o,0,n.time);function o(l){n.state=fu,n.timer.restart(i,n.delay,n.time),n.delay<=l&&i(l-n.delay)}function i(l){var c,d,p,v;if(n.state!==fu)return u();for(c in r)if(v=r[c],v.name===n.name){if(v.state===ir)return du(i);v.state===pu?(v.state=sr,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[c]):+c<t&&(v.state=sr,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[c])}if(du(function(){n.state===ir&&(n.state=pu,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Ja,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ja){for(n.state=ir,a=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(v=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=v);a.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=eo,1),d=-1,p=a.length;++d<p;)a[d].call(e,c);n.state===eo&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=sr,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function _E(e,t){var n=e.__transition,r,a,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}a=r.state>Ja&&r.state<eo,r.state=sr,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function RE(e){return this.each(function(){_E(this,e)})}function $E(e,t){var n,r;return function(){var a=Xe(this,e),o=a.tween;if(o!==n){r=n=o;for(var i=0,s=r.length;i<s;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function FE(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Xe(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var s={name:t,value:n},u=0,l=a.length;u<l;++u)if(a[u].name===t){a[u]=s;break}u===l&&a.push(s)}o.tween=a}}function BE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=$e(this.node(),n).tween,a=0,o=r.length,i;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((t==null?$E:FE)(n,e,t))}function ni(e,t,n){var r=e._id;return e.each(function(){var a=Xe(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return $e(a,r).value[t]}}function Od(e,t){var n;return(typeof t=="number"?ft:t instanceof $n?uu:(n=$n(t))?(t=n,uu):ME)(e,t)}function zE(e){return function(){this.removeAttribute(e)}}function qE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HE(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function UE(e,t,n){var r,a=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function GE(e,t,n){var r,a,o;return function(){var i,s=n(this),u;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),u=s+"",i===u?null:i===r&&u===a?o:(a=u,o=t(r=i,s)))}}function WE(e,t,n){var r,a,o;return function(){var i,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),u=s+"",i===u?null:i===r&&u===a?o:(a=u,o=t(r=i,s)))}}function KE(e,t){var n=Yr(e),r=n==="transform"?PE:Od;return this.attrTween(e,typeof t=="function"?(n.local?WE:GE)(n,r,ni(this,"attr."+e,t)):t==null?(n.local?qE:zE)(n):(n.local?UE:HE)(n,r,t))}function VE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function YE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ZE(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&YE(e,o)),n}return a._value=t,a}function QE(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&VE(e,o)),n}return a._value=t,a}function XE(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yr(e);return this.tween(n,(r.local?ZE:QE)(r,t))}function JE(e,t){return function(){ti(this,e).delay=+t.apply(this,arguments)}}function eI(e,t){return t=+t,function(){ti(this,e).delay=t}}function tI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JE:eI)(t,e)):$e(this.node(),t).delay}function nI(e,t){return function(){Xe(this,e).duration=+t.apply(this,arguments)}}function rI(e,t){return t=+t,function(){Xe(this,e).duration=t}}function aI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nI:rI)(t,e)):$e(this.node(),t).duration}function oI(e,t){if(typeof t!="function")throw new Error;return function(){Xe(this,e).ease=t}}function iI(e){var t=this._id;return arguments.length?this.each(oI(t,e)):$e(this.node(),t).ease}function sI(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Xe(this,e).ease=n}}function uI(e){if(typeof e!="function")throw new Error;return this.each(sI(this._id,e))}function lI(e){typeof e!="function"&&(e=cd(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],i=o.length,s=r[a]=[],u,l=0;l<i;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new ot(r,this._parents,this._name,this._id)}function cI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),s=0;s<o;++s)for(var u=t[s],l=n[s],c=u.length,d=i[s]=new Array(c),p,v=0;v<c;++v)(p=u[v]||l[v])&&(d[v]=p);for(;s<r;++s)i[s]=t[s];return new ot(i,this._parents,this._name,this._id)}function dI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function fI(e,t,n){var r,a,o=dI(t)?ti:Xe;return function(){var i=o(this,e),s=i.on;s!==r&&(a=(r=s).copy()).on(t,n),i.on=a}}function pI(e,t){var n=this._id;return arguments.length<2?$e(this.node(),n).on.on(e):this.each(fI(n,e,t))}function hI(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vI(){return this.on("end.remove",hI(this._id))}function mI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qo(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var s=r[i],u=s.length,l=o[i]=new Array(u),c,d,p=0;p<u;++p)(c=s[p])&&(d=e.call(c,c.__data__,p,s))&&("__data__"in c&&(d.__data__=c.__data__),l[p]=d,Qr(l[p],t,n,p,l,$e(c,n)));return new ot(o,this._parents,t,n)}function gI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ld(e));for(var r=this._groups,a=r.length,o=[],i=[],s=0;s<a;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var p=e.call(c,c.__data__,d,u),v,h=$e(c,n),m=0,g=p.length;m<g;++m)(v=p[m])&&Qr(v,t,n,m,p,h);o.push(p),i.push(c)}return new ot(o,i,t,n)}var yI=Gn.prototype.constructor;function bI(){return new yI(this._groups,this._parents)}function xI(e,t){var n,r,a;return function(){var o=Xt(this,e),i=(this.style.removeProperty(e),Xt(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}function Td(e){return function(){this.style.removeProperty(e)}}function wI(e,t,n){var r,a=n+"",o;return function(){var i=Xt(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}function CI(e,t,n){var r,a,o;return function(){var i=Xt(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Xt(this,e))),i===u?null:i===r&&u===a?o:(a=u,o=t(r=i,s))}}function SI(e,t){var n,r,a,o="style."+t,i="end."+o,s;return function(){var u=Xe(this,e),l=u.on,c=u.value[o]==null?s||(s=Td(t)):void 0;(l!==n||a!==c)&&(r=(n=l).copy()).on(i,a=c),u.on=r}}function MI(e,t,n){var r=(e+="")=="transform"?IE:Od;return t==null?this.styleTween(e,xI(e,r)).on("end.style."+e,Td(e)):typeof t=="function"?this.styleTween(e,CI(e,r,ni(this,"style."+e,t))).each(SI(this._id,e)):this.styleTween(e,wI(e,r,t),n).on("end.style."+e,null)}function AI(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function EI(e,t,n){var r,a;function o(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&AI(e,i,n)),r}return o._value=t,o}function II(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,EI(e,t,n??""))}function PI(e){return function(){this.textContent=e}}function kI(e){return function(){var t=e(this);this.textContent=t??""}}function OI(e){return this.tween("text",typeof e=="function"?kI(ni(this,"text",e)):PI(e==null?"":e+""))}function TI(e){return function(t){this.textContent=e.call(this,t)}}function NI(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&TI(a)),t}return r._value=e,r}function jI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,NI(e))}function LI(){for(var e=this._name,t=this._id,n=Nd(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],s=i.length,u,l=0;l<s;++l)if(u=i[l]){var c=$e(u,t);Qr(u,e,n,l,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ot(r,this._parents,e,n)}function DI(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var s={value:i},u={value:function(){--a===0&&o()}};n.each(function(){var l=Xe(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),a===0&&o()})}var _I=0;function ot(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nd(){return++_I}var Je=Gn.prototype;ot.prototype={constructor:ot,select:mI,selectAll:gI,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:lI,merge:cI,selection:bI,transition:LI,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:pI,attr:KE,attrTween:XE,style:MI,styleTween:II,text:OI,textTween:jI,remove:vI,tween:BE,delay:tI,duration:aI,ease:iI,easeVarying:uI,end:DI,[Symbol.iterator]:Je[Symbol.iterator]};function RI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $I={time:null,delay:0,duration:250,ease:RI};function FI(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function BI(e){var t,n;e instanceof ot?(t=e._id,e=e._name):(t=Nd(),(n=$I).time=ei(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i=r[o],s=i.length,u,l=0;l<s;++l)(u=i[l])&&Qr(u,e,t,l,i,n||FI(u,t));return new ot(r,this._parents,e,t)}Gn.prototype.interrupt=RE;Gn.prototype.transition=BI;function wn(e,t,n){this.k=e,this.x=t,this.y=n}wn.prototype={constructor:wn,scale:function(e){return e===1?this:new wn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};wn.prototype;var zI=w("div",{target:"e1q9gayd0"})(function(e){var t=e.theme,n=e.expanded;return{display:"flex",border:"1.5px solid ".concat(t.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:n?"auto":"150px",width:n?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),qI=function(t){var n=t.monomer,r=t.expanded,a=t.selectedAttachmentPoint,o=t.connectedAttachmentPoints,i=t.usage,s=S.useRef(null);return S.useLayoutEffect(function(){var u=s.current;if(u){var l=iE(u);if(n instanceof wt){var c=(u.width.baseVal.value-u.x.baseVal.value)/2,d=(u.height.baseVal.value-u.y.baseVal.value)/2,p=new Gf(c,d),v=Wf.canvasToModel(p),h=new wt(n.variantMonomerItem,v),m=new Kf(h);m.showExternal({canvas:l,usage:i,selectedAttachmentPoint:a,connectedAttachmentPoints:o})}}},[a,o]),f(zI,{expanded:r,children:f("svg",{ref:s})})},to=function(t){var n=t.monomer,r=t.attachmentPoints,a=t.connectedAttachmentPoints,o=t.selectedAttachmentPoint,i=t.usage,s=t.needCache,u=t.update,l=t.expanded,c=n instanceof wt,d=n.monomerItem.props.unresolved;return E(ee,{children:[c?f(qI,{monomer:n,expanded:l,selectedAttachmentPoint:o,connectedAttachmentPoints:a,usage:i}):d?f(id,{}):f(C2,{struct:n.monomerItem.struct,options:{connectedMonomerAttachmentPoints:a,currentlySelectedMonomerAttachmentPoint:o??void 0,usageInMacromolecule:i,labelInMonomerConnectionsModal:!0,needCache:s??!1},update:u,isExpanded:l}),f(S2,{children:r})]})},hu=w("div",{target:"e14t14ao2"})(function(e){var t=e.theme,n=e.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:t.ketcher.font.family.inter,fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:n?void 0:"150px"}},""),HI=w("div",{target:"e14t14ao1"})(function(e){var t=e.theme;return{width:10,height:2,display:"block",color:t.ketcher.color.button.secondary.hover,backgroundColor:t.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),UI=w("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),vu=function(t){return t instanceof wt?"Ambiguous ".concat(t.monomerClass):t.monomerItem.props.Name},jd=function(t){var n=t.firstMonomer,r=t.secondMonomer,a=t.expanded,o=t.firstMonomerOverview,i=t.secondMonomerOverview,s=vu(n),u=vu(r);return E(UI,{children:[f(hu,{isExpanded:a,children:s}),o,f("span",{}),f(HI,{}),f("span",{}),f(hu,{isExpanded:a,children:u}),i]})};function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mu(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var WI=w(Q,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),KI=w(Oe,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),VI=w(Oe,{target:"e1byht5d1"})(function(e){return{width:"97px !important",color:e.disabled?"rgba(51, 51, 51, 0.6)":"",background:e.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),YI=w(Oe,{target:"e1byht5d0"})(function(e){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(e.theme.ketcher.color.border.secondary),color:e.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:e.disabled?"rgba(225, 229, 234)":"",borderColor:e.disabled?"rgba(225, 229, 234) !important":""}},""),ZI=function(t){var n=t.onClose,r=t.isModalOpen,a=t.firstMonomer,o=t.secondMonomer,i=t.polymerBond,s=t.isReconnectionDialog,u=T(se),l=S.useRef(i==null?void 0:i.firstMonomerAttachmentPoint),c=S.useRef(i==null?void 0:i.secondMonomerAttachmentPoint),d=S.useRef((a==null?void 0:a.hasFreeAttachmentPoint)||(o==null?void 0:o.hasFreeAttachmentPoint));if(!a||!o)throw new Error("Monomers must exist!");var p=S.useState(l.current||yu(a)),v=j(p,2),h=v[0],m=v[1],g=S.useState(c.current||yu(o)),b=j(g,2),y=b[0],C=b[1],x=S.useState(!1),M=j(x,2),A=M[0],I=M[1],P=function(){if(s){var O;i==null||i.firstMonomer.setBond(l.current,i),i==null||(O=i.secondMonomer)===null||O===void 0||O.setBond(c.current,i),n()}else u.events.cancelBondCreationViaModal.dispatch(o),n()},k=function(){if(!h||!y)throw new Error("Attachment points cannot be falsy");if(h===l.current&&y===c.current){P();return}u.events.createBondViaModal.dispatch({firstMonomer:a,secondMonomer:o,firstSelectedAttachmentPoint:h,secondSelectedAttachmentPoint:y,polymerBond:i,isReconnection:s,initialFirstMonomerAttachmentPoint:l.current,initialSecondMonomerAttachmentPoint:c.current}),n()};return E(WI,{title:s?"Edit Connection Points":"Select connection points",isOpen:r,onClose:P,showExpandButton:!0,modalWidth:"358px",expanded:A,setExpanded:I,children:[f(Q.Content,{children:f(w2,{children:f(jd,{firstMonomer:a,secondMonomer:o,expanded:A,firstMonomerOverview:f(gu,{monomer:a,selectedAttachmentPoint:h,onSelectAttachmentPoint:m,expanded:A}),secondMonomerOverview:f(gu,{monomer:o,selectedAttachmentPoint:y,onSelectAttachmentPoint:C,expanded:A})})})}),E(Q.Footer,{children:[f(KI,{label:"Cancel",styleType:"secondary",clickHandler:P}),f(VI,{label:s?"Reconnect":"Connect",disabled:!h||!y||!d.current,clickHandler:k})]})]})};function gu(e){var t=e.monomer,n=e.selectedAttachmentPoint,r=e.onSelectAttachmentPoint,a=e.expanded,o=a===void 0?!1:a,i=S.useState(t.attachmentPointsToBonds),s=j(i,2),u=s[0],l=s[1],c=S.useState(function(){return fa(u)}),d=j(c,2),p=d[0],v=d[1];S.useEffect(function(){l(t.attachmentPointsToBonds)},[n]),S.useEffect(function(){var g=fa(u);v(g)},[u]);var h=function(b){var y=t.monomerCaps,C=t instanceof wt;if(!y)return C?null:"H";var x=y[b];return od(x)},m=function(b){var y=GI({},t.attachmentPointsToBonds),C=n?y[n]:null;n&&C&&t.removeBond(C);var x=t.getPotentialBond(b);y[b]=x,l(y),r(b);var M=fa(y);v(M)};return f(to,{monomer:t,connectedAttachmentPoints:p,selectedAttachmentPoint:n,usage:cr.MonomerConnectionsModal,update:o,expanded:o,attachmentPoints:t.listOfAttachmentPoints.map(function(g){var b=!!(p.includes(g)&&g!==n);return E(b2,{children:[f(YI,{label:g,styleType:g===n?"primary":"secondary",clickHandler:function(){return m(g)},disabled:b}),f(x2,{"data-testid":"leaving-group-value",disabled:b,children:h(g)})]},g)})})}function yu(e){if(e.chosenFirstAttachmentPointForBond)return e.chosenFirstAttachmentPointForBond;if(e.chosenSecondAttachmentPointForBond)return e.chosenSecondAttachmentPointForBond;var t=Object.entries(e.attachmentPointsToBonds).filter(function(a){var o=j(a,2);o[0];var i=o[1];return i==null});if(t.length===1){var n=j(t[0],1),r=n[0];return r}return null}var QI=w("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),XI=function(t){var n=t.title,r=t.confirmationText,a=t.onConfirm,o=t.isModalOpen,i=t.onClose,s=function(){a(),i()};return E(Q,{isOpen:o,title:n||"Confirm your action",onClose:i,children:[f(Q.Content,{children:f(QI,{children:r})}),E(Q.Footer,{children:[f(Oe,{label:"Cancel",clickHandler:i}),f(Oe,{label:"Yes",clickHandler:s,styleType:"secondary"})]})]})},Ld={open:a2,save:h2,delete:m2,updateSequenceInRNABuilder:y2,monomerConnection:ZI,confirmationDialog:XI};function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bu(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var eP=function(){var t=T(y5),n=T(g5),r=T(b5),a=le(),o=S.useCallback(function(){a(h5())},[a]);if(!n)return null;var i=Ld[n];if(!i)throw new Error("There is no modal window named ".concat(n));return r?f(i,JI({onClose:o,isModalOpen:t},r)):f(i,{onClose:o,isModalOpen:t})},tP=w("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),nP=w("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),rP=w(jr,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),aP=function(){return E(ee,{children:[f("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75",fill:"#F5F6F7"})}),f("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})})]})},oP=function(){return E(ee,{children:[f("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),E("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[f("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),f("symbol",{id:"peptide-selection",viewBox:"0 0 70 61",width:"70",height:"61",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:"M17.3572 1.25349C17.6247 0.787424 18.1209 0.500001 18.6583 0.500001L51.3417 0.5C51.8791 0.5 52.3753 0.787425 52.6428 1.2535L53.0665 1.01035L52.6428 1.2535L68.9952 29.7535C69.2605 30.2158 69.2605 30.7842 68.9952 31.2465L52.6428 59.7465C52.3753 60.2126 51.8791 60.5 51.3417 60.5H18.6583C18.1209 60.5 17.6247 60.2126 17.3572 59.7465L1.00478 31.2465C0.739513 30.7842 0.739513 30.2158 1.00478 29.7535L17.3572 1.25349Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8"})}),f("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:f("path",{xmlns:"http://www.w3.org/2000/svg",d:`M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 
           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515
           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382
           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z`,fillOpacity:"0.6"})})]})},iP=function(){return E(ee,{children:[f("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),f("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:f("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),f("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),f("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:f("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})})]})},sP=function(){return E(ee,{children:[f("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),f("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:f("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),f("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:f("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),f("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:f("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})})]})},uP=function(){return E(ee,{children:[f("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:f("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:f("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),f("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:f("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),f("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:f("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})})]})},lP=function(){return E(ee,{children:[E("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[f("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),f("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),f("symbol",{id:"unresolved-monomer-selection",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"unresolved-monomer-hover",children:f("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})})]})},cP=function(){return E(ee,{children:[f("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),f("symbol",{id:"nucleotide-selection",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8"})}),f("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:f("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})})]})},dP=function(){return E(ee,{children:[f("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),f("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),f("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:f("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},fP=function(){return f(ee,{children:f("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:f("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})})},pP=w("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),hP=function(){var t=le(),n=T(w5),r=T(C5)||"Error message",a=n!=="",o=function(){t(m5())};return E(Q,{isOpen:a,title:r,onClose:o,children:[f(Q.Content,{children:f(pP,{children:n})}),f(Q.Footer,{children:f(Oe,{label:"Close",clickHandler:o})})]})},vP=w("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),mP=w("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),gP=w("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),yP=w("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),
      auto
    `},"&.handCursorGrabbing":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),
      auto
    `}}},"");function bP(){var e=Gu.getKetcher(),t=S.useState(!1),n=j(t,2),r=n[0],a=n[1],o=S.useCallback(function(){return a(!0)},[a]),i=S.useCallback(function(){return a(!1)},[a]);return S.useEffect(function(){return e.eventBus.addListener($t.LOADING,o),e.eventBus.addListener($t.SUCCESS,i),e.eventBus.addListener($t.FAILURE,i),function(){e.eventBus.removeListener($t.LOADING,o),e.eventBus.removeListener($t.SUCCESS,i),e.eventBus.removeListener($t.FAILURE,i)}},[e.eventBus,i,o]),r}function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xu(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,i=!1,s;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){i=!0,s=l},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}}}function wP(e,t){if(e){if(typeof e=="string")return Cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cu(e,t)}}function Cu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CP(){var e=le(),t=T(se);S.useEffect(function(){if(t){var n=t.monomersLibrary,r=t.defaultRnaPresetsLibraryItems,a=ge(Ms(n,r,!0)),o=Qt(),i=[],s=a.map(function(v){return v.name});if(o){var u=xP(o),l;try{for(u.s();!(l=u.n()).done;){for(var c=l.value,d=0,p=c.name;s.includes(p);)d++,p="".concat(c.name).concat("_Copy".repeat(d));p!==c.name&&Sc(wu(wu({},c),{},{name:p}))}}catch(v){u.e(v)}finally{u.f()}o=Qt(),i=Ms(n,o)}return e(Ba(n)),e(l5(null)),e(B5(a)),o&&e(z5(i)),e(U5()),function(){e(Ba([])),e(G5())}}},[t])}var SP=w("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),MP=function(){return f(SP,{children:f(Vr,{})})},AP=function(t){t.requestFullscreen&&t.requestFullscreen()||t.msRequestFullscreen&&t.msRequestFullscreen()||t.mozRequestFullScreen&&t.mozRequestFullScreen()||t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},EP=function(){document.exitFullscreen&&document.exitFullscreen()||document.msExitFullscreen&&document.msExitFullscreen()||document.mozCancelFullScreen&&document.mozCancelFullScreen()||document.webkitExitFullscreen&&document.webkitExitFullscreen()},IP=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},PP=w("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),kP=function(t){var n=S.useState(IP()),r=j(n,2),a=r[0],o=r[1],i=function(){var u=document.querySelector(Lt)||document.documentElement;a?EP():AP(u),o(!a)};return f(PP,{className:t.className,children:f(jr,{onClick:i,iconName:a?"fullscreen-exit":"fullscreen-enter"})})},ri=bt.createContext({}),Dd=function(){return bt.useContext(ri)},OP=w(jr,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function _d(){var e;(e=document.activeElement)===null||e===void 0||e.blur()}var Pr=function(t){var n=t.itemId,r=t.title,a=r===void 0?"":r,o=t.disabled,i=t.testId,s=t.onClick,u=Dd(),l=u.isActive,c=u.activate,d=S.useCallback(function(){c(n),_d(),s&&s()},[c,n]),p=l(n),v=p?" active":"";return f(OP,{title:a,className:n+v,isActive:p,onClick:d,iconName:n,testId:i,disabled:o})},TP=w(ye,{shouldForwardProp:function(t){return t!=="isActive"},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:2px;bottom:2px;cursor:pointer;path{fill:",function(e){var t=e.isActive;return t?"white":void 0},";}"),NP=w("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),jP=w("div",{target:"e13kdqxv2"})("display:flex;position:absolute;left:",function(e){var t=e.isVertical;return t?"-34px":"5px"},";top:",function(e){var t=e.isVertical,n=e.islayoutModeButton;return t&&n?"24px":t?"38px":"0px"},";border-radius:4px;flex-direction:",function(e){var t=e.isVertical;return t?"column":"row"},";z-index:1;background-color:white;padding:2px;"),LP=w(Mf,{target:"e13kdqxv1"})({name:"bjn8wh",styles:"position:relative"}),DP=w("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"}),Rd=function(t){var n=t.children,r=t.vertical,a=r===void 0?!1:r,o=t.disabled,i=o===void 0?!1:o,s=t.needOpenByMenuItemClick,u=s===void 0?!1:s,l=t.testId,c=t.layoutModeButton,d=c===void 0?!1:c,p=S.useState(!1),v=j(p,2),h=v[0],m=v[1],g=Dd(),b=g.isActive,y=function(){i||m(function(B){return!B})},C=function(){h&&m(!1)},x=bt.Children.map(n,function(O){return O.type===Pr?O:null}),M=x.map(function(O){return O.props.itemId}).filter(function(O){return O}),A=M.filter(function(O){return b(O)}),I=A.length?A[0]:M[0],P=x.find(function(O){return O.props.itemId===I}),k=P==null?void 0:P.props.testId,N=P==null?void 0:P.props.title;return E(NP,{"data-testid":l,children:[E(DP,{children:[f(Pr,{disabled:i,itemId:I,title:N,testId:k,onClick:u?y:vt}),h||f(TP,{className:"dropdown",name:"dropdown",onClick:y,isActive:b(I)})]}),f(LP,{in:h,timeout:"auto",unmountOnExit:!0,onClick:C,children:f(ju,{onClickAway:C,children:f(jP,{isVertical:a,islayoutModeButton:d,children:x.map(function(O){return O})})})})]})},_P=w("div",{target:"e1fh0ozy3"})(function(e){var t=e.theme,n=e.isHorizontal;return{backgroundColor:t.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:n?"row":"column"}},""),RP=w("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),$d=w("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(e){var t=e.theme;return t.ketcher.color.divider},";"),$P=w("div",{target:"e1fh0ozy0"})(function(e){var t=e.theme,n=e.isHorizontal;return{display:"flex",flexDirection:n?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:t.ketcher.color.background.primary,borderRadius:"2px",width:n?void 0:"32px",marginBottom:n?void 0:"8px","> :last-child":n?void 0:{marginBottom:0}}},""),Fd=function(t){var n=t.children,r=t.divider,a=r===void 0?!1:r,o=t.isHorizontal,i=bt.Children.map(n,function(s){return s.type===Pr||s.type===Rd?s:null});return E(ee,{children:[f($P,{isHorizontal:o,children:i.map(function(s){return s})}),a&&(o?f($d,{}):f(RP,{}))]})},ae=function(t){var n=t.children,r=t.onItemClick,a=t.activeMenuItems,o=t.testId,i=t.isHorizontal,s=bt.useMemo(function(){return{isActive:function(c){return a?a.includes(c):!1},activate:function(c){r(c)}}},[a,r]),u=bt.Children.map(n,function(l){return l.type===Fd?l:null});return f(ri.Provider,{value:s,children:f(_P,{"data-testid":o,isHorizontal:i,children:u.map(function(l){return l})})})};ae.Group=Fd;ae.Item=Pr;ae.Submenu=Rd;var FP=function(){var t=T(se),n=cn(),r=S.useState(n),a=j(r,2),o=a[0],i=a[1],s=T(Qe),u={isActive:function(c){return o===c},activate:function(c){c!==o&&(i(c),t.events.selectMode.dispatch(c),t.events.layoutModeChange.dispatch(c))}};return S.useEffect(function(){i(n)},[n]),f(ri.Provider,{value:u,children:E(ae.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[f(ae.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),f(ae.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),f(ae.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function BP(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zP(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,i=!1,s;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){i=!0,s=l},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(i)throw s}}}}function zP(e,t){if(e){if(typeof e=="string")return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}}function Su(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qP=function(t){var n=[],r=BP(t),a;try{for(r.s();!(a=r.n()).done;){var o=a.value,i=o.node,s=o.nodeIndexOverall,u=o.isNucleosideConnectedAndSelectedWithPhosphate,l=o.hasR1Connection,c=o.twoStrandedNode,d=!!(c!=null&&c.antisenseNode);if(i instanceof In){var p,v,h;n.push({type:nt.Nucleotide,baseLabel:i==null||(p=i.rnaBase)===null||p===void 0?void 0:p.label,sugarLabel:i==null||(v=i.sugar)===null||v===void 0?void 0:v.label,phosphateLabel:i==null||(h=i.phosphate)===null||h===void 0?void 0:h.label,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if(i instanceof Pn){var m,g;n.push({type:nt.Nucleoside,baseLabel:i==null||(m=i.rnaBase)===null||m===void 0?void 0:m.label,sugarLabel:i==null||(g=i.sugar)===null||g===void 0?void 0:g.label,isNucleosideConnectedAndSelectedWithPhosphate:u,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if((i==null?void 0:i.monomer)instanceof Zu){var b;n.push({type:nt.Phosphate,phosphateLabel:i==null||(b=i.monomer)===null||b===void 0?void 0:b.label,nodeIndexOverall:s,hasAntisense:d})}}}catch(y){r.e(y)}finally{r.f()}return n};function HP(e){var t=e.node;return t instanceof In||t instanceof Pn||(t==null?void 0:t.monomer)instanceof Zu}var UP=function(t){for(var n="",r=t.length===1?t[0]:xt.merge.apply(void 0,[{}].concat(ge(t))),a=0,o=["sugarLabel","baseLabel","phosphateLabel"];a<o.length;a++){var i=o[a],s=xt.get(r,i,"");i==="baseLabel"?n+="(".concat(s,")"):n+=s}return n},GP=function(t){if(t!=null&&t.length){for(var n=xt.flatten(t),r=n.length,a=wr(n),o,i=!1,s=!0,u=!1,l=!0,c=qP(n),d=0;d<c.length;d++){var p=c[d],v=c[d-1],h=p.type===nt.Nucleotide||p.type===nt.Nucleoside,m=v==null?void 0:v.isNucleosideConnectedAndSelectedWithPhosphate;h&&(i=!0),h||m?p.hasR1Connection&&(l=!1):(l=!1,s=!1),p.hasAntisense&&(u=!0)}return r>a&&(n.every(HP)||(s=!1)),r===1||a===1&&s?o=UP(c):o=s?"".concat(a," nucleotides"):"".concat(r," elements"),{title:o,selectedSequenceLabeledNodes:c,isSelectedOnlyNucleoelements:s,isSelectedAtLeastOneNucleoelement:i,isSequenceFirstsOnlyNucleoelementsSelected:l,hasAntisense:u}}};function WP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.every(function(t){return t.every(function(n){return Vu(n.twoStrandedNode)})})}function Mu(e){return e==null?void 0:e.monomers.some(function(t){return t.hydrogenBonds.length!==0})}var KP=function(t){return t.map(function(n){return n.monomerItem.props.MonomerNaturalAnalogCode}).sort().join("")},Au=function(t){var n=t.monomerItem,r=n.props.MonomerNaturalAnalogCode==="A"||n.props.MonomerNaturalAnalogCode==="C"||n.props.MonomerNaturalAnalogCode==="G"||n.props.MonomerNaturalAnalogCode==="T"||n.props.MonomerNaturalAnalogCode==="U";if(r)return!0;if(!t.monomerItem.isAmbiguous||t.subtype===Vf.MIXTURE)return!1;var a="ACGT",o="ACGU",i="CGT",s="CGU",u="AGT",l="AGU",c="ACT",d="ACU",p="GT",v="GU",h="AT",m="AU",g="CT",b="CU",y="AC",C="AG",x="CG",M="ACG",A=[a,o,i,s,u,l,c,d,p,v,h,m,g,b,y,C,x,M],I=KP(t.monomers);return A.some(function(P){return P===I})},kr=function(t){return t==null?void 0:t.some(function(n){var r=n instanceof kn&&dr(n);return n instanceof fr&&(n.hydrogenBonds.length>0||n.covalentBonds.length>1)||$f(n)&&!Au(n)||r&&(r.hydrogenBonds.length>0||!Au(r))})},fe;(function(e){e.title="sequence_menu_title",e.createRnaAntisenseStrand="create_rna_antisense_strand",e.createDnaAntisenseStrand="create_dna_antisense_strand",e.modifyInRnaBuilder="modify_in_rna_builder",e.establishHydrogenBond="establish_hydrogen_bond",e.deleteHydrogenBond="delete_hydrogen_bond",e.editSequence="edit_sequence",e.startNewSequence="start_new_sequence"})(fe||(fe={}));var VP=function(t){var n,r=t.selections,a=T(se),o=le(),i=GP(r),s=(r==null||(n=r[0])===null||n===void 0?void 0:n.flatMap(function(h){var m=h.node;return m?[m.sugar,m.rnaBase,m.phosphate,m.monomer]:[]}).filter(function(h){return h!==void 0}))||[],u=T(Qe),l=cn()===Kt.sequence,c=function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(s!=null&&s.some(function(b){return b instanceof fr&&Ia(b)||b instanceof kn&&dr(b)}))},d=[{name:fe.title,title:i==null?void 0:i.title,isMenuTitle:!0,disabled:!0,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:fe.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:kr(s),hidden:c},{name:fe.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:kr(s),hidden:c},{name:fe.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(i!=null&&i.isSelectedOnlyNucleoelements)||i.hasAntisense,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:fe.editSequence,title:"Edit sequence",disabled:!1,hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}},{name:fe.startNewSequence,title:"Start new sequence",disabled:!1},{name:fe.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(m){var g,b=m.props;return(r==null?void 0:r.length)===0?Vu(b==null||(g=b.sequenceItemRenderer)===null||g===void 0?void 0:g.twoStrandedNode):WP(r)},hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}},{name:fe.deleteHydrogenBond,title:"Delete Hydrogen Bonds",disabled:function(m){var g,b=m.props;return(r==null?void 0:r.length)===0?!Mu(b==null||(g=b.sequenceItemRenderer)===null||g===void 0?void 0:g.node):!(r!=null&&r.some(function(y){return y.some(function(C){return Mu(C.node)})}))},hidden:function(m){var g=m.props;return!(g!=null&&g.sequenceItemRenderer)}}],p=function(m){var g,b=m.id,y=m.props;switch(b){case fe.modifyInRnaBuilder:a.events.turnOnSequenceEditInRNABuilderMode.dispatch(),o(jn(Nn.RNA)),o(at(!0)),o(Dn({})),o(Ut(null)),i!=null&&(g=i.selectedSequenceLabeledNodes)!==null&&g!==void 0&&g.length&&i!==null&&i!==void 0&&i.title&&(o(Tc(i==null?void 0:i.title)),o(Wo(i==null?void 0:i.selectedSequenceLabeledNodes)),o(R5(i==null?void 0:i.isSequenceFirstsOnlyNucleoelementsSelected)));break;case fe.startNewSequence:a.events.startNewSequence.dispatch(y.sequenceItemRenderer);break;case fe.editSequence:a.events.editSequence.dispatch(y.sequenceItemRenderer);break;case fe.createRnaAntisenseStrand:a.events.createAntisenseChain.dispatch(!1);break;case fe.createDnaAntisenseStrand:a.events.createAntisenseChain.dispatch(!0);break;case fe.establishHydrogenBond:a.events.establishHydrogenBond.dispatch(y.sequenceItemRenderer);break;case fe.deleteHydrogenBond:{var C,x=Ff.sequenceViewModel,M=x.chainsCollection.monomerToChain,A=new Map,I=r!=null&&r.length?r.reduce(function(k,N){return[].concat(ge(k),ge(N))},[]).map(function(k){return k.twoStrandedNode}):[(C=y.sequenceItemRenderer)===null||C===void 0?void 0:C.twoStrandedNode];I.forEach(function(k){if(k.antisenseChain&&k.antisenseNode&&!(k.antisenseNode instanceof Bf||k.antisenseNode instanceof Yu)){A.has(k.antisenseChain)||A.set(k.antisenseChain,new Set);var N=A.get(k.antisenseChain);if(!N)return;N.add(k)}});var P=!1;A.forEach(function(k,N){var O=ge(k.values())[0],B=O.chain,G=new Set(ge(k.values()).map(function(R){return R.antisenseNode})),D=N.nodes.some(function(R){return!G.has(R)&&R.monomers.some(function($){return $.hydrogenBonds.some(function(q){var L=q.getAnotherMonomer($),U=L&&M.get(L);return U===B})})});D||(P=!0)}),P?a.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){a.events.deleteHydrogenBond.dispatch(y.sequenceItemRenderer)}}):a.events.deleteHydrogenBond.dispatch(y.sequenceItemRenderer);break}}},v=document.querySelector(Lt);return v&&l&&!u?Lr.createPortal(f(Kr,{id:He.FOR_SEQUENCE,handleMenuChange:p,menuItems:d}),v):null},YP=w("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),ZP=w("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(e){return e.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;"),QP=w(Uu,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),XP=w("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),no=function(t){var n=t.monomerCaps,r=t.attachmentPointsToBonds;return S.useMemo(function(){var a=[],o=[];return n?(Object.entries(n).forEach(function(i){var s=j(i,2),u=s[0],l=s[1],c=!!(r!=null&&r[u]);c&&o.push(u);var d={id:u,label:od(l),connected:c};a.push(d)}),{preparedAttachmentPointsData:a,connectedAttachmentPoints:o}):{preparedAttachmentPointsData:a,connectedAttachmentPoints:o}},[n,r])},JP=function(t){var n=t.idtAliases,r=t.attachmentPointsToBonds,a=t.monomerClass;return S.useMemo(function(){if(!n)return null;var o=n.base,i=n.modifications;if(r){if(!i)return o;var s=i.endpoint5,u=i.internal,l=i.endpoint3,c=r.R1,d=r.R2;if(a===tt.Phosphate&&c&&!(c instanceof zf)&&c.firstMonomer instanceof kn)return null;if(c!==null&&d===null)return l??u;if(c===null&&d!==null)return s??u;if(c!==null&&d!==null){var p;return(p=u??s)!==null&&p!==void 0?p:l}else{var v;return(v=s??u)!==null&&v!==void 0?v:l}}if(!i)return o;var h=Object.values(i).every(function(g){return g.includes(o)});if(h)return o;var m={};return Object.values(i).forEach(function(g){var b=[g.charAt(0),g.slice(1)],y=b[0],C=b[1];m[C]=m[C]?[].concat(ge(m[C]),[y]):[y]}),Object.entries(m).map(function(g){var b=j(g,2),y=b[0],C=b[1];return"(".concat(C.join(", "),")").concat(y)}).join(", ")},[n,r,a])},e9=w("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),t9=w("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(e){var t=e.connected;return t?"#E1E5EA":"transparent"},";padding:",function(e){var t=e.connected;return t?"4px":"0"},";color:",function(e){var t=e.connected;return t?"#8A8B8E":"inherit"},";"),n9=w("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),r9=w("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),a9=S.memo(function(e){var t=e.preparedAttachmentPointsData;return t.length?f(e9,{children:t.map(function(n){var r=n.id,a=n.connected,o=n.label;return E(t9,{connected:a,children:[E(n9,{children:[r,!a&&":"]}),!a&&f(r9,{children:o})]},r)})}):null}),o9=w("span",{target:"e1v1msbx3"})("max-width:",function(e){var t=e.preset;return t?"100%":"50%"},";display:flex;align-items:center;font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(e){return e.theme.ketcher.color.text.lightgrey},";padding-left:",function(e){var t=e.preset;return t?"0":"8px"},";border-left:",function(e){var t=e.preset;return t?"none":"1px solid #D9DCEA"},";"),i9=w("p",{target:"e1v1msbx2"})({name:"ti75j2",styles:"margin:0"}),s9=w("span",{target:"e1v1msbx1"})({name:"1b7n4tc",styles:"color:#7c7c7c"}),u9=w("span",{target:"e1v1msbx0"})({name:"dtvj5",styles:"color:#585858;text-wrap:wrap"}),Bd=S.memo(function(e){var t=e.idtAliasesText,n=e.preset;return f(o9,{preset:n,children:E(i9,{children:[f(s9,{children:"IDT: "}),f(u9,{children:t})]})})}),l9=function(t){var n,r=t.className,a=T(Un),o=a.monomer,i=a.attachmentPointsToBonds,s=o==null?void 0:o.props.idtAliases,u=no({monomerCaps:o==null?void 0:o.props.MonomerCaps,attachmentPointsToBonds:i}),l=u.preparedAttachmentPointsData,c=u.connectedAttachmentPoints,d=JP({idtAliases:s,attachmentPointsToBonds:i,monomerClass:o==null?void 0:o.props.MonomerClass});if(!o)return null;var p=o.props.unresolved,v=p?o.label:(n=o.struct)===null||n===void 0?void 0:n.name;return(o.struct||p)&&E(YP,{className:r,"data-testid":"polymer-library-preview",children:[v&&f(ZP,{children:v}),p?f(id,{}):f(QP,{struct:o.struct,options:{connectedMonomerAttachmentPoints:c,usageInMacromolecule:cr.MonomerPreview,labelInPreview:!0,needCache:!1}}),E(XP,{children:[f(a9,{preparedAttachmentPointsData:l}),d&&f(Bd,{idtAliasesText:d})]})]})},c9=w(l9,{target:"e86yc5p0"})("width:",lr.width+"px",";height:",lr.height+"px",";"),d9=w("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),f9=w("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),p9=w("div",{target:"ec5fs973"})("font-size:",function(e){return e.theme.ketcher.font.size.regular},";line-height:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),h9=w("div",{target:"ec5fs972"})("color:",function(e){return e.theme.ketcher.color.text.lightgrey},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),v9=w("p",{target:"ec5fs971"})("color:",function(e){return e.theme.ketcher.color.text.primary},";font-size:",function(e){return e.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),m9=w(ye,{target:"ec5fs970"})("color:",function(e){return e.theme.ketcher.color.icon.grey},";padding-right:",function(e){return e.name==="sugar"?"4px":e.name==="phosphate"?"1px":0},";padding-left:",function(e){return e.name==="base"?"2px":e.name==="phosphate"?"1px":0},";stroke:",function(e){return e.theme.ketcher.color.icon.grey},";height:",function(e){return e.name==="sugar"?"12px":"14px"},";width:",function(e){return e.name==="sugar"?"12px":"14px"},";"),g9=function(t){var n=t.presetName,r=t.position,a=t.idtAliases;return S.useMemo(function(){if(!n||!a)return null;if(n.includes("MOE")){var o,i,s,u=a.base,l=a.modifications,c=(o=l==null?void 0:l.endpoint5)!==null&&o!==void 0?o:"5".concat(u),d=(i=l==null?void 0:l.internal)!==null&&i!==void 0?i:"i".concat(u),p=(s=l==null?void 0:l.endpoint3)!==null&&s!==void 0?s:"3".concat(u);switch(r){case ze.Library:return"".concat(c,", ").concat(d);case ze.ChainStart:return c;case ze.ChainMiddle:return d;case ze.ChainEnd:return p}}return a.base},[n,r,a])},y9=["sugar","base","phosphate"],b9=function(t){var n=t.className,r=T(Un),a=r.monomers,o=r.name,i=r.position,s=r.idtAliases,u=j(a,2),l=u[1],c=o??(l==null?void 0:l.props.Name),d=g9({presetName:c,position:i,idtAliases:s});return E(d9,{className:n,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[f(v9,{children:c}),a.map(function(p,v){return p&&E(f9,{children:[f(m9,{name:y9[v]}),f(p9,{children:p.label}),E(h9,{children:["(",p.props.Name,")"]})]},v)}),d&&f(Bd,{idtAliasesText:d,preset:!0})]})},x9=w(b9,{target:"e1wupxfd0"})(""),Eu=w("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(e){return e.theme.ketcher.color.background.primary},";border:",function(e){return e.theme.ketcher.border.regular},";border-radius:",function(e){return e.theme.ketcher.border.radius.regular},";box-shadow:",function(e){return e.theme.ketcher.shadow.regular},";"),w9=w("div",{target:"e1m0yzrp2"})(function(e){var t=e.connected,n=e.inBond,r=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:n||!t?r.ketcher.color.text.primary:"#B4B9D6"}},""),C9=w("p",{target:"e1m0yzrp1"})(function(e){var t=e.theme;return{margin:0,fontSize:t.ketcher.font.size.small,lineHeight:"12px"}},""),S9=w("p",{target:"e1m0yzrp0"})(function(e){var t=e.inBond,n=e.theme;return{margin:0,padding:"4px",fontWeight:n.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:t?"#CDF1FC":"transparent"}},""),Iu=function(t){var n=t.attachmentPoints,r=t.attachmentPointInBond;return f(ee,{children:n.map(function(a){return E(w9,{connected:a.connected,inBond:a.id===r,children:[f(C9,{children:a.id}),f(S9,{inBond:a.id===r,children:a.label})]},a.id)})})},M9=function(t){var n=t.className,r=T(Un),a=r.polymerBond,o=r.style,i=S.useMemo(function(){return o?w(Eu,{target:"e18hk05c1"})("top:",(o==null?void 0:o.top)||"",";left:",(o==null?void 0:o.left)||"",";right:",(o==null?void 0:o.right)||"",";"):w(Eu,{target:"e18hk05c2"})("")},[o]),s=a.firstMonomer,u=a.secondMonomer,l=a.firstMonomerAttachmentPoint,c=a.secondMonomerAttachmentPoint,d=no({monomerCaps:s.monomerCaps,attachmentPointsToBonds:s.attachmentPointsToBonds}),p=d.preparedAttachmentPointsData,v=d.connectedAttachmentPoints,h=no({monomerCaps:u==null?void 0:u.monomerCaps,attachmentPointsToBonds:u==null?void 0:u.attachmentPointsToBonds}),m=h.preparedAttachmentPointsData,g=h.connectedAttachmentPoints;return!s||!u?null:f(i,{className:n,"data-testid":"polymer-library-preview",children:f(jd,{firstMonomer:s,secondMonomer:u,firstMonomerOverview:f(to,{monomer:s,usage:cr.BondPreview,connectedAttachmentPoints:v,selectedAttachmentPoint:l,attachmentPoints:f(Iu,{attachmentPoints:p,attachmentPointInBond:l})}),secondMonomerOverview:f(to,{monomer:u,usage:cr.BondPreview,connectedAttachmentPoints:g,selectedAttachmentPoint:c,attachmentPoints:f(Iu,{attachmentPoints:m,attachmentPointInBond:c})})})})},A9=w(M9,{target:"e18hk05c0"})("width:",lr.widthForBond,"px;height:",lr.heightForBond,"px;");function Pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function E9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pu(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var I9=w("div",{target:"e88xzqx0"})(function(){return{display:"inline-block",position:"absolute",background:"white"}},""),P9=function(){var t=T(Un),n=S.useRef(null),r=S.useState(!1),a=j(r,2),o=a[0],i=a[1];return S.useEffect(function(){if(!(!n.current||t.style))if(t&&t.type){var s,u,l;n.current.setAttribute("style",""),i(!0);var c=5,d=(s=n.current)===null||s===void 0?void 0:s.getBoundingClientRect(),p=(d==null?void 0:d.height)||0,v=(d==null?void 0:d.width)||0,h=(u=me.instance)===null||u===void 0||(u=u.canvasWrapper.node())===null||u===void 0?void 0:u.getBoundingClientRect(),m=(h==null?void 0:h.bottom)||0,g=(h==null?void 0:h.left)||0,b=(h==null?void 0:h.right)||0,y=(l=t.target)===null||l===void 0?void 0:l.getBoundingClientRect(),C=(y==null?void 0:y.top)||0,x=(y==null?void 0:y.bottom)||0,M=(y==null?void 0:y.left)||0,A=(y==null?void 0:y.width)||0,I=M-A/2,P=C-p-c,k=x+c,N=M+A/2-v/2;if(C>p+c||x+p>m&&x>m/2?n.current.style.top="".concat(P,"px"):n.current.style.top="".concat(k,"px"),I>v/2&&I+v/2<b)n.current.style.left="".concat(N,"px");else if(I<v/2)n.current.style.left="".concat(g,"px");else{var O=10;n.current.style.left="".concat(b-v-O,"px")}}else o&&(i(!1),n.current.setAttribute("style",""))},[t]),t?E(I9,{ref:n,style:E9({},t==null?void 0:t.style),children:[t.type===he.Monomer&&f(c9,{}),t.type===he.Preset&&f(x9,{}),t.type===he.Bond&&f(A9,{}),t.type===he.AmbiguousMonomer&&f(jf,{preview:t})]}):null},xa=w(io,{target:"e1brfei30"})(function(e){var t=e.theme,n=e.variant;return{color:n==="outlined"?t.ketcher.color.text.primary:t.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:n==="outlined"?t.ketcher.outline.small:"none",background:n==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.active,borderRadius:t.ketcher.border.radius.regular,textTransform:"none",fontSize:t.ketcher.font.size.regular,fontWeight:t.ketcher.font.weight.regular,":hover":{color:n==="outlined"?t.ketcher.color.text.dark:t.ketcher.color.button.text.primary,background:n==="outlined"?t.ketcher.color.background.primary:t.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),k9=function(){var t=T(se),n=S.useState(t==null?void 0:t.events.changeSequenceTypeEnterMode),r=j(n,2),a=r[0],o=r[1],i=S.useState(!1),s=j(i,2),u=s[0],l=s[1],c=T(Qe),d=cn(),p=!!c,v=le(),h=function(b){var y=qf(b)==="object"?b.mode:b;l(y==="sequence-layout-mode")};S.useEffect(function(){return t==null||t.events.selectMode.add(h),t==null||t.events.changeSequenceTypeEnterMode.add(function(g){v(jn(g===An.PEPTIDE?Nn.PEPTIDES:Nn.RNA)),o(g)}),t==null||t.events.changeSequenceTypeEnterMode.dispatch(Fe.RNA),function(){t==null||t.events.selectMode.remove(h)}},[t]),S.useEffect(function(){h(d)},[d]);var m=function(b){t.events.changeSequenceTypeEnterMode.dispatch(b)};return u?f(ee,{children:f(Ju,{sx:{mr:1,ml:1},children:E(gp,{disabled:p,children:[f(xa,{"data-testid":"".concat(Fe.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:a===Fe.RNA?"contained":"outlined",onClick:function(){return m(Fe.RNA)},children:"RNA"}),f(xa,{"data-testid":"".concat(Fe.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:a===Fe.DNA?"contained":"outlined",onClick:function(){return m(Fe.DNA)},children:"DNA"}),f(xa,{"data-testid":"".concat(Fe.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:a===Fe.PEPTIDE?"contained":"outlined",onClick:function(){return m(Fe.PEPTIDE)},children:"PEP"})]})})}):null},wa=oo(so);function O9(){var e=le(),t=T(Ur),n=T(se),r=T(Qe),a=[t],o=r,i=function(u){Ld[u]?e(Ht(u)):u==="undo"||u==="redo"?n.events.selectHistory.dispatch(u):u==="clear"&&(n.events.selectTool.dispatch([u]),e(dt("select-rectangle")),n.events.selectTool.dispatch(["select-rectangle"]),r&&xr(e,n))};return E(ae,{onItemClick:i,activeMenuItems:a,isHorizontal:!0,children:[E(ae.Group,{isHorizontal:!0,divider:!0,children:[f(ae.Item,{itemId:"clear",title:"Clear Canvas (".concat(wa.clear,")"),testId:"clear-canvas"}),f(ae.Item,{itemId:"open",title:"Open...",disabled:o,testId:"open-button"}),f(ae.Item,{itemId:"save",title:"Save as...",testId:"save-button"})]}),E(ae.Group,{isHorizontal:!0,children:[f(ae.Item,{itemId:"undo",title:"Undo (".concat(wa.undo,")"),disabled:o,testId:"undo"}),f(ae.Item,{itemId:"redo",title:"Redo (".concat(wa.redo,")"),disabled:o,testId:"redo"})]})]})}var T9=oo(so);function N9(){var e=T(Ur),t=T(se),n=cn()===Kt.sequence,r=[e],a=function(i){t.events.selectTool.dispatch([i,{toolName:i}])};return E(ae,{testId:"left-toolbar",onItemClick:a,activeMenuItems:r,children:[E(ae.Group,{divider:!0,children:[f(ae.Item,{itemId:"hand",title:"Hand Tool",testId:"hand-tool"}),f(ae.Item,{itemId:"select-rectangle",title:"Select Rectangle",testId:"select-rectangle"}),f(ae.Item,{itemId:"erase",title:"Erase (".concat(T9.erase,")"),testId:"erase",disabled:n})]}),f(ae.Group,{children:E(ae.Submenu,{disabled:n,testId:"bond-tool-submenu",needOpenByMenuItemClick:!1,children:[f(ae.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:n}),f(ae.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:n})]})})]})}var j9=w("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),L9=w(io,{target:"e1aw4j3q6"})("display:flex;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),D9=w("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),_9=w(Af,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(e){var t=e.theme;return t.ketcher.shadow.regular},";box-sizing:border-box;}"),R9=w("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),Ca=w(io,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(e){var t=e.theme;return t.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(e){var t=e.theme;return t.ketcher.color.dropdown.primary},";"),Sa=w("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),$9=w("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(e){var t=e.theme;return t.ketcher.color.text.light},";font-size:",function(e){var t=e.theme;return t.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(e){var t=e.theme;return t.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(e){var t=e.theme;return t.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),Wt=oo(so),F9=function(t){var n=parseInt(t||"");return isNaN(n)?0:n},B9=function(t,n){if(t===0)return n;var r=me.instance.MINZOOMSCALE*100,a=me.instance.MAXZOOMSCALE*100;return t<r?r:t>a?a:t},ro=function(t,n){n&&(n.value="".concat(Math.round(t),"%"))},z9=function(t){var n=t.onZoomSubmit,r=t.currentZoom,a=t.inputRef,o=S.useCallback(function(s){var u=a.current;if(u){var l=[Wt["zoom-out"],Wt["zoom-in"]];l.includes(s.key)||s.nativeEvent.stopImmediatePropagation(),s.key==="Enter"&&(n(),u.select())}},[n,a,Wt]),i=function(u){var l=u.target;l.select()};return S.useEffect(function(){var s=a.current;ro(r,s),document.activeElement===s&&(s==null||s.select())},[r,a]),S.useEffect(function(){var s=a.current;s==null||s.focus(),s==null||s.select()},[a]),f($9,{ref:a,"data-testid":"zoom-value",onFocus:i,onKeyDown:o})},q9=function(){var t=S.useState(!1),n=j(t,2),r=n[0],a=n[1],o=S.useState(100),i=j(o,2),s=i[0],u=i[1],l=S.useRef(null),c=S.useRef(null);S.useEffect(function(){var b;me===null||me===void 0||(b=me.instance)===null||b===void 0||b.subscribeOnZoomEvent(function(){var y;u(Math.round((me===null||me===void 0||(y=me.instance)===null||y===void 0?void 0:y.getZoomLevel())*100))})},[me===null||me===void 0?void 0:me.instance]);var d=S.useCallback(function(){var b=c.current;if(b){var y=F9(b.value);if(y&&y!==s){var C=B9(y,s);ro(C,b),me.instance.zoomTo(C/100)}else ro(s,b)}},[s]),p=function(){a(!1)},v=function(){a(!0)},h=function(){me.instance.zoomIn()},m=function(){me.instance.zoomOut()},g=function(){me.instance.resetZoom()};return E(j9,{ref:l,children:[E(L9,{onClick:v,"data-testid":"zoom-selector",children:[E(D9,{"data-testid":"zoom-input",children:[s,"%"]}),f(ye,{name:"chevron"})]}),f(_9,{open:r,onClose:p,anchorEl:l.current,container:document.querySelector(Lt),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:E(R9,{children:[f(z9,{onZoomSubmit:d,inputRef:c,currentZoom:s}),E(Ca,{"data-testid":"zoom-out-button",title:"Zoom Out",onClick:m,children:[f("span",{children:"Zoom out"}),f(Sa,{children:Wt["zoom-minus"]})]}),E(Ca,{"data-testid":"zoom-in-button",title:"Zoom In",onClick:h,children:[f("span",{children:"Zoom in"}),f(Sa,{children:Wt["zoom-plus"]})]}),E(Ca,{"data-testid":"reset-zoom-button",title:"Zoom 100%",onClick:g,children:[f("span",{children:"Zoom 100%"}),f(Sa,{children:Wt["zoom-reset"]})]})]})})]})},H9=function(){var t=T(se),n=[{name:"edit_connection_points",title:"Edit Connection Points...",disabled:!1,hidden:function(i){var s=i.props;return!(s!=null&&s.polymerBondRenderer)}}],r=function(i){var s=i.id,u=i.props;switch(s){case"edit_connection_points":{var l=u.polymerBondRenderer.polymerBond;t.events.openMonomerConnectionModal.dispatch({firstMonomer:l.firstMonomer,secondMonomer:l.secondMonomer,polymerBond:l,isReconnectionDialog:!0}),t.events.startNewSequence.dispatch(u.sequenceItemRenderer);break}}},a=document.querySelector(Lt);return a?Lr.createPortal(f(Kr,{id:He.FOR_POLYMER_BOND,handleMenuChange:r,menuItems:n}),a):null};function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var G9=[ui.bondSingle,ui.selectRectangle],W9=function(){var t=T(se),n=T(Ur),r=le(),a=T(Wr),o=T(pc),i=S.useCallback(function(){r(Ba(t==null?void 0:t.monomersLibrary))},[t]);S.useEffect(function(){return t==null||t.events.updateMonomersLibrary.add(i),function(){t==null||t.events.updateMonomersLibrary.remove(i)}},[t]),S.useEffect(function(){var p=function(h){var m=j(h,1),g=m[0];g!==n&&r(dt(g))};return t&&(t.events.error.add(function(v){r(vs(v))}),t.events.openErrorModal.add(function(v){r(Ln(v))}),r(dt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(v){return r(Ht({name:"monomerConnection",additionalProps:v}))}),t.events.openConfirmationDialog.add(function(v){return r(Ht({name:"confirmationDialog",additionalProps:v}))}),t.events.selectTool.add(p)),function(){r(dt(null)),t==null||t.events.selectTool.remove(p)}},[t]);var s=S.useCallback(function(p){return r(Yt(p))},[r]),u=S.useCallback(xt.debounce(function(p){return s(p)},500),[s]);S.useEffect(function(){var p=function(h){var m=j(h,1),g=m[0];g!==n&&r(dt(g))};return t&&(t.events.error.add(function(v){r(vs(v))}),t.events.openErrorModal.add(function(v){r(Ln(v))}),r(dt("select-rectangle")),t.events.selectTool.dispatch(["select-rectangle"]),t.events.openMonomerConnectionModal.add(function(v){return r(Ht({name:"monomerConnection",additionalProps:v}))}),t.events.selectTool.add(p)),function(){r(dt(null)),t==null||t.events.selectTool.remove(p)}},[t]);var l=S.useCallback(function(p,v){var h={type:he.Bond,polymerBond:p,style:v};u(h)},[u]),c=S.useCallback(function(p){var v,h,m,g=(v=p.target.__data__)===null||v===void 0?void 0:v.polymerBond;if(!(g&&!g.finished||g instanceof Lf)){if(g){var b=Df(g,p.target.getBoundingClientRect());l(g,b);return}var y=(h=p.target.__data__)===null||h===void 0?void 0:h.node,C=((m=p.target.__data__)===null||m===void 0?void 0:m.monomer)||(y==null?void 0:y.monomer);if(!(y&&y instanceof Yu)){if(C instanceof wt){var x={type:he.AmbiguousMonomer,monomer:C.variantMonomerItem,target:p.target};u(x);return}var M=C.monomerItem,A=U9({},C.attachmentPointsToBonds),I=y instanceof In||y instanceof Pn;if(I){var P,k=y instanceof In?[y.sugar.monomerItem,y.rnaBase.monomerItem,(P=y.phosphate)===null||P===void 0?void 0:P.monomerItem]:[y.sugar.monomerItem,y.rnaBase.monomerItem];if(y.rnaBase instanceof wt){var N={type:he.AmbiguousMonomer,monomer:y.rnaBase.variantMonomerItem,presetMonomers:k,target:p.target};u(N);return}var O=a.find(function(R){var $=[R.sugar,R.base,R.phosphate];return k.every(function(q,L){var U;return(q==null?void 0:q.props.Name)===((U=$[L])===null||U===void 0?void 0:U.props.Name)})}),B;y instanceof Pn?B=ze.ChainEnd:y.firstMonomerInNode.R1AttachmentPoint!==void 0?B=ze.ChainStart:B=ze.ChainMiddle;var G={type:he.Preset,monomers:k,name:O==null?void 0:O.name,idtAliases:O==null?void 0:O.idtAliases,position:B,target:p.target};u(G);return}var D={type:he.Monomer,monomer:M,attachmentPointsToBonds:A,target:p.target};u(D)}}},[l,u,a]),d=S.useCallback(function(){u.cancel(),r(Yt(void 0))},[u,r]);return S.useEffect(function(){t==null||t.events.mouseOverMonomer.add(c),t==null||t.events.mouseLeaveMonomer.add(d),t==null||t.events.mouseOverSequenceItem.add(c),t==null||t.events.mouseLeaveSequenceItem.add(d),t==null||t.events.mouseOverPolymerBond.add(c),t==null||t.events.mouseLeavePolymerBond.add(d);var p=function(h){d();var m=h.buttons===1;(!m||!G9.includes(n))&&c(h)};return t==null||t.events.mouseOnMoveMonomer.add(p),t==null||t.events.mouseOnMoveSequenceItem.add(p),t==null||t.events.mouseOnMovePolymerBond.add(p),function(){t==null||t.events.mouseOverMonomer.remove(c),t==null||t.events.mouseLeaveMonomer.remove(d),t==null||t.events.mouseOnMoveMonomer.remove(p),t==null||t.events.mouseOnMoveSequenceItem.remove(p),t==null||t.events.mouseOnMovePolymerBond.remove(p),t==null||t.events.mouseOverSequenceItem.remove(c),t==null||t.events.mouseLeaveSequenceItem.remove(d),t==null||t.events.mouseOverPolymerBond.remove(c),t==null||t.events.mouseLeavePolymerBond.remove(d)}},[t,n,c,d]),S.useEffect(function(){o||t==null||t.events.resetSequenceEditMode.dispatch()},[o]),f(ee,{})},K9=function(t){var n=t.selectedMonomers,r=T(se),a=[{name:"copy",title:"Copy"},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:kr(n),hidden:function(u){var l,c=u.props;return!(c!=null&&(l=c.selectedMonomers)!==null&&l!==void 0&&l.some(function(d){return d instanceof fr&&Ia(d)||d instanceof kn&&dr(d)}))}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",separator:!0,disabled:kr(n),hidden:function(u){var l,c=u.props;return!(c!=null&&(l=c.selectedMonomers)!==null&&l!==void 0&&l.some(function(d){return d instanceof fr&&Ia(d)||d instanceof kn&&dr(d)}))}},{name:"delete",title:"Delete"}],o=function(u){var l=u.id;switch(l){case"copy":r.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain":r.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain":r.events.createAntisenseChain.dispatch(!0);break;case"delete":r.events.deleteSelectedStructure.dispatch();break}},i=document.querySelector(Lt);return i&&Lr.createPortal(f(Kr,{id:He.FOR_SELECTED_MONOMERS,handleMenuChange:o,menuItems:a}),i)},V9=w(Nr,{target:"e1846tr80"})(function(e){var t=e.theme,n=e.isActive;return{width:"40px",height:"31px",backgroundColor:n?t.ketcher.color.button.group.active:"white",marginRight:"8px",border:n?t.ketcher.outline.selected.color:t.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:n?t.ketcher.color.button.group.hover:"white"},":hover svg":{fill:n?"white":t.ketcher.color.button.group.active}}},""),Y9=function(){var t=T(se),n=S.useState(!0),r=j(n,2),a=r[0],o=r[1],i=cn(),s=i===Kt.sequence,u=T(pc),l=function(){var d=!a;o(d),t.events.toggleIsSequenceSyncEditMode.dispatch(d),_d()};return S.useEffect(function(){s&&u&&t.events.toggleIsSequenceSyncEditMode.dispatch(a)},[s,u]),s&&u?f(ee,{children:f(V9,{isActive:a,onClick:l,children:E("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:a?"white":"#333333",children:[f("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),f("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),f("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),f("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),f("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),f("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),f("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),f("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),f("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),f("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),f("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})})}):null},Z9=Tu(Y5);function e7(e){var t=e.onInit,n=e.theme,r=e.togglerComponent,a=e.monomersLibraryUpdate,o=S.useRef(null),i=n?xt.merge(bs,n):bs,s=xt.merge(Z9,{ketcher:i});return S.useEffect(function(){t==null||t()},[t]),f(vf,{store:V5,children:E(hf,{theme:s,children:[f(ff,{styles:Z5}),f(vP,{ref:o,className:pf,children:f(Q9,{theme:i,togglerComponent:r,monomersLibraryUpdate:a})})]})})}function Q9(e){var t=e.theme,n=e.togglerComponent,r=e.monomersLibraryUpdate,a=le(),o=S.useRef(null),i=T(x5),s=T(se),u=T(VM),l=bP(),c=S.useState(!1),d=j(c,2),p=d[0],v=d[1],h=o4(),m=S.useState(),g=j(m,2),b=g[0],y=g[1],C=S.useState([]),x=j(C,2),M=x[0],A=x[1],I=Jn({id:He.FOR_SEQUENCE}),P=I.show,k=Jn({id:He.FOR_POLYMER_BOND}),N=k.show,O=Jn({id:He.FOR_SELECTED_MONOMERS}),B=O.show;S.useEffect(function(){return a(UM({theme:t,canvas:o.current,monomersLibraryUpdate:r})),function(){a(GM(null))}},[a]),CP(),S.useEffect(function(){s==null||s.events.rightClickSequence.add(function(D){var R=j(D,2),$=R[0],q=R[1];y(q),P({event:$,props:{sequenceItemRenderer:$.target.__data__}})}),s==null||s.events.rightClickPolymerBond.add(function(D){var R=j(D,2),$=R[0],q=R[1];N({event:$,props:{polymerBondRenderer:q}})}),s==null||s.events.rightClickSelectedMonomers.add(function(D){var R=j(D,2),$=R[0],q=R[1];A(q),B({event:$,props:{selectedMonomers:q}})}),s==null||s.events.rightClickCanvas.add(function(D){P({event:D,props:{}})})},[s]),S.useEffect(function(){return s==null||s.zoomTool.observeCanvasResize(),function(){s==null||s.zoomTool.destroy()}},[s]);var G=function(){a(v5())};return E(ee,{children:[E(je,{children:[E(je.Top,{shortened:p,"data-testid":"top-toolbar",children:[f(O9,{}),E(mP,{children:[f(Y9,{}),f(FP,{}),f(k9,{}),f(gP,{className:h?"toggler-component-wrapper--disabled":"",children:n}),f(kP,{}),f($d,{}),f(q9,{})]})]}),f(je.Left,{children:f(N9,{})}),E(je.Main,{children:[f(W9,{}),E(yP,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas",preserveAspectRatio:"xMidYMid meet",ref:o,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[E("defs",{children:[f(oP,{}),f(aP,{}),f(iP,{}),f(sP,{}),f(uP,{}),f(lP,{}),f(cP,{}),f(fP,{}),f(dP,{})]}),f("g",{className:"drawn-structures"}),u&&f("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),l&&f(MP,{})]}),f(je.Right,{hide:p,children:f(dA,{})}),f(je.InsideRoot,{children:f(pA,{isHidden:p,onClick:function(){return v(function(R){return!R})}})})]}),f(P9,{}),f(VP,{selections:b}),f(H9,{}),f(K9,{selectedMonomers:M}),f(eP,{}),f(hP,{}),f(lh,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!i,onClose:G,autoHideDuration:6e3,children:E(tP,{id:"error-tooltip",children:[f(nP,{"data-testid":"error-tooltip",children:i}),f(rP,{iconName:"close",onClick:G})]})})]})}export{e7 as default};
